/**
 * @license jqGrid  4.7.0 - jQuery Grid
 * Copyright (c) 2008, Tony Tomov, tony@trirand.com
 * Dual licensed under the MIT and GPL licenses
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 * Date: 2014-12-08
 */
function tableToGrid(e,h){jQuery(e).each(function(){if(!this.grid){jQuery(this).width("99%");var e=jQuery(this).width(),t=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this)),i=jQuery("tr td:first-child input[type=radio]:first",jQuery(this)),r=0<t.length,a=!r&&0<i.length,o=r||a,n=[],s=[];jQuery("th",jQuery(this)).each(function(){0===n.length&&o?(n.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),s.push("__selection__")):(n.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),s.push(jQuery(this).html()))});var l,d=[],p=[],c=[];for(jQuery("tbody > tr",jQuery(this)).each(function(){var i={},r=0;jQuery("td",jQuery(this)).each(function(){if(0===r&&o){var e=jQuery("input",jQuery(this)),t=e.attr("value");p.push(t||d.length),e.is(":checked")&&c.push(t),i[n[r].name]=e.attr("value")}else i[n[r].name]=jQuery(this).html();r++}),0<r&&d.push(i)}),jQuery(this).empty(),jQuery(this).addClass("scroll"),jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:e,colNames:s,colModel:n,multiselect:r},h||{})),l=0;l<d.length;l++){var u=null;0<p.length&&(u=p[l])&&u.replace&&(u=encodeURIComponent(u).replace(/[.\-%]/g,"_")),null===u&&(u=l+1),jQuery(this).jqGrid("addRowData",u,d[l])}for(l=0;l<c.length;l++)jQuery(this).jqGrid("setSelection",c[l])}})}!function($){"use strict";$.jgrid=$.jgrid||{},$.extend($.jgrid,{version:"4.7.0",htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},format:function(e){var i=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,t){return i[t]})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e=-1,t=navigator.userAgent;return null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)),e},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],$.jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){return(e=String(e))?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):"":e},stripPref:function(e,t){var i=$.type(e);return"string"!==i&&"number"!==i||(t=""!==(e=String(e))?String(t).replace(String(e),""):t),t},parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),!0===$.jgrid.useJSON&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(e,t,i,r){var a,o,n,s=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),l="string"==typeof t?t.match(s):null,d=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},p={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},c=0,u=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t},h=0;if(void 0===r&&(r=$.jgrid.formatter.date),void 0===r.parseRe&&(r.parseRe=/[#%\\\/:_;.,\t\s-]/),r.masks.hasOwnProperty(e)&&(e=r.masks[e]),t&&null!=t)if(isNaN(t-0)||"u"!==String(e).toLowerCase())if(t.constructor===Date)c=t;else if(null!==l)c=new Date(parseInt(l[1],10)),l[3]&&(h=60*Number(l[5])+Number(l[6]),h*="-"===l[4]?1:-1,h-=c.getTimezoneOffset(),c.setTime(Number(Number(c)+60*h*1e3)));else{for("ISO8601Long"===r.srcformat&&"Z"===t.charAt(t.length-1)&&(h-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),o=0,n=(e=e.replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe)).length;o<n;o++)"M"===e[o]&&-1!==(a=$.inArray(t[o],r.monthNames))&&a<12&&(t[o]=a+1,p.m=t[o]),"F"===e[o]&&-1!==(a=$.inArray(t[o],r.monthNames,12))&&11<a&&(t[o]=a+1-12,p.m=t[o]),"a"===e[o]&&-1!==(a=$.inArray(t[o],r.AmPm))&&a<2&&t[o]===r.AmPm[a]&&(t[o]=a,p.h=u(t[o],p.h)),"A"===e[o]&&-1!==(a=$.inArray(t[o],r.AmPm))&&1<a&&t[o]===r.AmPm[a]&&(t[o]=a-2,p.h=u(t[o],p.h)),"g"===e[o]&&(p.h=parseInt(t[o],10)),void 0!==t[o]&&(p[e[o].toLowerCase()]=parseInt(t[o],10));if(p.f&&(p.m=p.f),0===p.m&&0===p.y&&0===p.d)return"&#160;";p.m=parseInt(p.m,10)-1;var f=p.y;70<=f&&f<=99?p.y=1900+p.y:0<=f&&f<=69&&(p.y=2e3+p.y),c=new Date(p.y,p.m,p.d,p.h,p.i,p.s,p.u),0<h&&c.setTime(Number(Number(c)+60*h*1e3))}else c=new Date(1e3*parseFloat(t));else c=new Date(p.y,p.m,p.d,p.h,p.i,p.s,p.u);if(r.userLocalTime&&0===h&&0<(h-=(new Date).getTimezoneOffset())&&c.setTime(Number(Number(c)+60*h*1e3)),void 0===i)return c;r.masks.hasOwnProperty(i)?i=r.masks[i]:i||(i="Y-m-d");var g=c.getHours(),m=c.getMinutes(),v=c.getDate(),b=c.getMonth()+1,w=c.getTimezoneOffset(),j=c.getSeconds(),y=c.getMilliseconds(),x=c.getDay(),q=c.getFullYear(),D=(x+6)%7+1,C=(new Date(q,b-1,v)-new Date(q,0,1))/864e5,_={d:d(v),D:r.dayNames[x],j:v,l:r.dayNames[x+7],N:D,S:r.S(v),w:x,z:C,W:D<5?Math.floor((C+D-1)/7)+1:Math.floor((C+D-1)/7)||((new Date(q-1,0,1).getDay()+6)%7<4?53:52),F:r.monthNames[b-1+12],m:d(b),M:r.monthNames[b-1],n:b,t:"?",L:"?",o:"?",Y:q,y:String(q).substring(2),a:g<12?r.AmPm[0]:r.AmPm[1],A:g<12?r.AmPm[2]:r.AmPm[3],B:"?",g:g%12||12,G:g,h:d(g%12||12),H:d(g),i:d(m),s:d(j),u:y,e:"?",I:"?",O:(0<w?"-":"+")+d(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),P:"?",T:(String(c).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(c/1e3)};return i.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(e){return _.hasOwnProperty(e)?_[e]:e.substring(1)})},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(e){return(e||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(e,t){var i,r,a=[];if("function"==typeof t)return t(e);if(void 0===(i=e[t]))try{if("string"==typeof t&&(a=t.split(".")),r=a.length)for(i=e;i&&r--;)i=i[a.shift()]}catch(e){}return i},getXmlData:function(e,t,i){var r,a="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof t?t(e):a&&a[2]?a[1]?$(a[1],e).attr(a[2]):$(e).attr(a[2]):(r=$(t,e),i?r:0<r.length?$(r).text():void 0)},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),t=e.appendTo("body").find("td").width();return e.remove(),.1<Math.abs(t-5)},cell_width:!0,ajaxOptions:{},from:function(source){var QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return 0<d.length&&(_useProperties="object"==typeof d[0]),this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+")"),_trim&&t.push(")"),_usecase||t.push(".toLowerCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toLowerCase()},this._funcLoop=function(i){var r=[];return $.each(_data,function(e,t){r.push(i(t))}),r},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_useProperties?_lastCommand(_lastField,e):_lastCommand(e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){var r=Object.prototype.toString;return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:("[object Date]"===r.call(e)&&"[object Date]"===r.call(t)||_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-i:t<e?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,r=_sorting[t].dir,a=_sorting[t].type,o=_sorting[t].datefmt,n=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,i,r,a,o,n);t++;var s,l,d,p=self._getGroup(e,i,r,a,o),c=[];for(s=0;s<p.length;s++)for(d=self._doSort(p[s].items,t),l=0;l<d.length;l++)c.push(d[l]);return c},this._getOrder=function(e,i,t,r,a,o){var n,s,l,d,p=[],c=[],u="a"===t?1:-1;void 0===r&&(r="text"),d="float"===r||"number"===r||"currency"===r||"numeric"===r?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===r||"integer"===r?function(e){return e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===r||"datetime"===r?function(e){return $.jgrid.parseDate(a,e).getTime()}:$.isFunction(r)?r:function(e){return e=e?$.trim(String(e)):"",_usecase?e:e.toLowerCase()},$.each(e,function(e,t){void 0===(s=""!==i?$.jgrid.getAccessor(t,i):t)&&(s=""),s=d(s,t),c.push({vSort:s,index:e})}),$.isFunction(o)?c.sort(function(e,t){return e=e.vSort,t=t.vSort,o.call(this,e,t,u)}):c.sort(function(e,t){return e=e.vSort,t=t.vSort,self._compare(e,t,u)}),l=0;for(var h=e.length;l<h;)n=c[l].index,p.push(e[n]),l++;return p},this._getGroup=function(e,i,t,r,a){var o,n=[],s=null,l=null;return $.each(self._getOrder(e,i,t,r,a),function(e,t){null==(o=$.jgrid.getAccessor(t,i))&&(o=""),self._equals(l,o)||(l=o,null!==s&&n.push(s),s=self._group(i,o)),s.items.push(t)}),null!==s&&n.push(s),n},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match||($.each(_data,function(){eval(match)&&results.push(this)}),_data=results),self},this.data=function(){return _data},this.select=function(i){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(i)){var r=[];return $.each(_data,function(e,t){r.push(i(t))}),r}return _data},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),0<_data.length)},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,r,a){var o;o=_useProperties?"jQuery.jgrid.getAccessor(this,'"+t+"')":"this",void 0===i&&(i=null);var n=i,s=void 0===a.stype?"text":a.stype;if(null!==i)switch(s){case"int":case"integer":o="parseInt("+o+",10)",n="parseInt("+(n=isNaN(Number(n))||""===n?"0":n)+",10)";break;case"float":case"number":case"numeric":n=String(n).replace(_stripNum,""),o="parseFloat("+o+")",n="parseFloat("+(n=isNaN(Number(n))||""===n?"0":n)+")";break;case"date":case"datetime":n=String($.jgrid.parseDate(a.newfmt||"Y-m-d",n).getTime()),o='jQuery.jgrid.parseDate("'+a.srcfmt+'",'+o+").getTime()";break;default:o=self._getStr(o),n=self._getStr('"'+self._toStr(n)+'"')}return self._append(o+" "+r+" "+n),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(t)+'"')):(null!=t&&(r=_trim?$.trim(t.toString()).length:t.toString().length),self._append(self._getStr("this")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(e)+'"'))),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".length-"+r+","+r+') == "'+self._toStr(t)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(e)+'".length,"'+self._toStr(e)+'".length) == "'+self._toStr(e)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+'.indexOf("'+self._toStr(t)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(e)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,r){return self._hasData()?self._getGroup(_data,e,t,i,r):null},this.orderBy=function(e,t,i,r,a){return null==i&&(i="text"),null==r&&(r="Y-m-d"),null==a&&(a=!1),"desc"!==(t=null==t?"a":$.trim(t.toString().toLowerCase()))&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:r,sfunc:a}),self},self};return new QueryObject(source,null)},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}}),$.fn.jqGrid=function(we){if("string"!=typeof we)return this.each(function(){if(!this.grid){var e;null!=we&&void 0!==we.data&&(e=we.data,we.data=[]);var u=$.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!1,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33},$.jgrid.defaults,we||{});void 0!==e&&(u.data=e,we.data=e);var Q=this,h={headers:[],cols:[],footers:[],dragStart:function(e,t,i){var r=$(this.bDiv).offset().left;this.resizing={idx:e,startX:t.pageX,sOL:t.pageX-r},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(u.id),"#gbox_"+$.jgrid.jqID(u.id)),this.curGbox.css({display:"block",left:t.pageX-r,top:i[1],height:i[2]}),$(Q).triggerHandler("jqGridResizeStart",[t,e]),$.isFunction(u.resizeStart)&&u.resizeStart.call(Q,t,e),document.onselectstart=function(){return!1}},dragMove:function(e){if(this.resizing){var t,i,r=e.pageX-this.resizing.startX,a=this.headers[this.resizing.idx],o="ltr"===u.direction?a.width+r:a.width-r;33<o&&(this.curGbox.css({left:this.resizing.sOL+r}),!0===u.forceFit?(t=this.headers[this.resizing.idx+u.nv],(i="ltr"===u.direction?t.width-r:t.width+r)>u.minColWidth&&(a.newWidth=o,t.newWidth=i)):(this.newWidth="ltr"===u.direction?u.tblwidth+r:u.tblwidth-r,a.newWidth=o))}},dragEnd:function(){if(this.hDiv.style.cursor="default",this.resizing){var e=this.resizing.idx,t=this.headers[e].newWidth||this.headers[e].width;t=parseInt(t,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(u.id)).css("display","none"),u.colModel[e].width=t,this.headers[e].width=t,this.headers[e].el.style.width=t+"px",this.cols[e].style.width=t+"px",0<this.footers.length&&(this.footers[e].style.width=t+"px"),!0===u.forceFit?(t=this.headers[e+u.nv].newWidth||this.headers[e+u.nv].width,this.headers[e+u.nv].width=t,this.headers[e+u.nv].el.style.width=t+"px",this.cols[e+u.nv].style.width=t+"px",0<this.footers.length&&(this.footers[e+u.nv].style.width=t+"px"),u.colModel[e+u.nv].width=t):(u.tblwidth=this.newWidth||u.tblwidth,$("table:first",this.bDiv).css("width",u.tblwidth+"px"),$("table:first",this.hDiv).css("width",u.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,u.footerrow&&($("table:first",this.sDiv).css("width",u.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),$(Q).triggerHandler("jqGridResizeStop",[t,e]),$.isFunction(u.resizeStop)&&u.resizeStop.call(Q,t,e)}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){h.timer&&clearTimeout(h.timer),h.timer=null;var e=$(h.bDiv).height();if(e){var t,i,r=$("table:first",h.bDiv);if(r[0].rows.length)try{i=(t=r[0].rows[1])&&$(t).outerHeight()||h.prevRowHeight}catch(e){i=h.prevRowHeight}if(i){h.prevRowHeight=i;var a,o,n,s=u.rowNum,l=h.scrollTop=h.bDiv.scrollTop,d=Math.round(r.position().top)-l,p=d+r.height(),c=i*s;if(p<e&&d<=0&&(void 0===u.lastpage||(parseInt((p+l+c-1)/c,10)||0)<=u.lastpage)&&(o=parseInt((e-p+c-1)/c,10)||1,d=0<=p||o<2||!0===u.scroll?(a=(Math.round((p+l)/c)||0)+1,-1):1),0<d&&(a=(parseInt(l/c,10)||0)+1,o=(parseInt((l+e)/c,10)||0)+2-a,n=!0),o){if(u.lastpage&&(a>u.lastpage||1===u.lastpage||a===u.page&&a===u.lastpage))return;h.hDiv.loading?h.timer=setTimeout(h.populateVisible,u.scrollTimeout):(u.page=a,n&&(h.selectionPreserver(r[0]),h.emptyRows.call(r[0],!1,!1)),h.populate(o))}}}},scrollGrid:function(e){if(u.scroll){var t=h.bDiv.scrollTop;void 0===h.scrollTop&&(h.scrollTop=0),t!==h.scrollTop&&(h.scrollTop=t,h.timer&&clearTimeout(h.timer),h.timer=setTimeout(h.populateVisible,u.scrollTimeout))}h.hDiv.scrollLeft=h.bDiv.scrollLeft,u.footerrow&&(h.sDiv.scrollLeft=h.bDiv.scrollLeft),e&&e.stopPropagation()},selectionPreserver:function(t){var i=t.p,r=i.selrow,a=i.selarrrow?$.makeArray(i.selarrrow):null,o=t.grid.bDiv.scrollLeft,n=function(){var e;if(i.selrow=null,i.selarrrow=[],i.multiselect&&a&&0<a.length)for(e=0;e<a.length;e++)a[e]!==r&&$(t).jqGrid("setSelection",a[e],!1,null);r&&$(t).jqGrid("setSelection",r,!1,null),t.grid.bDiv.scrollLeft=o,$(t).unbind(".selectionPreserver",n)};$(t).bind("jqGridGridComplete.selectionPreserver",n)}};if("TABLE"===this.tagName.toUpperCase()&&null!=this.id)if(void 0!==document.documentMode&&document.documentMode<=5)alert("Grid can not be used in this ('quirks') mode!");else{var t,m;if($(this).empty().attr("tabindex","0"),this.p=u,this.p.useProp=!!$.fn.prop,0===this.p.colNames.length)for(t=0;t<this.p.colModel.length;t++)this.p.colNames[t]=this.p.colModel[t].label||this.p.colModel[t].name;if(this.p.colNames.length===this.p.colModel.length){var i=$("<div class='ui-jqgrid-view' role='grid'></div>"),r=$.jgrid.msie;Q.p.direction=$.trim(Q.p.direction.toLowerCase()),-1===$.inArray(Q.p.direction,["ltr","rtl"])&&(Q.p.direction="ltr"),m=Q.p.direction,$(i).insertBefore(this),$(this).removeClass("scroll").appendTo(i);var a=$("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");$(a).attr({id:"gbox_"+this.id,dir:m}).insertBefore(i),$(i).attr("id","gview_"+this.id).appendTo(a),$("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'></div>").insertBefore(i),$("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"</div>").insertBefore(i),$(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"presentation","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var o,V=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},s=function(e,t,i,r,a,o){var n,s=Q.p.colModel[e],l=s.align,d='style="',p=s.classes,c=s.name,u=[];return l&&(d+="text-align:"+l+";"),!0===s.hidden&&(d+="display:none;"),0===t?d+="width: "+h.headers[e].width+"px;":($.isFunction(s.cellattr)||"string"==typeof s.cellattr&&null!=$.jgrid.cellattr&&$.isFunction($.jgrid.cellattr[s.cellattr]))&&(n=($.isFunction(s.cellattr)?s.cellattr:$.jgrid.cellattr[s.cellattr]).call(Q,a,i,r,s,o))&&"string"==typeof n&&(-1<(n=n.replace(/style/i,"style").replace(/title/i,"title")).indexOf("title")&&(s.title=!1),-1<n.indexOf("class")&&(p=void 0),2===(u=n.replace(/\-style/g,"-sti").split(/style/)).length?(u[1]=$.trim(u[1].replace(/\-sti/g,"-style").replace("=","")),0!==u[1].indexOf("'")&&0!==u[1].indexOf('"')||(u[1]=u[1].substring(1)),d+=u[1].replace(/'/gi,'"')):d+='"'),u.length||(u[0]="",d+='"'),d+=(void 0!==p?' class="'+p+'"':"")+(s.title&&i?' title="'+$.jgrid.stripHtml(i)+'"':""),(d+=' aria-describedby="'+Q.p.id+"_"+c+'"')+u[0]},l=function(e){return null==e||""===e?"&#160;":Q.p.autoencode?$.jgrid.htmlEncode(e):String(e)},d=function(e,t,i,r,a){var o,n=Q.p.colModel[i];if(void 0!==n.formatter){var s={rowId:e=""!==String(Q.p.idPrefix)?$.jgrid.stripPref(Q.p.idPrefix,e):e,colModel:n,gid:Q.p.id,pos:i};o=$.isFunction(n.formatter)?n.formatter.call(Q,t,s,r,a):$.fmatter?$.fn.fmatter.call(Q,n.formatter,t,s,r,a):l(t)}else o=l(t);return o},X=function(e,t,i,r,a,o){var n;return n=d(e,t,i,a,"add"),'<td role="gridcell" '+s(i,r,n,a,e,o)+">"+n+"</td>"},W=function(e,t,i,r){var a='<input role="checkbox" type="checkbox" id="jqg_'+Q.p.id+"_"+e+'" class="cbox" name="jqg_'+Q.p.id+"_"+e+'"'+(r?'checked="checked"':"")+"/>";return'<td role="gridcell" '+s(t,i,"",null,e,!0)+">"+a+"</td>"},Y=function(e,t,i,r){var a=(parseInt(i,10)-1)*parseInt(r,10)+1+t;return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+s(e,t,a,null,t,!0)+">"+a+"</td>"},U=function(e){var t,i,r=[],a=0;for(i=0;i<Q.p.colModel.length;i++)"cb"!==(t=Q.p.colModel[i]).name&&"subgrid"!==t.name&&"rn"!==t.name&&(r[a]="local"===e?t.name:"xml"===e||"xmlstring"===e?t.xmlmap||t.name:t.jsonmap||t.name,!1!==Q.p.keyName&&!0===t.key&&(Q.p.keyName=r[a]),a++);return r},K=function(t){var e=Q.p.remapColumns;return e&&e.length||(e=$.map(Q.p.colModel,function(e,t){return t})),t&&(e=$.map(e,function(e){return e<t?null:e-t})),e},J=function(e,t){var i;this.p.deepempty?$(this.rows).slice(1).remove():(i=0<this.rows.length?this.rows[0]:null,$(this.firstChild).empty().append(i)),e&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),!0===t&&this.p.treeGrid&&(this.p.data=[],this.p._index={})},n=function(){var e,t,i,r,a,o,n,s,l,d,p,c=Q.p,u=c.data,h=u.length,f=c.localReader,g=c.colModel,m=f.cell,v=(!0===c.multiselect?1:0)+(!0===c.subGrid?1:0)+(!0===c.rownumbers?1:0),b=c.scroll?$.jgrid.randId():1;if("local"===c.datatype&&!0===f.repeatitems)for(l=K(v),d=U("local"),r=!1===c.keyIndex?$.isFunction(f.id)?f.id.call(Q,u):f.id:c.keyIndex,e=0;e<h;e++){for(i=u[e],void 0===(a=$.jgrid.getAccessor(i,r))&&("number"==typeof r&&null!=g[r+v]&&(a=$.jgrid.getAccessor(i,g[r+v].name)),void 0===a&&(a=b+e,m&&(a=null!=(o=$.jgrid.getAccessor(i,m)||i)&&void 0!==o[r]?o[r]:a,o=null))),(s={})[f.id]=a,m&&(i=$.jgrid.getAccessor(i,m)||i),p=$.isArray(i)?l:d,t=0;t<p.length;t++)n=$.jgrid.getAccessor(i,p[t]),s[g[t+v].name]=n;$.extend(!0,u[e],s)}},p=function(){var e,t,i,r=Q.p.data.length;for(e=!1===Q.p.keyName||!0===Q.p.loadonce?Q.p.localReader.id:Q.p.keyName,Q.p._index=[],t=0;t<r;t++)void 0===(i=$.jgrid.getAccessor(Q.p.data[t],e))&&(i=String(t+1)),Q.p._index[i]=t},Z=function(e,t,i,r,a,o){var n,s="-1",l="",d=t?"display:none;":"",p="ui-widget-content jqgrow ui-row-"+Q.p.direction+(i?" "+i:"")+(o?" ui-state-highlight":""),c=$(Q).triggerHandler("jqGridRowAttr",[r,a,e]);if("object"!=typeof c&&(c=$.isFunction(Q.p.rowattr)?Q.p.rowattr.call(Q,r,a,e):"string"==typeof Q.p.rowattr&&null!=$.jgrid.rowattr&&$.isFunction($.jgrid.rowattr[Q.p.rowattr])?$.jgrid.rowattr[Q.p.rowattr].call(Q,r,a,e):{}),!$.isEmptyObject(c)){c.hasOwnProperty("id")&&(e=c.id,delete c.id),c.hasOwnProperty("tabindex")&&(s=c.tabindex,delete c.tabindex),c.hasOwnProperty("style")&&(d+=c.style,delete c.style),c.hasOwnProperty("class")&&(p+=" "+c.class,delete c.class);try{delete c.role}catch(e){}for(n in c)c.hasOwnProperty(n)&&(l+=" "+n+"="+c[n])}return'<tr role="row" id="'+e+'" tabindex="'+s+'" class="'+p+'"'+(""===d?"":' style="'+d+'"')+l+">"},v=function(e,t,i,r,a){var o=new Date,n="local"!==Q.p.datatype&&Q.p.loadonce||"xmlstring"===Q.p.datatype,s="_id_",l=Q.p.xmlReader,d="local"===Q.p.datatype?"local":"xml";if(n&&(Q.p.data=[],Q.p._index={},Q.p.localReader.id=s),Q.p.reccount=0,$.isXMLDoc(e)){i=-1!==Q.p.treeANode||Q.p.scroll?1<i?i:1:(J.call(Q,!1,!0),1);var p,c,u,h,f,g,m,v,b,w,j=$(Q),y=0,x=!0===Q.p.multiselect?1:0,q=0,D=!0===Q.p.rownumbers?1:0,C=[],_={},k=[],I=!0===Q.p.altRows?Q.p.altclass:"";!0===Q.p.subGrid&&(q=1,h=$.jgrid.getMethod("addSubGridCell")),l.repeatitems||(C=U(d)),f=!1===Q.p.keyName?$.isFunction(l.id)?l.id.call(Q,e):l.id:Q.p.keyName,g=-1===String(f).indexOf("[")?C.length?function(e,t){return $(f,e).text()||t}:function(e,t){return $(l.cell,e).eq(f).text()||t}:function(e,t){return e.getAttribute(f.replace(/[\[\]]/g,""))||t},Q.p.userData={},Q.p.page=V($.jgrid.getXmlData(e,l.page),Q.p.page),Q.p.lastpage=V($.jgrid.getXmlData(e,l.total),1),Q.p.records=V($.jgrid.getXmlData(e,l.records)),$.isFunction(l.userdata)?Q.p.userData=l.userdata.call(Q,e)||{}:$.jgrid.getXmlData(e,l.userdata,!0).each(function(){Q.p.userData[this.getAttribute("name")]=$(this).text()});var G=$.jgrid.getXmlData(e,l.root,!0);(G=$.jgrid.getXmlData(G,l.row,!0))||(G=[]);var F=G.length,S=0,R=[],M=parseInt(Q.p.rowNum,10),E=Q.p.scroll?$.jgrid.randId():1;if(0<F&&Q.p.page<=0&&(Q.p.page=1),G&&F){a&&(M*=a+1);var O,T=$.isFunction(Q.p.afterInsertRow),N=!1;for(Q.p.grouping&&(N=!0===Q.p.groupingView.groupCollapse,O=$.jgrid.getMethod("groupingPrepare"));S<F;){v=G[S],b=g(v,E+S),b=Q.p.idPrefix+b,w=((0===i?0:i+1)+S)%2==1?I:"";var A=k.length;if(k.push(""),D&&k.push(Y(0,S,Q.p.page,Q.p.rowNum)),x&&k.push(W(b,D,S,!1)),q&&k.push(h.call(j,x+D,S+i)),l.repeatitems){m||(m=K(x+q+D));var P=$.jgrid.getXmlData(v,l.cell,!0);$.each(m,function(e){var t=P[this];if(!t)return!1;u=t.textContent||t.text,_[Q.p.colModel[e+x+q+D].name]=u,k.push(X(b,u,e+x+q+D,S+i,v,_))})}else for(p=0;p<C.length;p++)u=$.jgrid.getXmlData(v,C[p]),_[Q.p.colModel[p+x+q+D].name]=u,k.push(X(b,u,p+x+q+D,S+i,v,_));if(k[A]=Z(b,N,w,_,v,!1),k.push("</tr>"),Q.p.grouping&&(R.push(k),Q.p.groupingView._locgr||O.call(j,_,S),k=[]),(n||!0===Q.p.treeGrid)&&(_[s]=$.jgrid.stripPref(Q.p.idPrefix,b),Q.p.data.push(_),Q.p._index[_[s]]=Q.p.data.length-1),!1===Q.p.gridview&&($("tbody:first",t).append(k.join("")),j.triggerHandler("jqGridAfterInsertRow",[b,_,v]),T&&Q.p.afterInsertRow.call(Q,b,_,v),k=[]),_={},S++,++y===M)break}}if(!0===Q.p.gridview&&(c=-1<Q.p.treeANode?Q.p.treeANode:0,Q.p.grouping?n||(j.jqGrid("groupingRender",R,Q.p.colModel.length,Q.p.page,M),R=null):!0===Q.p.treeGrid&&0<c?$(Q.rows[c]).after(k.join("")):(Q.firstElementChild.innerHTML+=k.join(""),Q.grid.cols=Q.rows[0].cells)),!0===Q.p.subGrid)try{j.jqGrid("addSubGrid",x+D)}catch(e){}if(Q.p.totaltime=new Date-o,0<y&&0===Q.p.records&&(Q.p.records=F),!(k=null)===Q.p.treeGrid)try{j.jqGrid("setTreeNode",c+1,y+c+1)}catch(e){}if(Q.p.reccount=y,Q.p.treeANode=-1,Q.p.userDataOnFooter&&j.jqGrid("footerData","set",Q.p.userData,!0),n&&(Q.p.records=F,Q.p.lastpage=Math.ceil(F/M)),r||Q.updatepager(!1,!0),n){for(;y<F;){if(v=G[y],b=g(v,y+E),b=Q.p.idPrefix+b,l.repeatitems){m||(m=K(x+q+D));var H=$.jgrid.getXmlData(v,l.cell,!0);$.each(m,function(e){var t=H[this];if(!t)return!1;u=t.textContent||t.text,_[Q.p.colModel[e+x+q+D].name]=u})}else for(p=0;p<C.length;p++)u=$.jgrid.getXmlData(v,C[p]),_[Q.p.colModel[p+x+q+D].name]=u;_[s]=$.jgrid.stripPref(Q.p.idPrefix,b),Q.p.grouping&&O.call(j,_,y),Q.p.data.push(_),Q.p._index[_[s]]=Q.p.data.length-1,_={},y++}Q.p.grouping&&(Q.p.groupingView._locgr=!0,j.jqGrid("groupingRender",R,Q.p.colModel.length,Q.p.page,M),R=null)}}},b=function(e,t,i,r,a){var o=new Date;if(e){i=-1!==Q.p.treeANode||Q.p.scroll?1<i?i:1:(J.call(Q,!1,!0),1);var n,s,l="_id_",d="local"!==Q.p.datatype&&Q.p.loadonce||"jsonstring"===Q.p.datatype;d&&(Q.p.data=[],Q.p._index={},Q.p.localReader.id=l),Q.p.reccount=0,s="local"===Q.p.datatype?(n=Q.p.localReader,"local"):(n=Q.p.jsonReader,"json");var p,c,u,h,f,g,m,v,b,w,j,y,x=$(Q),q=0,D=[],C=Q.p.multiselect?1:0,_=!0===Q.p.subGrid?1:0,k=!0===Q.p.rownumbers?1:0,I=K(C+_+k),G=U(s),F={},S=[],R=!0===Q.p.altRows?Q.p.altclass:"";Q.p.page=V($.jgrid.getAccessor(e,n.page),Q.p.page),Q.p.lastpage=V($.jgrid.getAccessor(e,n.total),1),Q.p.records=V($.jgrid.getAccessor(e,n.records)),Q.p.userData=$.jgrid.getAccessor(e,n.userdata)||{},_&&(f=$.jgrid.getMethod("addSubGridCell")),b=!1===Q.p.keyName?$.isFunction(n.id)?n.id.call(Q,e):n.id:Q.p.keyName,null==(v=$.jgrid.getAccessor(e,n.root))&&$.isArray(e)&&(v=e),v||(v=[]),(c=0)<(m=v.length)&&Q.p.page<=0&&(Q.p.page=1);var M,E=parseInt(Q.p.rowNum,10),O=Q.p.scroll?$.jgrid.randId():1,T=!1;a&&(E*=a+1),"local"!==Q.p.datatype||Q.p.deselectAfterSort||(T=!0);var N,A=$.isFunction(Q.p.afterInsertRow),P=[],H=!1;for(Q.p.grouping&&(H=!0===Q.p.groupingView.groupCollapse,N=$.jgrid.getMethod("groupingPrepare"));c<m;){if(h=v[c],void 0===(j=$.jgrid.getAccessor(h,b))&&("number"==typeof b&&null!=Q.p.colModel[b+C+_+k]&&(j=$.jgrid.getAccessor(h,Q.p.colModel[b+C+_+k].name)),void 0===j&&(j=O+c,0===D.length&&n.cell))){var L=$.jgrid.getAccessor(h,n.cell)||h;j=null!=L&&void 0!==L[b]?L[b]:j,L=null}j=Q.p.idPrefix+j,y=((1===i?0:i)+c)%2==1?R:"",T&&(M=Q.p.multiselect?-1!==$.inArray(j,Q.p.selarrrow):j===Q.p.selrow);var z=S.length;for(S.push(""),k&&S.push(Y(0,c,Q.p.page,Q.p.rowNum)),C&&S.push(W(j,k,c,M)),_&&S.push(f.call(x,C+k,c+i)),g=G,n.repeatitems&&(n.cell&&(h=$.jgrid.getAccessor(h,n.cell)||h),$.isArray(h)&&(g=I)),u=0;u<g.length;u++)p=$.jgrid.getAccessor(h,g[u]),F[Q.p.colModel[u+C+_+k].name]=p,S.push(X(j,p,u+C+_+k,c+i,h,F));if(S[z]=Z(j,H,y,F,h,M),S.push("</tr>"),Q.p.grouping&&(P.push(S),Q.p.groupingView._locgr||N.call(x,F,c),S=[]),(d||!0===Q.p.treeGrid)&&(F[l]=$.jgrid.stripPref(Q.p.idPrefix,j),Q.p.data.push(F),Q.p._index[F[l]]=Q.p.data.length-1),!1===Q.p.gridview&&($("#"+$.jgrid.jqID(Q.p.id)+" tbody:first").append(S.join("")),x.triggerHandler("jqGridAfterInsertRow",[j,F,h]),A&&Q.p.afterInsertRow.call(Q,j,F,h),S=[]),F={},c++,++q===E)break}if(!0===Q.p.gridview&&(w=-1<Q.p.treeANode?Q.p.treeANode:0,Q.p.grouping?d||(x.jqGrid("groupingRender",P,Q.p.colModel.length,Q.p.page,E),P=null):!0===Q.p.treeGrid&&0<w?$(Q.rows[w]).after(S.join("")):(Q.firstElementChild.innerHTML+=S.join(""),Q.grid.cols=Q.rows[0].cells)),!0===Q.p.subGrid)try{x.jqGrid("addSubGrid",C+k)}catch(e){}if(Q.p.totaltime=new Date-o,0<q&&0===Q.p.records&&(Q.p.records=m),!(S=null)===Q.p.treeGrid)try{x.jqGrid("setTreeNode",w+1,q+w+1)}catch(e){}if(Q.p.reccount=q,Q.p.treeANode=-1,Q.p.userDataOnFooter&&x.jqGrid("footerData","set",Q.p.userData,!0),d&&(Q.p.records=m,Q.p.lastpage=Math.ceil(m/E)),r||Q.updatepager(!1,!0),d){for(;q<m&&v[q];){if(h=v[q],void 0===(j=$.jgrid.getAccessor(h,b))&&("number"==typeof b&&null!=Q.p.colModel[b+C+_+k]&&(j=$.jgrid.getAccessor(h,Q.p.colModel[b+C+_+k].name)),void 0===j&&(j=O+q,0===D.length&&n.cell))){var B=$.jgrid.getAccessor(h,n.cell)||h;j=null!=B&&void 0!==B[b]?B[b]:j,B=null}if(h){for(j=Q.p.idPrefix+j,g=G,n.repeatitems&&(n.cell&&(h=$.jgrid.getAccessor(h,n.cell)||h),$.isArray(h)&&(g=I)),u=0;u<g.length;u++)F[Q.p.colModel[u+C+_+k].name]=$.jgrid.getAccessor(h,g[u]);F[l]=$.jgrid.stripPref(Q.p.idPrefix,j),Q.p.grouping&&N.call(x,F,q),Q.p.data.push(F),Q.p._index[F[l]]=Q.p.data.length-1,F={}}q++}Q.p.grouping&&(Q.p.groupingView._locgr=!0,x.jqGrid("groupingRender",P,Q.p.colModel.length,Q.p.page,E),P=null)}}},w=function(){Q.grid.hDiv.loading=!0,Q.p.hiddengrid||$(Q).jqGrid("progressBar",{method:"show",loadtype:Q.p.loadui,htmlcontent:Q.p.loadtext})},j=function(){Q.grid.hDiv.loading=!1,$(Q).jqGrid("progressBar",{method:"hide",loadtype:Q.p.loadui})},y=function(r){if(!Q.grid.hDiv.loading){var a,e,o=Q.p.scroll&&!1===r,t={},i=Q.p.prmNames;Q.p.page<=0&&(Q.p.page=Math.min(1,Q.p.lastpage)),null!==i.search&&(t[i.search]=Q.p.search),null!==i.nd&&(t[i.nd]=(new Date).getTime()),null!==i.rows&&(t[i.rows]=Q.p.rowNum),null!==i.page&&(t[i.page]=Q.p.page),null!==i.sort&&(t[i.sort]=Q.p.sortname),null!==i.order&&(t[i.order]=Q.p.sortorder),null!==Q.p.rowTotal&&null!==i.totalrows&&(t[i.totalrows]=Q.p.rowTotal);var n=$.isFunction(Q.p.loadComplete),s=n?Q.p.loadComplete:null,l=0;if(1<(r=r||1)?null!==i.npage?(t[i.npage]=r,l=r-1,r=1):s=function(e){Q.p.page++,Q.grid.hDiv.loading=!1,n&&Q.p.loadComplete.call(Q,e),y(r-1)}:null!==i.npage&&delete Q.p.postData[i.npage],Q.p.grouping){$(Q).jqGrid("groupingSetup");var d,p=Q.p.groupingView,c="";for(d=0;d<p.groupField.length;d++){var u=p.groupField[d];$.each(Q.p.colModel,function(e,t){t.name===u&&t.index&&(u=t.index)}),c+=u+" "+p.groupOrder[d]+", "}t[i.sort]=c+t[i.sort]}$.extend(Q.p.postData,t);var h=Q.p.scroll?Q.rows.length-1:1,f=$(Q).triggerHandler("jqGridBeforeRequest");if(!1===f||"stop"===f)return;if($.isFunction(Q.p.datatype))return void Q.p.datatype.call(Q,Q.p.postData,"load_"+Q.p.id,h,r,l);if($.isFunction(Q.p.beforeRequest)&&(void 0===(f=Q.p.beforeRequest.call(Q))&&(f=!0),!1===f))return;switch(a=Q.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:Q.p.url,type:Q.p.mtype,dataType:a,data:$.isFunction(Q.p.serializeGridData)?Q.p.serializeGridData.call(Q,Q.p.postData):Q.p.postData,success:function(e,t,i){$.isFunction(Q.p.beforeProcessing)&&!1===Q.p.beforeProcessing.call(Q,e,t,i)?j():("xml"===a?v(e,Q.grid.bDiv,h,1<r,l):b(e,Q.grid.bDiv,h,1<r,l),$(Q).triggerHandler("jqGridLoadComplete",[e]),s&&s.call(Q,e),$(Q).triggerHandler("jqGridAfterLoadComplete",[e]),o&&Q.grid.populateVisible(),(Q.p.loadonce||Q.p.treeGrid)&&(Q.p.datatype="local"),e=null,1===r&&j())},error:function(e,t,i){$.isFunction(Q.p.loadError)&&Q.p.loadError.call(Q,e,t,i),1===r&&j(),e=null},beforeSend:function(e,t){var i=!0;if($.isFunction(Q.p.loadBeforeSend)&&(i=Q.p.loadBeforeSend.call(Q,e,t)),void 0===i&&(i=!0),!1===i)return!1;w()}},$.jgrid.ajaxOptions,Q.p.ajaxGridOptions));break;case"xmlstring":w(),e="string"!=typeof Q.p.datastr?Q.p.datastr:$.parseXML(Q.p.datastr),v(e,Q.grid.bDiv),$(Q).triggerHandler("jqGridLoadComplete",[e]),n&&Q.p.loadComplete.call(Q,e),$(Q).triggerHandler("jqGridAfterLoadComplete",[e]),Q.p.datatype="local",Q.p.datastr=null,j();break;case"jsonstring":w(),e="string"==typeof Q.p.datastr?$.jgrid.parse(Q.p.datastr):Q.p.datastr,b(e,Q.grid.bDiv),$(Q).triggerHandler("jqGridLoadComplete",[e]),n&&Q.p.loadComplete.call(Q,e),$(Q).triggerHandler("jqGridAfterLoadComplete",[e]),Q.p.datatype="local",Q.p.datastr=null,j();break;case"local":case"clientside":w(),Q.p.datatype="local";var g=function(){var i,r,a,o=Q.p.multiSort?[]:"",n=[],s=!1,l={},d=[],p=[];if($.isArray(Q.p.data)){var c,u,h=!!Q.p.grouping&&Q.p.groupingView;if($.each(Q.p.colModel,function(){if(r=this.sorttype||"text",l[this.name]="date"===r||"datetime"===r?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(i=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.formatter.date.srcformat,a=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.formatter.date.newformat):i=a=this.datefmt||"Y-m-d",{stype:r,srcfmt:i,newfmt:a,sfunc:this.sortfunc||null}):{stype:r,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},Q.p.grouping)for(u=0,c=h.groupField.length;u<c;u++)if(this.name===h.groupField[u]){var e=this.name;this.index&&(e=this.index),d[u]=l[e],p[u]=e}if(Q.p.multiSort){if(this.lso){o.push(this.name);var t=this.lso.split("-");n.push(t[t.length-1])}}else s||this.index!==Q.p.sortname&&this.name!==Q.p.sortname||(o=this.name,s=!0)}),!Q.p.treeGrid){var f={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().equals:e.andNot().equals},in:function(e){return e.equals},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},g=$.jgrid.from(Q.p.data);if(Q.p.ignoreCase&&(g=g.ignoreCase()),!0===Q.p.search){var e=Q.p.postData.filters;if(e)"string"==typeof e&&(e=$.jgrid.parse(e)),function e(t){var i,r,a,o,n,s=0;if(null!=t.groups){for((r=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&g.orBegin(),i=0;i<t.groups.length;i++){0<s&&r&&g.or();try{e(t.groups[i])}catch(e){alert(e)}s++}r&&g.orEnd()}if(null!=t.rules)try{for((a=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&g.orBegin(),i=0;i<t.rules.length;i++)n=t.rules[i],o=t.groupOp.toString().toUpperCase(),f[n.op]&&n.field&&(0<s&&o&&"OR"===o&&(g=g.or()),g=f[n.op](g,o)(n.field,n.data,l[n.field])),s++;a&&g.orEnd()}catch(e){alert(e)}}(e);else try{g=f[Q.p.postData.searchOper](g)(Q.p.postData.searchField,Q.p.postData.searchString,l[Q.p.postData.searchField])}catch(e){}}if(Q.p.grouping)for(u=0;u<c;u++)g.orderBy(p[u],h.groupOrder[u],d[u].stype,d[u].srcfmt);Q.p.multiSort?$.each(o,function(e){g.orderBy(this,n[e],l[this].stype,l[this].srcfmt,l[this].sfunc)}):o&&Q.p.sortorder&&s&&("DESC"===Q.p.sortorder.toUpperCase()?g.orderBy(Q.p.sortname,"d",l[o].stype,l[o].srcfmt,l[o].sfunc):g.orderBy(Q.p.sortname,"a",l[o].stype,l[o].srcfmt,l[o].sfunc));var t=g.select(),m=parseInt(Q.p.rowNum,10),v=t.length,b=parseInt(Q.p.page,10),w=Math.ceil(v/m),j={};if((Q.p.search||Q.p.resetsearch)&&Q.p.grouping&&Q.p.groupingView._locgr){Q.p.groupingView.groups=[];var y,x,q,D=$.jgrid.getMethod("groupingPrepare");if(Q.p.footerrow&&Q.p.userDataOnFooter){for(x in Q.p.userData)Q.p.userData.hasOwnProperty(x)&&(Q.p.userData[x]=0);q=!0}for(y=0;y<v;y++){if(q)for(x in Q.p.userData)Q.p.userData[x]+=parseFloat(t[y][x]||0);D.call($(Q),t[y],y,m)}}return t=t.slice((b-1)*m,b*m),l=g=null,j[Q.p.localReader.total]=w,j[Q.p.localReader.page]=b,j[Q.p.localReader.records]=v,j[Q.p.localReader.root]=t,j[Q.p.localReader.userdata]=Q.p.userData,t=null,j}$(Q).jqGrid("SortTree",o,Q.p.sortorder,l[o].stype||"text",l[o].srcfmt||"")}}();b(g,Q.grid.bDiv,h,1<r,l),$(Q).triggerHandler("jqGridLoadComplete",[g]),s&&s.call(Q,g),$(Q).triggerHandler("jqGridAfterLoadComplete",[g]),o&&Q.grid.populateVisible(),j()}}},x=function(e){$("#cb_"+$.jgrid.jqID(Q.p.id),Q.grid.hDiv)[Q.p.useProp?"prop":"attr"]("checked",e),(Q.p.frozenColumns?Q.p.id+"_frozen":"")&&$("#cb_"+$.jgrid.jqID(Q.p.id),Q.grid.fhDiv)[Q.p.useProp?"prop":"attr"]("checked",e)},c=function(e,s){var t,i,r,a,o,n,l,d="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>",p="",c="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",u="",h=function(e){var t;return $.isFunction(Q.p.onPaging)&&(t=Q.p.onPaging.call(Q,e)),"stop"!==t&&(Q.p.selrow=null,Q.p.multiselect&&(Q.p.selarrrow=[],x(!1)),Q.p.savedRow=[],!0)};if(e=e.substr(1),s+="_"+e,t="pg_"+e,i=e+"_left",r=e+"_center",a=e+"_right",$("#"+$.jgrid.jqID(e)).append("<div id='"+t+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+i+"' align='left'></td><td id='"+r+"' align='center' style='white-space:pre;'></td><td id='"+a+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),0<Q.p.rowList.length){var f;for(u="<td dir='"+m+"'>",u+="<select class='ui-pg-selbox' role='listbox' "+(Q.p.pgrecs?"title='"+Q.p.pgrecs+"'":"")+">",l=0;l<Q.p.rowList.length;l++)1===(f=Q.p.rowList[l].toString().split(":")).length&&(f[1]=f[0]),u+='<option role="option" value="'+f[0]+'"'+(V(Q.p.rowNum,0)===V(f[0],0)?' selected="selected"':"")+">"+f[1]+"</option>";u+="</select></td>"}if("rtl"===m&&(c+=u),!0===Q.p.pginput&&(p="<td dir='"+m+"'>"+$.jgrid.format(Q.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(e)+"'></span>")+"</td>"),!0===Q.p.pgbuttons){var g=["first"+s,"prev"+s,"next"+s,"last"+s];"rtl"===m&&g.reverse(),c+="<td id='"+g[0]+"' class='ui-pg-button ui-corner-all' "+(Q.p.pgfirst?"title='"+Q.p.pgfirst+"'":"")+"><span class='ui-icon ui-icon-seek-first'></span></td>",c+="<td id='"+g[1]+"' class='ui-pg-button ui-corner-all' "+(Q.p.pgprev?"title='"+Q.p.pgprev+"'":"")+"><span class='ui-icon ui-icon-seek-prev'></span></td>",c+=""!==p?d+p+d:"",c+="<td id='"+g[2]+"' class='ui-pg-button ui-corner-all' "+(Q.p.pgnext?"title='"+Q.p.pgnext+"'":"")+"><span class='ui-icon ui-icon-seek-next'></span></td>",c+="<td id='"+g[3]+"' class='ui-pg-button ui-corner-all' "+(Q.p.pglast?"title='"+Q.p.pglast+"'":"")+"><span class='ui-icon ui-icon-seek-end'></span></td>"}else""!==p&&(c+=p);"ltr"===m&&(c+=u),c+="</tr></tbody></table>",!0===Q.p.viewrecords&&$("td#"+e+"_"+Q.p.recordpos,"#"+t).append("<div dir='"+m+"' style='text-align:"+Q.p.recordpos+"' class='ui-paging-info'></div>"),$("td#"+e+"_"+Q.p.pagerpos,"#"+t).append(c),n=$(".ui-jqgrid").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+n+";visibility:hidden;' ></div>"),o=$(c).clone().appendTo("#testpg").width(),$("#testpg").remove(),0<o&&(""!==p&&(o+=50),$("td#"+e+"_"+Q.p.pagerpos,"#"+t).width(o)),Q.p._nvtd=[],Q.p._nvtd[0]=o?Math.floor((Q.p.width-o)/2):Math.floor(Q.p.width/3),Q.p._nvtd[1]=0,c=null,$(".ui-pg-selbox","#"+t).bind("change",function(){return h("records")&&(Q.p.page=Math.round(Q.p.rowNum*(Q.p.page-1)/this.value-.5)+1,Q.p.rowNum=this.value,Q.p.pager&&$(".ui-pg-selbox",Q.p.pager).val(this.value),Q.p.toppager&&$(".ui-pg-selbox",Q.p.toppager).val(this.value),y()),!1}),!0===Q.p.pgbuttons&&($(".ui-pg-button","#"+t).hover(function(){$(this).hasClass("ui-state-disabled")?this.style.cursor="default":($(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){$(this).hasClass("ui-state-disabled")||($(this).removeClass("ui-state-hover"),this.style.cursor="default")}),$("#first"+$.jgrid.jqID(s)+", #prev"+$.jgrid.jqID(s)+", #next"+$.jgrid.jqID(s)+", #last"+$.jgrid.jqID(s)).click(function(){if($(this).hasClass("ui-state-disabled"))return!1;var e=V(Q.p.page,1),t=V(Q.p.lastpage,1),i=!1,r=!0,a=!0,o=!0,n=!0;return 0===t||1===t?n=o=a=r=!1:1<t&&1<=e?1===e?a=r=!1:e===t&&(n=o=!1):1<t&&0===e&&(n=o=!1,e=t-1),h(this.id)&&(this.id==="first"+s&&r&&(Q.p.page=1,i=!0),this.id==="prev"+s&&a&&(Q.p.page=e-1,i=!0),this.id==="next"+s&&o&&(Q.p.page=e+1,i=!0),this.id==="last"+s&&n&&(Q.p.page=t,i=!0),i&&y()),!1})),!0===Q.p.pginput&&$("input.ui-pg-input","#"+t).keypress(function(e){return 13===(e.charCode||e.keyCode||0)?(h("user")&&($(this).val(V($(this).val(),1)),Q.p.page=0<$(this).val()?$(this).val():Q.p.page,y()),!1):this})},f=function(e,t,i,r,a){if(Q.p.colModel[t].sortable&&!(0<Q.p.savedRow.length)){if(i||(Q.p.lastsort===t&&""!==Q.p.sortname?"asc"===Q.p.sortorder?Q.p.sortorder="desc":"desc"===Q.p.sortorder&&(Q.p.sortorder="asc"):Q.p.sortorder=Q.p.colModel[t].firstsortorder||"asc",Q.p.page=1),Q.p.multiSort)s=t,l=a,c="",u=Q.p.colModel,h=!1,f=Q.p.frozenColumns?l:Q.grid.headers[s].el,g="",$("span.ui-grid-ico-sort",f).addClass("ui-state-disabled"),$(f).attr("aria-selected","false"),u[s].lso?"asc"===u[s].lso?(u[s].lso+="-desc",g="desc"):"desc"===u[s].lso?(u[s].lso+="-asc",g="asc"):"asc-desc"!==u[s].lso&&"desc-asc"!==u[s].lso||(u[s].lso=""):u[s].lso=g=u[s].firstsortorder||"asc",g?($("span.s-ico",f).show(),$("span.ui-icon-"+g,f).removeClass("ui-state-disabled"),$(f).attr("aria-selected","true")):Q.p.viewsortcols[0]||$("span.s-ico",f).hide(),Q.p.sortorder="",$.each(u,function(e){this.lso&&(0<e&&h&&(c+=", "),d=this.lso.split("-"),c+=u[e].index||u[e].name,c+=" "+d[d.length-1],h=!0,Q.p.sortorder=d[d.length-1])}),p=c.lastIndexOf(Q.p.sortorder),c=c.substring(0,p),Q.p.sortname=c;else{if(r){if(Q.p.lastsort===t&&Q.p.sortorder===r&&!i)return;Q.p.sortorder=r}var o=Q.grid.headers[Q.p.lastsort].el,n=Q.p.frozenColumns?a:Q.grid.headers[t].el;$("span.ui-grid-ico-sort",o).addClass("ui-state-disabled"),$(o).attr("aria-selected","false"),Q.p.frozenColumns&&(Q.grid.fhDiv.find("span.ui-grid-ico-sort").addClass("ui-state-disabled"),Q.grid.fhDiv.find("th").attr("aria-selected","false")),$("span.ui-icon-"+Q.p.sortorder,n).removeClass("ui-state-disabled"),$(n).attr("aria-selected","true"),Q.p.viewsortcols[0]||(Q.p.lastsort!==t?(Q.p.frozenColumns&&Q.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",o).hide(),$("span.s-ico",n).show()):""===Q.p.sortname&&$("span.s-ico",n).show()),e=e.substring(5+Q.p.id.length+1),Q.p.sortname=Q.p.colModel[t].index||e}var s,l,d,p,c,u,h,f,g;if("stop"!==$(Q).triggerHandler("jqGridSortCol",[Q.p.sortname,t,Q.p.sortorder]))if($.isFunction(Q.p.onSortCol)&&"stop"===Q.p.onSortCol.call(Q,Q.p.sortname,t,Q.p.sortorder))Q.p.lastsort=t;else{if("local"===Q.p.datatype?Q.p.deselectAfterSort&&$(Q).jqGrid("resetSelection"):(Q.p.selrow=null,Q.p.multiselect&&x(!1),Q.p.selarrrow=[],Q.p.savedRow=[]),Q.p.scroll){var m=Q.grid.bDiv.scrollLeft;J.call(Q,!0,!1),Q.grid.hDiv.scrollLeft=m}Q.p.subGrid&&"local"===Q.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(Q.p.id)).each(function(){$(this).trigger("click")}),y(),Q.p.lastsort=t,Q.p.sortname!==e&&t&&(Q.p.lastsort=t)}else Q.p.lastsort=t}},g=function(e){var t,i=Q.grid.headers,r=$.jgrid.getCellIndex(e);for(t=0;t<i.length;t++)if(e===i[t].el){r=t;break}return r};for(this.p.id=this.id,-1===$.inArray(Q.p.multikey,["shiftKey","altKey","ctrlKey"])&&(Q.p.multikey=!1),Q.p.keyName=!1,t=0;t<Q.p.colModel.length;t++)o="string"==typeof Q.p.colModel[t].template?null!=$.jgrid.cmTemplate&&"object"==typeof $.jgrid.cmTemplate[Q.p.colModel[t].template]?$.jgrid.cmTemplate[Q.p.colModel[t].template]:{}:Q.p.colModel[t].template,Q.p.colModel[t]=$.extend(!0,{},Q.p.cmTemplate,o||{},Q.p.colModel[t]),!1===Q.p.keyName&&!0===Q.p.colModel[t].key&&(Q.p.keyName=Q.p.colModel[t].name);if(Q.p.sortorder=Q.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),!0===Q.p.grouping&&(Q.p.scroll=!1,Q.p.rownumbers=!1,Q.p.treeGrid=!1,Q.p.gridview=!0),!0===this.p.treeGrid){try{$(this).jqGrid("setTreeGrid")}catch(e){}"local"!==Q.p.datatype&&(Q.p.localReader={id:"_id_"})}if(this.p.subGrid)try{$(Q).jqGrid("setSubGrid")}catch(e){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?Q.p.multiselectWidth+Q.p.cellLayout:Q.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:Q.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),Q.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},Q.p.xmlReader),Q.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},Q.p.jsonReader),Q.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},Q.p.localReader),Q.p.scroll&&(Q.p.pgbuttons=!1,Q.p.pginput=!1,Q.p.rowList=[]),Q.p.data.length&&(n(),p());var q,D,C,_,k,I,G,F,S,R,M,E,O,T,N,A,P,H,L,z="<thead><tr class='ui-jqgrid-labels' role='row'>",B="",ee="",te=[],ie=[],re=[];if(!0===Q.p.shrinkToFit&&!0===Q.p.forceFit)for(t=Q.p.colModel.length-1;0<=t;t--)if(!Q.p.colModel[t].hidden){Q.p.colModel[t].resizable=!1;break}if("horizontal"===Q.p.viewsortcols[1]&&(B=" ui-i-asc",ee=" ui-i-desc"),q=r?"class='ui-th-div-ie'":"",S="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+B+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+m+"'></span>",S+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+ee+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+m+"'></span></span>",Q.p.multiSort)for(te=Q.p.sortname.split(","),t=0;t<te.length;t++)re=$.trim(te[t]).split(" "),te[t]=$.trim(re[0]),ie[t]=re[1]?$.trim(re[1]):Q.p.sortorder||"asc";for(t=0;t<this.p.colNames.length;t++){var ae=Q.p.headertitles?' title="'+$.jgrid.stripHtml(Q.p.colNames[t])+'"':"";z+="<th id='"+Q.p.id+"_"+Q.p.colModel[t].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+m+"'"+ae+">",D=Q.p.colModel[t].index||Q.p.colModel[t].name,z+="<div id='jqgh_"+Q.p.id+"_"+Q.p.colModel[t].name+"' "+q+">"+Q.p.colNames[t],Q.p.colModel[t].width?Q.p.colModel[t].width=parseInt(Q.p.colModel[t].width,10):Q.p.colModel[t].width=150,"boolean"!=typeof Q.p.colModel[t].title&&(Q.p.colModel[t].title=!0),Q.p.colModel[t].lso="",D===Q.p.sortname&&(Q.p.lastsort=t),Q.p.multiSort&&-1!==(re=$.inArray(D,te))&&(Q.p.colModel[t].lso=ie[re]),z+=S+"</div></th>"}if(z+="</tr></thead>",S=null,$(this).append(z),$("thead tr:first th",this).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}),this.p.multiselect){var oe,ne=[];$("#cb_"+$.jgrid.jqID(Q.p.id),this).bind("click",function(){Q.p.selarrrow=[];var t=!0===Q.p.frozenColumns?Q.p.id+"_frozen":"";this.checked?($(Q.rows).each(function(e){0<e&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass("ui-state-disabled")||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+$.jgrid.jqID(this.id))[Q.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass("ui-state-highlight").attr("aria-selected","true"),Q.p.selarrrow.push(this.id),Q.p.selrow=this.id,t&&($("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+$.jgrid.jqID(this.id),Q.grid.fbDiv)[Q.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),Q.grid.fbDiv).addClass("ui-state-highlight"))))}),oe=!0,ne=[]):($(Q.rows).each(function(e){0<e&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass("ui-state-disabled")||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+$.jgrid.jqID(this.id))[Q.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass("ui-state-highlight").attr("aria-selected","false"),ne.push(this.id),t&&($("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+$.jgrid.jqID(this.id),Q.grid.fbDiv)[Q.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),Q.grid.fbDiv).removeClass("ui-state-highlight"))))}),Q.p.selrow=null,oe=!1),$(Q).triggerHandler("jqGridSelectAll",[oe?Q.p.selarrrow:ne,oe]),$.isFunction(Q.p.onSelectAll)&&Q.p.onSelectAll.call(Q,oe?Q.p.selarrrow:ne,oe)})}if(!0===Q.p.autowidth){var se=$(a).innerWidth();Q.p.width=0<se?se:"nw"}T=0,N=$.jgrid.cell_width?0:V(Q.p.cellLayout,0),A=0,P=V(Q.p.scrollOffset,0),H=!1,L=0,$.each(Q.p.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),Q.p.grouping&&Q.p.autowidth){var e=$.inArray(this.name,Q.p.groupingView.groupField);0<=e&&Q.p.groupingView.groupColumnShow.length>e&&(this.hidden=!Q.p.groupingView.groupColumnShow[e])}this.widthOrg=M=V(this.width,0),!1===this.hidden&&(T+=M+N,this.fixed?L+=M+N:A++)}),isNaN(Q.p.width)&&(Q.p.width=T+(!1!==Q.p.shrinkToFit||isNaN(Q.p.height)?0:P)),h.width=Q.p.width,Q.p.tblwidth=T,!1===Q.p.shrinkToFit&&!0===Q.p.forceFit&&(Q.p.forceFit=!1),!0===Q.p.shrinkToFit&&0<A&&(E=h.width-N*A-L,isNaN(Q.p.height)||(E-=P,H=!0),T=0,$.each(Q.p.colModel,function(e){!1!==this.hidden||this.fixed||(M=Math.round(E*this.width/(Q.p.tblwidth-N*A-L)),this.width=M,T+=M,R=e)}),O=0,H?h.width-L-(T+N*A)!==P&&(O=h.width-L-(T+N*A)-P):H||1===Math.abs(h.width-L-(T+N*A))||(O=h.width-L-(T+N*A)),Q.p.colModel[R].width+=O,Q.p.tblwidth=T+O+N*A+L,Q.p.tblwidth>Q.p.width&&(Q.p.colModel[R].width-=Q.p.tblwidth-parseInt(Q.p.width,10),Q.p.tblwidth=Q.p.width)),$(a).css("width",h.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+Q.p.id+"'>&#160;</div>"),$(i).css("width",h.width+"px"),z=$("thead:first",Q).get(0);var le="";Q.p.footerrow&&(le+="<table role='presentation' style='width:"+Q.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+m+"'>");var de=$("tr:first",z),pe="<tr class='jqgfirstrow' role='row' style='height:auto'>";if(Q.p.disableClick=!1,$("th",de).each(function(e){C=Q.p.colModel[e].width,void 0===Q.p.colModel[e].resizable&&(Q.p.colModel[e].resizable=!0),Q.p.colModel[e].resizable?(_=document.createElement("span"),$(_).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+m).css("cursor","col-resize"),$(this).addClass(Q.p.resizeclass)):_="",$(this).css("width",C+"px").prepend(_),_=null;var t="";Q.p.colModel[e].hidden&&($(this).css("display","none"),t="display:none;"),pe+="<td role='gridcell' style='height:0px;width:"+C+"px;"+t+"'></td>",h.headers[e]={width:C,el:this},"boolean"!=typeof(k=Q.p.colModel[e].sortable)&&(Q.p.colModel[e].sortable=!0,k=!0);var i=Q.p.colModel[e].name;"cb"!==i&&"subgrid"!==i&&"rn"!==i&&Q.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),k&&(Q.p.multiSort?Q.p.viewsortcols[0]?($("div span.s-ico",this).show(),Q.p.colModel[e].lso&&$("div span.ui-icon-"+Q.p.colModel[e].lso,this).removeClass("ui-state-disabled")):Q.p.colModel[e].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+Q.p.colModel[e].lso,this).removeClass("ui-state-disabled")):Q.p.viewsortcols[0]?($("div span.s-ico",this).show(),e===Q.p.lastsort&&$("div span.ui-icon-"+Q.p.sortorder,this).removeClass("ui-state-disabled")):e===Q.p.lastsort&&""!==Q.p.sortname&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+Q.p.sortorder,this).removeClass("ui-state-disabled"))),Q.p.footerrow&&(le+="<td role='gridcell' "+s(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length){var t,i,r,a=g(this);return!0===Q.p.forceFit&&(Q.p.nv=function(e){var t,i=e,r=e;for(t=e+1;t<Q.p.colModel.length;t++)if(!0!==Q.p.colModel[t].hidden){r=t;break}return r-i}(a)),h.dragStart(a,e,(t=a,i=$(Q.grid.headers[t].el),r=[i.position().left+i.outerWidth()],"rtl"===Q.p.direction&&(r[0]=Q.p.width-r[0]),r[0]-=Q.grid.bDiv.scrollLeft,r.push($(Q.grid.hDiv).position().top),r.push($(Q.grid.bDiv).offset().top-$(Q.grid.hDiv).offset().top+$(Q.grid.bDiv).height()),r)),!1}}).click(function(e){if(Q.p.disableClick)return Q.p.disableClick=!1;var t,i,r="th>div.ui-jqgrid-sortable";Q.p.viewsortcols[2]||(r="th>div>span>span.ui-grid-ico-sort");var a=$(e.target).closest(r);if(1===a.length){var o;if(Q.p.frozenColumns){var n=$(this)[0].id.substring(Q.p.id.length+1);$(Q.p.colModel).each(function(e){if(this.name===n)return o=e,!1})}else o=g(this);return Q.p.viewsortcols[2]||(t=!0,i=a.attr("sort")),null!=o&&f($("div",this)[0].id,o,t,i,this),!1}}),Q.p.sortable&&$.fn.sortable)try{$(Q).jqGrid("sortableColumns",de)}catch(e){}Q.p.footerrow&&(le+="</tr></tbody></table>"),pe+="</tr>",F=document.createElement("tbody"),this.appendChild(F),$(this).addClass("ui-jqgrid-btable").append(pe),pe=null;var ce,ue,he,fe=$("<table class='ui-jqgrid-htable' style='width:"+Q.p.tblwidth+"px' role='presentation' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(z),ge=!(!Q.p.caption||!0!==Q.p.hiddengrid),me=$("<div class='ui-jqgrid-hbox"+("rtl"===m?"-rtl":"")+"'></div>");z=null,h.hDiv=document.createElement("div"),$(h.hDiv).css({width:h.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(me),$(me).append(fe),fe=null,ge&&$(h.hDiv).hide(),Q.p.pager&&("string"==typeof Q.p.pager?"#"!==Q.p.pager.substr(0,1)&&(Q.p.pager="#"+Q.p.pager):Q.p.pager="#"+$(Q.p.pager).attr("id"),$(Q.p.pager).css({width:h.width+"px"}).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom").appendTo(a),ge&&$(Q.p.pager).hide(),c(Q.p.pager,"")),!1===Q.p.cellEdit&&!0===Q.p.hoverrows&&$(Q).bind("mouseover",function(e){G=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(G).attr("class")&&$(G).addClass("ui-state-hover")}).bind("mouseout",function(e){G=$(e.target).closest("tr.jqgrow"),$(G).removeClass("ui-state-hover")}),$(Q).before(h.hDiv).click(function(e){if(I=e.target,G=$(I,Q.rows).closest("tr.jqgrow"),0===$(G).length||-1<G[0].className.indexOf("ui-state-disabled")||($(I,Q).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==Q.id)return this;var t=$(I).hasClass("cbox"),i=$(Q).triggerHandler("jqGridBeforeSelectRow",[G[0].id,e]);if(i=!1!==i&&"stop"!==i,$.isFunction(Q.p.beforeSelectRow)){var r=Q.p.beforeSelectRow.call(Q,G[0].id,e);!1!==r&&"stop"!==r||(i=!1)}if("A"!==I.tagName&&("INPUT"!==I.tagName&&"TEXTAREA"!==I.tagName&&"OPTION"!==I.tagName&&"SELECT"!==I.tagName||t))if(ce=G[0].id,0<(I=$(I).closest("tr.jqgrow>td")).length&&(ue=$.jgrid.getCellIndex(I),he=$(I).closest("td,th").html(),$(Q).triggerHandler("jqGridCellSelect",[ce,ue,he,e]),$.isFunction(Q.p.onCellSelect)&&Q.p.onCellSelect.call(Q,ce,ue,he,e)),!0!==Q.p.cellEdit){if(i)if(Q.p.multikey)e[Q.p.multikey]?$(Q).jqGrid("setSelection",ce,!0,e):Q.p.multiselect&&t&&(t=$("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+ce).is(":checked"),$("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+ce)[Q.p.useProp?"prop":"attr"]("checked",t));else if(Q.p.multiselect&&Q.p.multiboxonly)if(t)$(Q).jqGrid("setSelection",ce,!0,e);else{var a=Q.p.frozenColumns?Q.p.id+"_frozen":"";$(Q.p.selarrrow).each(function(e,t){var i=$(Q).jqGrid("getGridRowById",t);i&&$(i).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+$.jgrid.jqID(t))[Q.p.useProp?"prop":"attr"]("checked",!1),a&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(a)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(a))[Q.p.useProp?"prop":"attr"]("checked",!1))}),Q.p.selarrrow=[],$(Q).jqGrid("setSelection",ce,!0,e)}else $(Q).jqGrid("setSelection",ce,!0,e)}else if(Q.p.multiselect&&t&&i)$(Q).jqGrid("setSelection",ce,!0,e);else if(0<I.length){ce=G[0].rowIndex;try{$(Q).jqGrid("editCell",ce,ue,!1)}catch(e){}}}).bind("reloadGrid",function(e,t){if(!0===Q.p.treeGrid&&(Q.p.datatype=Q.p.treedatatype),t&&t.current&&Q.grid.selectionPreserver(Q),"local"===Q.p.datatype?($(Q).jqGrid("resetSelection"),Q.p.data.length&&(n(),p())):Q.p.treeGrid||(Q.p.selrow=null,Q.p.multiselect&&(Q.p.selarrrow=[],x(!1)),Q.p.savedRow=[]),Q.p.scroll&&J.call(Q,!0,!1),t&&t.page){var i=t.page;i>Q.p.lastpage&&(i=Q.p.lastpage),i<1&&(i=1),Q.p.page=i,Q.grid.prevRowHeight?Q.grid.bDiv.scrollTop=(i-1)*Q.grid.prevRowHeight*Q.p.rowNum:Q.grid.bDiv.scrollTop=0}return Q.grid.prevRowHeight&&Q.p.scroll?(delete Q.p.lastpage,Q.grid.populateVisible()):Q.grid.populate(),!0===Q.p._inlinenav&&$(Q).jqGrid("showAddEditButtons"),!1}).dblclick(function(e){if(I=e.target,G=$(I,Q.rows).closest("tr.jqgrow"),0!==$(G).length){ce=G[0].rowIndex,ue=$.jgrid.getCellIndex(I);var t=$(Q).triggerHandler("jqGridDblClickRow",[$(G).attr("id"),ce,ue,e]);if(null!=t)return t;if($.isFunction(Q.p.ondblClickRow)&&null!=(t=Q.p.ondblClickRow.call(Q,$(G).attr("id"),ce,ue,e)))return t;if(!0===Q.p.cellEdit){var i=$(I).hasClass("cbox"),r=$(Q).triggerHandler("jqGridBeforeSelectRow",[G[0].id,e]);if(r=!1!==r&&"stop"!==r,$.isFunction(Q.p.beforeSelectRow)){var a=Q.p.beforeSelectRow.call(Q,G[0].id,e);!1!==a&&"stop"!==a||(r=!1)}if(I=$(I).closest("tr.jqgrow>td"),Q.p.multiselect&&i&&r)$(Q).jqGrid("setSelection",ce,!0,e);else if(0<I.length){ce=G[0].rowIndex;try{$(Q).jqGrid("editCell",ce,ue,!0)}catch(e){}}}}}).bind("contextmenu",function(e){if(I=e.target,G=$(I,Q.rows).closest("tr.jqgrow"),0!==$(G).length){Q.p.multiselect||$(Q).jqGrid("setSelection",G[0].id,!0,e),ce=G[0].rowIndex,ue=$.jgrid.getCellIndex(I);var t=$(Q).triggerHandler("jqGridRightClickRow",[$(G).attr("id"),ce,ue,e]);return null!=t?t:$.isFunction(Q.p.onRightClickRow)&&null!=(t=Q.p.onRightClickRow.call(Q,$(G).attr("id"),ce,ue,e))?t:void 0}}),h.bDiv=document.createElement("div"),r&&"auto"===String(Q.p.height).toLowerCase()&&(Q.p.height="100%"),$(h.bDiv).append($('<div style="position:relative;'+(r&&$.jgrid.msiever()<8?"height:0.01%;":"")+'"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:Q.p.height+(isNaN(Q.p.height)?"":"px"),width:h.width+"px"}).scroll(h.scrollGrid),$("table:first",h.bDiv).css({width:Q.p.tblwidth+"px"}),$.support.tbody||2===$("tbody",this).length&&$("tbody:gt(0)",this).remove(),Q.p.multikey&&($.jgrid.msie?$(h.bDiv).bind("selectstart",function(){return!1}):$(h.bDiv).bind("mousedown",function(){return!1})),ge&&$(h.bDiv).hide(),h.cDiv=document.createElement("div");var ve=!0===Q.p.hidegrid?$("<a role='link' class='ui-jqgrid-titlebar-close ui-corner-all HeaderButton' "+(Q.p.showhide?"title='"+Q.p.showhide+"'":"")+" />").hover(function(){ve.addClass("ui-state-hover")},function(){ve.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css("rtl"===m?"left":"right","0px"):"";if($(h.cDiv).append(ve).append("<span class='ui-jqgrid-title'>"+Q.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===m?"-rtl":"")+" ui-widget-header ui-corner-top ui-helper-clearfix"),$(h.cDiv).insertBefore(h.hDiv),Q.p.toolbar[0]&&(h.uDiv=document.createElement("div"),"top"===Q.p.toolbar[1]?$(h.uDiv).insertBefore(h.hDiv):"bottom"===Q.p.toolbar[1]&&$(h.uDiv).insertAfter(h.hDiv),"both"===Q.p.toolbar[1]?(h.ubDiv=document.createElement("div"),$(h.uDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id).insertBefore(h.hDiv),$(h.ubDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id).insertAfter(h.hDiv),ge&&$(h.ubDiv).hide()):$(h.uDiv).width(h.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),ge&&$(h.uDiv).hide()),Q.p.toppager&&(Q.p.toppager=$.jgrid.jqID(Q.p.id)+"_toppager",h.topDiv=$("<div id='"+Q.p.toppager+"'></div>")[0],Q.p.toppager="#"+Q.p.toppager,$(h.topDiv).addClass("ui-state-default ui-jqgrid-toppager").width(h.width).insertBefore(h.hDiv),c(Q.p.toppager,"_t")),Q.p.footerrow&&(h.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],me=$("<div class='ui-jqgrid-hbox"+("rtl"===m?"-rtl":"")+"'></div>"),$(h.sDiv).append(me).width(h.width).insertAfter(h.hDiv),$(me).append(le),h.footers=$(".ui-jqgrid-ftable",h.sDiv)[0].rows[0].cells,Q.p.rownumbers&&(h.footers[0].className="ui-state-default jqgrid-rownum"),ge&&$(h.sDiv).hide()),me=null,Q.p.caption){var be=Q.p.datatype;!0===Q.p.hidegrid&&($(".ui-jqgrid-titlebar-close",h.cDiv).click(function(e){var t,i=$.isFunction(Q.p.onHeaderClick),r=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",a=this;return!0===Q.p.toolbar[0]&&("both"===Q.p.toolbar[1]&&(r+=", #"+$(h.ubDiv).attr("id")),r+=", #"+$(h.uDiv).attr("id")),t=$(r,"#gview_"+$.jgrid.jqID(Q.p.id)).length,"visible"===Q.p.gridstate?$(r,"#gbox_"+$.jgrid.jqID(Q.p.id)).slideUp("fast",function(){0===--t&&($("span",a).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),Q.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(Q.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(Q.p.id)).hide(),$(Q).triggerHandler("jqGridHeaderClick",[Q.p.gridstate,e]),i&&(ge||Q.p.onHeaderClick.call(Q,Q.p.gridstate,e)))}):"hidden"===Q.p.gridstate&&$(r,"#gbox_"+$.jgrid.jqID(Q.p.id)).slideDown("fast",function(){0===--t&&($("span",a).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),ge&&(Q.p.datatype=be,y(),ge=!1),Q.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(Q.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(Q.p.id)).show(),$(Q).triggerHandler("jqGridHeaderClick",[Q.p.gridstate,e]),i&&(ge||Q.p.onHeaderClick.call(Q,Q.p.gridstate,e)))}),!1}),ge&&(Q.p.datatype="local",$(".ui-jqgrid-titlebar-close",h.cDiv).trigger("click")))}else $(h.cDiv).hide(),$(h.hDiv).addClass("ui-corner-top");$(h.hDiv).after(h.bDiv).mousemove(function(e){if(h.resizing)return h.dragMove(e),!1}),$(".ui-jqgrid-labels",h.hDiv).bind("selectstart",function(){return!1}),$(document).bind("mouseup.jqGrid"+Q.p.id,function(){return!h.resizing||(h.dragEnd(),!1)}),Q.formatCol=s,Q.sortData=f,Q.updatepager=function(e,t){var i,r,a,o,n,s,l,d,p="",c=Q.p.pager?"_"+$.jgrid.jqID(Q.p.pager.substr(1)):"",u=Q.p.toppager?"_"+Q.p.toppager.substr(1):"";if((a=parseInt(Q.p.page,10)-1)<0&&(a=0),n=(a*=parseInt(Q.p.rowNum,10))+Q.p.reccount,Q.p.scroll){var h=$("tbody:first > tr:gt(0)",Q.grid.bDiv);a=n-h.length,Q.p.reccount=h.length;var f=h.outerHeight()||Q.grid.prevRowHeight;if(f){var g=a*f,m=parseInt(Q.p.records,10)*f;$(">div:first",Q.grid.bDiv).css({height:m}).children("div:first").css({height:g,display:g?"":"none"}),0==Q.grid.bDiv.scrollTop&&1<Q.p.page&&(Q.grid.bDiv.scrollTop=Q.p.rowNum*(Q.p.page-1)*f)}Q.grid.bDiv.scrollLeft=Q.grid.hDiv.scrollLeft}p=Q.p.pager||"",(p+=Q.p.toppager?p?","+Q.p.toppager:Q.p.toppager:"")&&(l=$.jgrid.formatter.integer||{},i=V(Q.p.page),r=V(Q.p.lastpage),$(".selbox",p)[this.p.useProp?"prop":"attr"]("disabled",!1),!0===Q.p.pginput&&($(".ui-pg-input",p).val(Q.p.page),d=Q.p.toppager?"#sp_1"+c+",#sp_1"+u:"#sp_1"+c,$(d).html($.fmatter?$.fmatter.util.NumberFormat(Q.p.lastpage,l):Q.p.lastpage)),Q.p.viewrecords&&(0===Q.p.reccount?$(".ui-paging-info",p).html(Q.p.emptyrecords):(o=a+1,s=Q.p.records,$.fmatter&&(o=$.fmatter.util.NumberFormat(o,l),n=$.fmatter.util.NumberFormat(n,l),s=$.fmatter.util.NumberFormat(s,l)),$(".ui-paging-info",p).html($.jgrid.format(Q.p.recordtext,o,n,s)))),!0===Q.p.pgbuttons&&(i<=0&&(i=r=0),1===i||0===i?($("#first"+c+", #prev"+c).addClass("ui-state-disabled").removeClass("ui-state-hover"),Q.p.toppager&&$("#first_t"+u+", #prev_t"+u).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#first"+c+", #prev"+c).removeClass("ui-state-disabled"),Q.p.toppager&&$("#first_t"+u+", #prev_t"+u).removeClass("ui-state-disabled")),i===r||0===i?($("#next"+c+", #last"+c).addClass("ui-state-disabled").removeClass("ui-state-hover"),Q.p.toppager&&$("#next_t"+u+", #last_t"+u).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#next"+c+", #last"+c).removeClass("ui-state-disabled"),Q.p.toppager&&$("#next_t"+u+", #last_t"+u).removeClass("ui-state-disabled")))),!0===e&&!0===Q.p.rownumbers&&$(">td.jqgrid-rownum",Q.rows).each(function(e){$(this).html(a+1+e)}),t&&Q.p.jqgdnd&&$(Q).jqGrid("gridDnD","updateDnD"),$(Q).triggerHandler("jqGridGridComplete"),$.isFunction(Q.p.gridComplete)&&Q.p.gridComplete.call(Q),$(Q).triggerHandler("jqGridAfterGridComplete")},Q.refreshIndex=p,Q.setHeadCheckBox=x,Q.constructTr=Z,Q.formatter=function(e,t,i,r,a){return d(e,t,i,r,a)},$.extend(h,{populate:y,emptyRows:J,beginReq:w,endReq:j}),this.grid=h,Q.addXmlData=function(e){v(e,Q.grid.bDiv)},Q.addJSONData=function(e){b(e,Q.grid.bDiv)},this.grid.cols=this.rows[0].cells,$(Q).triggerHandler("jqGridInitGrid"),$.isFunction(Q.p.onInitGrid)&&Q.p.onInitGrid.call(Q),y(),Q.p.hiddengrid=!1}else alert($.jgrid.errors.model)}else alert("Element is not a table or has no id!")}});var e=$.jgrid.getMethod(we);if(!e)throw"jqGrid - No such method: "+we;var t=$.makeArray(arguments).slice(1);return e.apply(this,t)},$.jgrid.extend({getGridParam:function(e){var t=this[0];if(t&&t.grid)return e?void 0!==t.p[e]?t.p[e]:null:t.p},setGridParam:function(t,i){return this.each(function(){if(null==i&&(i=!1),this.grid&&"object"==typeof t)if(!0===i){var e=$.extend({},this.p,t);this.p=e}else $.extend(!0,this.p,t)})},getGridRowById:function(t){var i;return this.each(function(){try{for(var e=this.rows.length;e--;)if(t.toString()===this.rows[e].id){i=this.rows[e];break}}catch(e){i=$(this.grid.bDiv).find("#"+$.jgrid.jqID(t))}}),i},getDataIDs:function(){var e,t=[],i=0,r=0;return this.each(function(){if((e=this.rows.length)&&0<e)for(;i<e;)$(this.rows[i]).hasClass("jqgrow")&&(t[r]=this.rows[i].id,r++),i++}),t},setSelection:function(h,f,g){return this.each(function(){var e,t,i,r,a,o,n,s,l,d,p,c,u=this;void 0!==h&&(f=!1!==f,!(t=$(u).jqGrid("getGridRowById",h))||!t.className||-1<t.className.indexOf("ui-state-disabled")||(!0===u.p.scrollrows&&0<=(i=$(u).jqGrid("getGridRowById",h).rowIndex)&&(s=i,l=$(u.grid.bDiv)[0].clientHeight,d=$(u.grid.bDiv)[0].scrollTop,p=$(u.rows[s]).position().top,c=u.rows[s].clientHeight,l+d<=p+c?$(u.grid.bDiv)[0].scrollTop=p-(l+d)+c+d:p<l+d&&p<d&&($(u.grid.bDiv)[0].scrollTop=p)),!0===u.p.frozenColumns&&(o=u.p.id+"_frozen"),u.p.multiselect?(u.setHeadCheckBox(!1),u.p.selrow=t.id,-1===(r=$.inArray(u.p.selrow,u.p.selarrrow))?("ui-subgrid"!==t.className&&$(t).addClass("ui-state-highlight").attr("aria-selected","true"),e=!0,u.p.selarrrow.push(u.p.selrow)):("ui-subgrid"!==t.className&&$(t).removeClass("ui-state-highlight").attr("aria-selected","false"),e=!1,u.p.selarrrow.splice(r,1),a=u.p.selarrrow[0],u.p.selrow=void 0===a?null:a),$("#jqg_"+$.jgrid.jqID(u.p.id)+"_"+$.jgrid.jqID(t.id))[u.p.useProp?"prop":"attr"]("checked",e),o&&(-1===r?$("#"+$.jgrid.jqID(h),"#"+$.jgrid.jqID(o)).addClass("ui-state-highlight"):$("#"+$.jgrid.jqID(h),"#"+$.jgrid.jqID(o)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(u.p.id)+"_"+$.jgrid.jqID(h),"#"+$.jgrid.jqID(o))[u.p.useProp?"prop":"attr"]("checked",e)),f&&($(u).triggerHandler("jqGridSelectRow",[t.id,e,g]),u.p.onSelectRow&&u.p.onSelectRow.call(u,t.id,e,g))):"ui-subgrid"!==t.className&&(e=u.p.selrow!==t.id&&((n=$(u).jqGrid("getGridRowById",u.p.selrow))&&$(n).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),$(t).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),o&&($("#"+$.jgrid.jqID(u.p.selrow),"#"+$.jgrid.jqID(o)).removeClass("ui-state-highlight"),$("#"+$.jgrid.jqID(h),"#"+$.jgrid.jqID(o)).addClass("ui-state-highlight")),!0),u.p.selrow=t.id,f&&($(u).triggerHandler("jqGridSelectRow",[t.id,e,g]),u.p.onSelectRow&&u.p.onSelectRow.call(u,t.id,e,g)))))})},resetSelection:function(a){return this.each(function(){var e,i,r=this;if(!0===r.p.frozenColumns&&(i=r.p.id+"_frozen"),void 0!==a){if(e=a===r.p.selrow?r.p.selrow:a,$("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(e)).removeClass("ui-state-highlight").attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(i)).removeClass("ui-state-highlight"),r.p.multiselect){$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(r.p.id))[r.p.useProp?"prop":"attr"]("checked",!1),i&&$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1),r.setHeadCheckBox(!1);var t=$.inArray($.jgrid.jqID(e),r.p.selarrrow);-1!==t&&r.p.selarrrow.splice(t,1)}e=null}else r.p.multiselect?($(r.p.selarrrow).each(function(e,t){$($(r).jqGrid("getGridRowById",t)).removeClass("ui-state-highlight").attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t))[r.p.useProp?"prop":"attr"]("checked",!1),i&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1))}),r.setHeadCheckBox(!1),r.p.selarrrow=[],r.p.selrow=null):r.p.selrow&&($("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(r.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(r.p.selrow),"#"+$.jgrid.jqID(i)).removeClass("ui-state-highlight"),r.p.selrow=null);!0===r.p.cellEdit&&0<=parseInt(r.p.iCol,10)&&0<=parseInt(r.p.iRow,10)&&($("td:eq("+r.p.iCol+")",r.rows[r.p.iRow]).removeClass("edit-cell ui-state-highlight"),$(r.rows[r.p.iRow]).removeClass("selected-row ui-state-hover")),r.p.savedRow=[]})},getRowData:function(e){var a,o,n={},s=!1,l=0;return this.each(function(){var t,i,r=this;if(void 0===e)s=!0,a=[],o=r.rows.length;else{if(!(i=$(r).jqGrid("getGridRowById",e)))return n;o=2}for(;l<o;)s&&(i=r.rows[l]),$(i).hasClass("jqgrow")&&($('td[role="gridcell"]',i).each(function(e){if("cb"!==(t=r.p.colModel[e].name)&&"subgrid"!==t&&"rn"!==t)if(!0===r.p.treeGrid&&t===r.p.ExpandColumn)n[t]=$.jgrid.htmlDecode($("span:first",this).html());else try{n[t]=$.unformat.call(r,this,{rowId:i.id,colModel:r.p.colModel[e]},e)}catch(e){n[t]=$.jgrid.htmlDecode($(this).html())}}),s&&(a.push(n),n={})),l++}),a||n},delRowData:function(a){var o,n,s,l=!1;return this.each(function(){var e=this;if(!(o=$(e).jqGrid("getGridRowById",a)))return!1;if(e.p.subGrid&&(s=$(o).next()).hasClass("ui-subgrid")&&s.remove(),$(o).remove(),e.p.records--,e.p.reccount--,e.updatepager(!0,!1),l=!0,e.p.multiselect&&-1!==(n=$.inArray(a,e.p.selarrrow))&&e.p.selarrrow.splice(n,1),e.p.multiselect&&0<e.p.selarrrow.length?e.p.selrow=e.p.selarrrow[e.p.selarrrow.length-1]:e.p.selrow=null,"local"===e.p.datatype){var t=$.jgrid.stripPref(e.p.idPrefix,a),i=e.p._index[t];void 0!==i&&(e.p.data.splice(i,1),e.refreshIndex())}if(!0===e.p.altRows&&l){var r=e.p.altclass;$(e.rows).each(function(e){e%2==1?$(this).addClass(r):$(this).removeClass(r)})}}),l},setRowData:function(l,d,p){var c,u,h=!0;return this.each(function(){if(!this.grid)return!1;var i,r,a=this,e=typeof p,o={};if(!(r=$(this).jqGrid("getGridRowById",l)))return!1;if(d)try{if($(this.p.colModel).each(function(e){c=this.name;var t=$.jgrid.getAccessor(d,c);void 0!==t&&(o[c]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(a,t,this):t,i=a.formatter(l,o[c],e,d,"edit"),u=this.title?{title:$.jgrid.stripHtml(i)}:{},!0===a.p.treeGrid&&c===a.p.ExpandColumn?$("td[role='gridcell']:eq("+e+") > span:first",r).html(i).attr(u):$("td[role='gridcell']:eq("+e+")",r).html(i).attr(u))}),"local"===a.p.datatype){var t,n=$.jgrid.stripPref(a.p.idPrefix,l),s=a.p._index[n];if(a.p.treeGrid)for(t in a.p.treeReader)a.p.treeReader.hasOwnProperty(t)&&delete o[a.p.treeReader[t]];void 0!==s&&(a.p.data[s]=$.extend(!0,a.p.data[s],o)),o=null}}catch(e){h=!1}h&&("string"===e?$(r).addClass(p):null!==p&&"object"===e&&$(r).css(p),$(a).triggerHandler("jqGridAfterGridComplete"))}),h},addRowData:function(n,s,l,d){-1==["first","last","before","after"].indexOf(l)&&(l="last");var p,c,u,h,f,g,m,v,b,w,j,y,x,q,D=!1,C="";return s&&($.isArray(s)?(b=!0,w=n):b=!(s=[s]),this.each(function(){var e=this,t=s.length;f=!0===e.p.rownumbers?1:0,u=!0===e.p.multiselect?1:0,h=!0===e.p.subGrid?1:0,b||(void 0!==n?n=String(n):(n=$.jgrid.randId(),!1!==e.p.keyName&&(w=e.p.keyName,void 0!==s[0][w]&&(n=s[0][w])))),j=e.p.altclass;for(var i=0,r="",a={},o=!!$.isFunction(e.p.afterInsertRow);i<t;){if(y=s[i],c=[],b){try{void 0===(n=y[w])&&(n=$.jgrid.randId())}catch(e){n=$.jgrid.randId()}r=!0===e.p.altRows&&(e.rows.length-1)%2==0?j:""}for(q=n,n=e.p.idPrefix+n,f&&(C=e.formatCol(0,1,"",null,n,!0),c[c.length]='<td role="gridcell" class="ui-state-default jqgrid-rownum" '+C+">0</td>"),u&&(v='<input role="checkbox" type="checkbox" id="jqg_'+e.p.id+"_"+n+'" class="cbox"/>',C=e.formatCol(f,1,"",null,n,!0),c[c.length]='<td role="gridcell" '+C+">"+v+"</td>"),h&&(c[c.length]=$(e).jqGrid("addSubGridCell",u+f,1)),m=u+h+f;m<e.p.colModel.length;m++)x=e.p.colModel[m],a[p=x.name]=y[p],v=e.formatter(n,$.jgrid.getAccessor(y,p),m,y),C=e.formatCol(m,1,v,y,n,a),c[c.length]='<td role="gridcell" '+C+">"+v+"</td>";if(c.unshift(e.constructTr(n,!1,r,a,y,!1)),c[c.length]="</tr>",0===e.rows.length)$("table:first",e.grid.bDiv).append(c.join(""));else switch(l){case"last":$(e.rows[e.rows.length-1]).after(c.join("")),g=e.rows.length-1;break;case"first":$(e.rows[0]).after(c.join("")),g=1;break;case"after":(g=$(e).jqGrid("getGridRowById",d))&&($(e.rows[g.rowIndex+1]).hasClass("ui-subgrid")?$(e.rows[g.rowIndex+1]).after(c):$(g).after(c.join("")),g=g.rowIndex+1);break;case"before":(g=$(e).jqGrid("getGridRowById",d))&&($(g).before(c.join("")),g=g.rowIndex-1)}!0===e.p.subGrid&&$(e).jqGrid("addSubGrid",u+f,g),e.p.records++,e.p.reccount++,$(e).triggerHandler("jqGridAfterInsertRow",[n,y,y]),o&&e.p.afterInsertRow.call(e,n,y,y),i++,"local"===e.p.datatype&&(a[e.p.localReader.id]=q,e.p._index[q]=e.p.data.length,e.p.data.push(a),a={})}!0!==e.p.altRows||b||("last"===l?(e.rows.length-1)%2==1&&$(e.rows[e.rows.length-1]).addClass(j):$(e.rows).each(function(e){e%2==1?$(this).addClass(j):$(this).removeClass(j)})),e.updatepager(!0,!0),D=!0})),D},footerData:function(r,a,o){var n,s,l=!1,d={};return null==r&&(r="get"),"boolean"!=typeof o&&(o=!0),r=r.toLowerCase(),this.each(function(){var t,i=this;return!(!i.grid||!i.p.footerrow)&&(("set"!==r||!function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(a))&&(l=!0,void $(this.p.colModel).each(function(e){n=this.name,"set"===r?void 0!==a[n]&&(t=o?i.formatter("",a[n],e,a,"edit"):a[n],s=this.title?{title:$.jgrid.stripHtml(t)}:{},$("tr.footrow td:eq("+e+")",i.grid.sDiv).html(t).attr(s),l=!0):"get"===r&&(d[n]=$("tr.footrow td:eq("+e+")",i.grid.sDiv).html())})))}),"get"===r?d:l},showHideCol:function(n,s){return this.each(function(){var t,i=this,r=!1,a=$.jgrid.cell_width?0:i.p.cellLayout;if(i.grid){"string"==typeof n&&(n=[n]);var o=""===(s="none"!==s?"":"none"),e=i.p.groupHeader&&("object"==typeof i.p.groupHeader||$.isFunction(i.p.groupHeader));e&&$(i).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(e){if(-1!==$.inArray(this.name,n)&&this.hidden===o){if(!0===i.p.frozenColumns&&!0===this.frozen)return!0;$("tr[role=row]",i.grid.hDiv).each(function(){$(this.cells[e]).css("display",s)}),$(i.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[e]).css("display",s)}),i.p.footerrow&&$("tr.footrow td:eq("+e+")",i.grid.sDiv).css("display",s),t=parseInt(this.width,10),"none"===s?i.p.tblwidth-=t+a:i.p.tblwidth+=t+a,this.hidden=!o,r=!0,$(i).triggerHandler("jqGridShowHideCol",[o,this.name,e])}}),!0===r&&(!0!==i.p.shrinkToFit||isNaN(i.p.height)||(i.p.tblwidth+=parseInt(i.p.scrollOffset,10)),$(i).jqGrid("setGridWidth",!0===i.p.shrinkToFit?i.p.tblwidth:i.p.width)),e&&$(i).jqGrid("setGroupHeaders",i.p.groupHeader)}})},hideCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"none")})},showCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"")})},remapColumns:function(r,e,t){function i(t){var i;i=t.length?$.makeArray(t):$.extend({},t),$.each(r,function(e){t[e]=i[this]})}var a=this.get(0);function o(e,t){$(">tr"+(t||""),e).each(function(){var t=this,i=$.makeArray(t.cells);$.each(r,function(){var e=i[this];e&&t.appendChild(e)})})}i(a.p.colModel),i(a.p.colNames),i(a.grid.headers),o($("thead:first",a.grid.hDiv),t&&":not(.ui-jqgrid-labels)"),e&&o($("#"+$.jgrid.jqID(a.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),a.p.footerrow&&o($("tbody:first",a.grid.sDiv)),a.p.remapColumns&&(a.p.remapColumns.length?i(a.p.remapColumns):a.p.remapColumns=$.makeArray(r)),a.p.lastsort=$.inArray(a.p.lastsort,r),a.p.treeGrid&&(a.p.expColInd=$.inArray(a.p.expColInd,r)),$(a).triggerHandler("jqGridRemapColumns",[r,e,t])},setGridWidth:function(h,f){return this.each(function(){if(this.grid){var t,i,r,e,a=this,o=0,n=$.jgrid.cell_width?0:a.p.cellLayout,s=0,l=!1,d=a.p.scrollOffset,p=0;if("boolean"!=typeof f&&(f=a.p.shrinkToFit),!isNaN(h)){if(h=parseInt(h,10),a.grid.width=a.p.width=h,$("#gbox_"+$.jgrid.jqID(a.p.id)).css("width",h+"px"),$("#gview_"+$.jgrid.jqID(a.p.id)).css("width",h+"px"),$(a.grid.bDiv).css("width",h+"px"),$(a.grid.hDiv).css("width",h+"px"),a.p.pager&&$(a.p.pager).css("width",h+"px"),a.p.toppager&&$(a.p.toppager).css("width",h+"px"),!0===a.p.toolbar[0]&&($(a.grid.uDiv).css("width",h+"px"),"both"===a.p.toolbar[1]&&$(a.grid.ubDiv).css("width",h+"px")),a.p.footerrow&&$(a.grid.sDiv).css("width",h+"px"),!1===f&&!0===a.p.forceFit&&(a.p.forceFit=!1),!0===f){if($.each(a.p.colModel,function(){!1===this.hidden&&(t=this.widthOrg,o+=t+n,this.fixed?p+=t+n:s++)}),0===s)return;a.p.tblwidth=o,r=h-n*s-p,isNaN(a.p.height)||($(a.grid.bDiv)[0].clientHeight<$(a.grid.bDiv)[0].scrollHeight||1===a.rows.length)&&(l=!0,r-=d);var c=(o=0)<a.grid.cols.length;if($.each(a.p.colModel,function(e){if(!1===this.hidden&&!this.fixed){if(t=this.widthOrg,(t=Math.round(r*t/(a.p.tblwidth-n*s-p)))<0)return;this.width=t,o+=t,a.grid.headers[e].width=t,a.grid.headers[e].el.style.width=t+"px",a.p.footerrow&&(a.grid.footers[e].style.width=t+"px"),c&&(a.grid.cols[e].style.width=t+"px"),i=e}}),!i)return;if(e=0,l?h-p-(o+n*s)!==d&&(e=h-p-(o+n*s)-d):1!==Math.abs(h-p-(o+n*s))&&(e=h-p-(o+n*s)),a.p.colModel[i].width+=e,a.p.tblwidth=o+e+n*s+p,a.p.tblwidth>h){var u=a.p.tblwidth-parseInt(h,10);a.p.tblwidth=h,t=a.p.colModel[i].width=a.p.colModel[i].width-u}else t=a.p.colModel[i].width;a.grid.headers[i].width=t,a.grid.headers[i].el.style.width=t+"px",c&&(a.grid.cols[i].style.width=t+"px"),a.p.footerrow&&(a.grid.footers[i].style.width=t+"px")}a.p.tblwidth&&($("table:first",a.grid.bDiv).css("width",a.p.tblwidth+"px"),$("table:first",a.grid.hDiv).css("width",a.p.tblwidth+"px"),a.grid.hDiv.scrollLeft=a.grid.bDiv.scrollLeft,a.p.footerrow&&$("table:first",a.grid.sDiv).css("width",a.p.tblwidth+"px"))}}})},setGridHeight:function(i){return this.each(function(){var e=this;if(e.grid){var t=$(e.grid.bDiv);t.css({height:i+(isNaN(i)?"":"px")}),!0===e.p.frozenColumns&&$("#"+$.jgrid.jqID(e.p.id)+"_frozen").parent().height(t.height()-16),e.p.height=i,e.p.scroll&&e.grid.populateVisible()}})},setCaption:function(e){return this.each(function(){this.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(e),$(this.grid.cDiv).show(),$(this.grid.hDiv).removeClass("ui-corner-top")})},setLabel:function(r,a,o,n){return this.each(function(){var t=-1;if(this.grid&&void 0!==r&&($(this.p.colModel).each(function(e){if(this.name===r)return t=e,!1}),0<=t)){var e=$("tr.ui-jqgrid-labels th:eq("+t+")",this.grid.hDiv);if(a){var i=$(".s-ico",e);$("[id^=jqgh_]",e).empty().html(a).append(i),this.p.colNames[t]=a}o&&("string"==typeof o?$(e).addClass(o):$(e).css(o)),"object"==typeof n&&$(e).attr(n)}})},setCell:function(p,c,u,h,f,g){return this.each(function(){var e,t,i=this,r=-1;if(i.grid&&(isNaN(c)?$(i.p.colModel).each(function(e){if(this.name===c)return r=e,!1}):r=parseInt(c,10),0<=r)){var a=$(i).jqGrid("getGridRowById",p);if(a){var o=$("td:eq("+r+")",a),n=0,s=[];if(""!==u||!0===g){for(;n<a.cells.length;)s.push(a.cells[n].innerHTML),n++;if(e=i.formatter(p,u,r,s,"edit"),t=i.p.colModel[r].title?{title:$.jgrid.stripHtml(e)}:{},i.p.treeGrid&&0<$(".tree-wrap",$(o)).length?$("span",$(o)).html(e).attr(t):$(o).html(e).attr(t),"local"===i.p.datatype){var l,d=i.p.colModel[r];u=d.formatter&&"string"==typeof d.formatter&&"date"===d.formatter?$.unformat.date.call(i,u,d):u,void 0!==(l=i.p._index[$.jgrid.stripPref(i.p.idPrefix,p)])&&(i.p.data[l][d.name]=u)}}"string"==typeof h?$(o).addClass(h):h&&$(o).css(h),"object"==typeof f&&$(o).attr(f)}}})},getCell:function(r,a){var o=!1;return this.each(function(){var e=this,t=-1;if(e.grid&&(isNaN(a)?$(e.p.colModel).each(function(e){if(this.name===a)return t=e,!1}):t=parseInt(a,10),0<=t)){var i=$(e).jqGrid("getGridRowById",r);if(i)try{o=$.unformat.call(e,$("td:eq("+t+")",i),{rowId:i.id,colModel:e.p.colModel[t]},t)}catch(e){o=$.jgrid.htmlDecode($("td:eq("+t+")",i).html())}}}),o},getCol:function(o,n,s){var l,d,p,c,u=[],h=0;return n="boolean"==typeof n&&n,void 0===s&&(s=!1),this.each(function(){var t=this,i=-1;if(t.grid&&(isNaN(o)?$(t.p.colModel).each(function(e){if(this.name===o)return i=e,!1}):i=parseInt(o,10),0<=i)){var e=t.rows.length,r=0,a=0;if(e&&0<e){for(;r<e;){if($(t.rows[r]).hasClass("jqgrow")){try{l=$.unformat.call(t,$(t.rows[r].cells[i]),{rowId:t.rows[r].id,colModel:t.p.colModel[i]},i)}catch(e){l=$.jgrid.htmlDecode(t.rows[r].cells[i].innerHTML)}s?(c=parseFloat(l),isNaN(c)||(h+=c,void 0===p&&(p=d=c),d=Math.min(d,c),p=Math.max(p,c),a++)):n?u.push({id:t.rows[r].id,value:l}):u.push(l)}r++}if(s)switch(s.toLowerCase()){case"sum":u=h;break;case"avg":u=h/a;break;case"count":u=e-1;break;case"min":u=d;break;case"max":u=p}}}}),u},clearGridData:function(i){return this.each(function(){var e=this;if(e.grid){if("boolean"!=typeof i&&(i=!1),e.p.deepempty)$("#"+$.jgrid.jqID(e.p.id)+" tbody:first tr:gt(0)").remove();else{var t=$("#"+$.jgrid.jqID(e.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(e.p.id)+" tbody:first").empty().append(t)}e.p.footerrow&&i&&$(".ui-jqgrid-ftable td",e.grid.sDiv).html("&#160;"),e.p.selrow=null,e.p.selarrrow=[],e.p.savedRow=[],e.p.records=0,e.p.page=1,e.p.lastpage=0,e.p.reccount=0,e.p.data=[],e.p._index={},e.updatepager(!0,!1)}})},getInd:function(e,t){var i,r=!1;return this.each(function(){(i=$(this).jqGrid("getGridRowById",e))&&(r=!0===t?i:i.rowIndex)}),r},bindKeys:function(e){var s=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var n=this;$("body").is("[role]")||$("body").attr("role","application"),n.p.scrollrows=s.scrollingRows,$(n).keydown(function(e){var t,i,r,a=$(n).find("tr[tabindex=0]")[0],o=n.p.treeReader.expanded_field;if(a)if(r=n.p._index[$.jgrid.stripPref(n.p.idPrefix,a.id)],37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode){if(38===e.keyCode){if(t="",i=a.previousSibling)if($(i).is(":hidden")){for(;i;)if(i=i.previousSibling,!$(i).is(":hidden")&&$(i).hasClass("jqgrow")){t=i.id;break}}else t=i.id;$(n).jqGrid("setSelection",t,!0,e),e.preventDefault()}if(40===e.keyCode){if(t="",i=a.nextSibling)if($(i).is(":hidden")){for(;i;)if(i=i.nextSibling,!$(i).is(":hidden")&&$(i).hasClass("jqgrow")){t=i.id;break}}else t=i.id;$(n).jqGrid("setSelection",t,!0,e),e.preventDefault()}37===e.keyCode&&(n.p.treeGrid&&n.p.data[r][o]&&$(a).find("div.treeclick").trigger("click"),$(n).triggerHandler("jqGridKeyLeft",[n.p.selrow]),$.isFunction(s.onLeftKey)&&s.onLeftKey.call(n,n.p.selrow)),39===e.keyCode&&(n.p.treeGrid&&!n.p.data[r][o]&&$(a).find("div.treeclick").trigger("click"),$(n).triggerHandler("jqGridKeyRight",[n.p.selrow]),$.isFunction(s.onRightKey)&&s.onRightKey.call(n,n.p.selrow))}else 13===e.keyCode?($(n).triggerHandler("jqGridKeyEnter",[n.p.selrow]),$.isFunction(s.onEnter)&&s.onEnter.call(n,n.p.selrow)):32===e.keyCode&&($(n).triggerHandler("jqGridKeySpace",[n.p.selrow]),$.isFunction(s.onSpace)&&s.onSpace.call(n,n.p.selrow))})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown")})},getLocalRow:function(e){var t,i=!1;return this.each(function(){void 0!==e&&0<=(t=this.p._index[$.jgrid.stripPref(this.p.idPrefix,e)])&&(i=this.p.data[t])}),i},progressBar:function(t){return t=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},t||{}),this.each(function(){var e="show"===t.method;switch(""!==t.htmlcontent&&$("#load_"+$.jgrid.jqID(this.p.id)).html(t.htmlcontent),t.loadtype){case"disable":break;case"enable":$("#load_"+$.jgrid.jqID(this.p.id)).toggle(e);break;case"block":$("#lui_"+$.jgrid.jqID(this.p.id)).toggle(e),$("#load_"+$.jgrid.jqID(this.p.id)).toggle(e)}})}})}(jQuery),function(q){"use strict";q.jgrid.extend({editCell:function(l,d,p,c,u){return this.each(function(){var e,t,i,r,a=this;if(a.grid&&!0===a.p.cellEdit){if(d=parseInt(d,10),a.p.selrow=a.rows[l].id,a.p.knv||q(a).jqGrid("GridNav"),0<a.p.savedRow.length){if(!0===p&&l==a.p.iRow&&d==a.p.iCol)return;q(a).jqGrid("saveCell",a.p.savedRow[0].id,a.p.savedRow[0].ic)}else window.setTimeout(function(){q("#"+q.jgrid.jqID(a.p.knv)).attr("tabindex","-1").focus()},1);if("subgrid"!==(e=(r=a.p.colModel[d]).name)&&"cb"!==e&&"rn"!==e){if(i=q("td:eq("+d+")",a.rows[l]),!0!==r.editable||!0!==p||i.hasClass("not-editable-cell"))0<=parseInt(a.p.iCol,10)&&0<=parseInt(a.p.iRow,10)&&(q("td:eq("+a.p.iCol+")",a.rows[a.p.iRow]).removeClass("edit-cell ui-state-highlight"),q(a.rows[a.p.iRow]).removeClass("selected-row ui-state-hover")),i.addClass("edit-cell ui-state-highlight"),t=i.html().replace(/\&#160\;/gi,""),q(a).triggerHandler("jqGridSelectCell",[a.rows[l].id,e,t,l,d]),q.isFunction(a.p.onSelectCell)&&a.p.onSelectCell.call(a,a.rows[l].id,e,t,l,d);else{0<=parseInt(a.p.iCol,10)&&0<=parseInt(a.p.iRow,10)&&(q("td:eq("+a.p.iCol+")",a.rows[a.p.iRow]).removeClass("edit-cell ui-state-highlight"),q(a.rows[a.p.iRow]).removeClass("selected-row ui-state-hover")),q(i).addClass("edit-cell ui-state-highlight"),q(a.rows[l]).addClass("selected-row ui-state-hover");try{t=q.unformat.call(a,i,{rowId:a.rows[l].id,colModel:r},d)}catch(e){t=r.edittype&&"textarea"===r.edittype?q(i).text():q(i).html()}if(a.p.autoencode&&(t=q.jgrid.htmlDecode(t)),r.edittype||(r.edittype="text"),a.p.savedRow.push({id:l,ic:d,name:e,v:t}),("&nbsp;"===t||"&#160;"===t||1===t.length&&160===t.charCodeAt(0))&&(t=""),q.isFunction(a.p.formatCell)){var o=a.p.formatCell.call(a,a.rows[l].id,e,t,l,d);void 0!==o&&(t=o)}q(a).triggerHandler("jqGridBeforeEditCell",[a.rows[l].id,e,t,l,d]),q.isFunction(a.p.beforeEditCell)&&a.p.beforeEditCell.call(a,a.rows[l].id,e,t,l,d);var n=q.extend({},r.editoptions||{},{id:l+"_"+e,name:e,rowId:a.rows[l].id}),s=q.jgrid.createEl.call(a,r.edittype,n,t,!0,q.extend({},q.jgrid.ajaxOptions,a.p.ajaxSelectOptions||{}));q(i).html("").append(s).attr("tabindex","0"),q.jgrid.bindEv.call(a,s,n),window.setTimeout(function(){q(s).focus(),q(s).select()},1),null!=c&&window.setTimeout(function(){q(s).val(c)},1),q("input, select, textarea",i).bind("keydown",function(e){if(27===e.keyCode&&(0<q("input.hasDatepicker",i).length?q(".ui-datepicker").is(":hidden")?q(a).jqGrid("restoreCell",l,d):q("input.hasDatepicker",i).datepicker("hide"):q(a).jqGrid("restoreCell",l,d)),13===e.keyCode&&!e.shiftKey){if(q(a).jqGrid("saveCell",l,d),"next"==a.p.cellMove)q(a).jqGrid("nextCell",l,d);else if("down"==a.p.cellMove){(t=jQuery.Event("keydown")).which=40,t.keyCode=40,q("#"+a.p.id+"_kn").trigger(t)}return!1}if(9===e.keyCode){if(a.grid.hDiv.loading)return!1;e.shiftKey?q(a).jqGrid("prevCell",l,d):q(a).jqGrid("nextCell",l,d)}var t;(u=u||!1,37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode)&&(u&&(q(a).jqGrid("saveCell",l,d),(t=jQuery.Event("keydown")).which=e.keyCode,t.keyCode=e.keyCode,q("#"+a.p.id+"_kn").trigger(t)));e.stopPropagation()}),q(a).triggerHandler("jqGridAfterEditCell",[a.rows[l].id,e,t,l,d]),q.isFunction(a.p.afterEditCell)&&a.p.afterEditCell.call(a,a.rows[l].id,e,t,l,d)}a.p.iCol=d,a.p.iRow=l}}})},saveCell:function(y,x){return this.each(function(){var e,r=this;if(r.grid&&!0===r.p.cellEdit){if(null!==(e=1<=r.p.savedRow.length?0:null)){var t,i,a=q("td:eq("+x+")",r.rows[y]),o=r.p.colModel[x],n=o.name,s=q.jgrid.jqID(n);switch(o.edittype){case"select":if(o.editoptions.multiple){var l=q("#"+y+"_"+s,r.rows[y]),d=[];(t=q(l).val())?t.join(","):t="",q("option:selected",l).each(function(e,t){d[e]=q(t).text()}),i=d.join(",")}else t=q("#"+y+"_"+s+" option:selected",r.rows[y]).val(),i=q("#"+y+"_"+s+" option:selected",r.rows[y]).text();o.formatter&&(i=t);break;case"checkbox":var p=["Yes","No"];o.editoptions&&(p=o.editoptions.value.split(":")),i=t=q("#"+y+"_"+s,r.rows[y]).is(":checked")?p[0]:p[1];break;case"password":case"text":case"textarea":case"button":i=t=q("#"+y+"_"+s,r.rows[y]).val();break;case"custom":try{if(!o.editoptions||!q.isFunction(o.editoptions.custom_value))throw"e1";if(void 0===(t=o.editoptions.custom_value.call(r,q(".customelement",a),"get")))throw"e2";i=t}catch(e){"e1"===e&&q.jgrid.info_dialog(q.jgrid.errors.errcap,"function 'custom_value' "+q.jgrid.edit.msg.nodefined,q.jgrid.edit.bClose),"e2"===e?q.jgrid.info_dialog(q.jgrid.errors.errcap,"function 'custom_value' "+q.jgrid.edit.msg.novalue,q.jgrid.edit.bClose):q.jgrid.info_dialog(q.jgrid.errors.errcap,e.message,q.jgrid.edit.bClose)}}if(i!==r.p.savedRow[e].v){var c=q(r).triggerHandler("jqGridBeforeSaveCell",[r.rows[y].id,n,t,y,x]);if(c&&(i=t=c),q.isFunction(r.p.beforeSaveCell)){var u=r.p.beforeSaveCell.call(r,r.rows[y].id,n,t,y,x);u&&(i=t=u)}var h=q.jgrid.checkValues.call(r,t,x);if(!0===h[0]){var f=q(r).triggerHandler("jqGridBeforeSubmitCell",[r.rows[y].id,n,t,y,x])||{};if(q.isFunction(r.p.beforeSubmitCell)&&((f=r.p.beforeSubmitCell.call(r,r.rows[y].id,n,t,y,x))||(f={})),0<q("input.hasDatepicker",a).length&&q("input.hasDatepicker",a).datepicker("hide"),"remote"===r.p.cellsubmit)if(r.p.cellurl){var g,m,v,b={};r.p.autoencode&&(t=q.jgrid.htmlEncode(t)),b[n]=t,g=(v=r.p.prmNames).id,m=v.oper,b[g]=q.jgrid.stripPref(r.p.idPrefix,r.rows[y].id),b[m]=v.editoper,b=q.extend(f,b),q(r).jqGrid("progressBar",{method:"show",loadtype:"disable",htmlcontent:q.jgrid.defaults.savetext||"Saving..."}),r.grid.hDiv.loading=!0;var w="success",j=q(r).triggerHandler("jqGridAfterSubmitCell",[r,w,b.id,n,t,y,x])||[!0,""];!0===j[0]&&q.isFunction(r.p.afterSubmitCell)&&(j=r.p.afterSubmitCell.call(r,w,b.id,n,t,y,x)),!0===j[0]?(q(a).empty(),q(r).jqGrid("setCell",r.rows[y].id,x,i,!1,!1,!0),q(a).addClass("dirty-cell"),q(r.rows[y]).addClass("edited"),q(r).triggerHandler("jqGridAfterSaveCell",[r.rows[y].id,n,t,y,x]),q.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[y].id,n,t,y,x),r.p.savedRow.splice(0,1)):(q.jgrid.info_dialog(q.jgrid.errors.errcap,j[1],q.jgrid.edit.bClose),q(r).jqGrid("restoreCell",y,x)),q.ajax(q.extend({url:r.p.cellurl,data:q.isFunction(r.p.serializeCellData)?r.p.serializeCellData.call(r,b):b,type:"POST",complete:function(e,t){q(r).jqGrid("progressBar",{method:"hide",loadtype:r.p.loadui}),r.grid.hDiv.loading=!1},error:function(e,t,i){q("#lui_"+q.jgrid.jqID(r.p.id)).hide(),r.grid.hDiv.loading=!1,q(r).triggerHandler("jqGridErrorCell",[e,t,i]),q.isFunction(r.p.errorCell)?r.p.errorCell.call(r,e,t,i):q.jgrid.info_dialog(q.jgrid.errors.errcap,e.status+" : "+e.statusText+"<br/>"+t,q.jgrid.edit.bClose),q(r).jqGrid("restoreCell",y,x)}},q.jgrid.ajaxOptions,r.p.ajaxCellOptions||{}))}else try{q.jgrid.info_dialog(q.jgrid.errors.errcap,q.jgrid.errors.nourl,q.jgrid.edit.bClose),q(r).jqGrid("restoreCell",y,x)}catch(e){}"clientArray"===r.p.cellsubmit&&(q(a).empty(),q(r).jqGrid("setCell",r.rows[y].id,x,i,!1,!1,!0),q(a).addClass("dirty-cell"),q(r.rows[y]).addClass("edited"),q(r).triggerHandler("jqGridAfterSaveCell",[r.rows[y].id,n,t,y,x]),q.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[y].id,n,t,y,x),r.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){q.jgrid.info_dialog(q.jgrid.errors.errcap,t+" "+h[1],q.jgrid.edit.bClose)},100),q(r).jqGrid("restoreCell",y,x)}catch(e){}}else q(r).jqGrid("restoreCell",y,x)}window.setTimeout(function(){q("#"+q.jgrid.jqID(r.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(r,a){return this.each(function(){var e,t=this;if(t.grid&&!0===t.p.cellEdit){if(null!==(e=1<=t.p.savedRow.length?0:null)){var i=q("td:eq("+a+")",t.rows[r]);if(q.isFunction(q.fn.datepicker))try{q("input.hasDatepicker",i).datepicker("hide")}catch(e){}q(i).empty().attr("tabindex","-1"),q(t).jqGrid("setCell",t.rows[r].id,a,t.p.savedRow[e].v,!1,!1,!0),q(t).triggerHandler("jqGridAfterRestoreCell",[t.rows[r].id,t.p.savedRow[e].v,r,a]),q.isFunction(t.p.afterRestoreCell)&&t.p.afterRestoreCell.call(t,t.rows[r].id,t.p.savedRow[e].v,r,a),t.p.savedRow.splice(0,1)}window.setTimeout(function(){q("#"+t.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(r,a){return this.each(function(){var e,t=this,i=!1;if(t.grid&&!0===t.p.cellEdit){for(e=a+1;e<t.p.colModel.length;e++)if(!0===t.p.colModel[e].editable&&!1===t.p.colModel[e].hidden){i=e;break}if(!1!==i)q(t).jqGrid("editCell",r,i,!0);else{for(0<t.p.savedRow.length&&q(t).jqGrid("saveCell",r,a),e=0;e<t.p.colModel.length;e++)if(!0===t.p.colModel[e].editable&&!1===t.p.colModel[e].hidden){i=e;break}q(t).jqGrid("editCell",r+1,i,!0)}}})},prevCell:function(r,a){return this.each(function(){var e,t=this,i=!1;if(t.grid&&!0===t.p.cellEdit){for(e=a-1;0<=e;e--)if(!0===t.p.colModel[e].editable&&!1===t.p.colModel[e].hidden){i=e;break}if(!1!==i)q(t).jqGrid("editCell",r,i,!0);else{for(0<t.p.savedRow.length&&q(t).jqGrid("saveCell",r,a),e=t.p.colModel.length;0<=e;e--)if(!0===t.p.colModel[e].editable&&!1===t.p.colModel[e].hidden){i=e;break}q(t).jqGrid("editCell",r-1,i,!0)}}})},GridNav:function(){return this.each(function(){var c=this;if(c.grid&&!0===c.p.cellEdit){c.p.knv=c.p.id+"_kn";var t,i,e=q("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+c.p.knv+"'></div></div>");q(e).insertBefore(c.grid.cDiv),q("#"+c.p.knv).focus().keydown(function(e){switch(i=e.keyCode,"rtl"===c.p.direction&&(37===i?i=39:39===i&&(i=37)),e.shiftKey&&9==i&&(i="Shift_Tab"),i){case 38:0<c.p.iRow-1&&(r(c.p.iRow-1,c.p.iCol,"vu"),q(c).jqGrid("editCell",c.p.iRow-1,c.p.iCol,!1));break;case 40:c.p.iRow+1<=c.rows.length-1&&(r(c.p.iRow+1,c.p.iCol,"vd"),q(c).jqGrid("editCell",c.p.iRow+1,c.p.iCol,!1));break;case 37:case"Shift_Tab":0<=c.p.iCol-1&&(t=a(c.p.iCol-1,"lft"),r(c.p.iRow,t,"h"),q(c).jqGrid("editCell",c.p.iRow,t,!1));break;case 39:case 9:c.p.iCol+1<=c.p.colModel.length-1&&(t=a(c.p.iCol+1,"rgt"),r(c.p.iRow,t,"h"),q(c).jqGrid("editCell",c.p.iRow,t,!1));break;case 13:0<=parseInt(c.p.iCol,10)&&0<=parseInt(c.p.iRow,10)&&q(c).jqGrid("editCell",c.p.iRow,c.p.iCol,!0);break;default:if(!(65<=i&&i<=90||48<=i&&i<=57||-1!==q.inArray(i,[59,61,188,173,190,191,192,219,220,221,222,109,111,78,46])||96<=i&&i<=107))return!0;if(86==i&&e.ctrlKey)return!0;if(46==i)return e.key="",q(c).jqGrid("editCell",c.p.iRow,c.p.iCol,!0,e.key,!0),setTimeout(function(){q(c).jqGrid("saveCell",c.p.iRow,c.p.iCol)},1),!0;if(e.ctrlKey)return!0;0<=parseInt(c.p.iCol,10)&&0<=parseInt(c.p.iRow,10)&&q(c).jqGrid("editCell",c.p.iRow,c.p.iCol,!0,e.key,!0)}return!1}).bind("paste",function(e){jQuery(e.target);var t=e.originalEvent.clipboardData.getData("text/plain").split("\t");if(1!=t.length){for(var i=0;i<t.length;i++)0<=parseInt(c.p.iCol,10)&&0<=parseInt(c.p.iRow,10)&&(q(c).jqGrid("editCell",c.p.iRow,c.p.iCol,!0),q(".edit-cell").val(t[i]));return!1}})}function r(e,t,i){if("v"===i.substr(0,1)){var r=q(c.grid.bDiv)[0].clientHeight,a=q(c.grid.bDiv)[0].scrollTop,o=c.rows[e].offsetTop+c.rows[e].clientHeight,n=c.rows[e].offsetTop;"vd"===i&&r<=o&&(q(c.grid.bDiv)[0].scrollTop=q(c.grid.bDiv)[0].scrollTop+c.rows[e].clientHeight),"vu"===i&&n<a&&(q(c.grid.bDiv)[0].scrollTop=q(c.grid.bDiv)[0].scrollTop-c.rows[e].clientHeight)}if("h"===i){var s=q(c.grid.bDiv)[0].clientWidth,l=q(c.grid.bDiv)[0].scrollLeft,d=c.rows[e].cells[t].offsetLeft+c.rows[e].cells[t].clientWidth,p=c.rows[e].cells[t].offsetLeft;d>=s+parseInt(l,10)?q(c.grid.bDiv)[0].scrollLeft=q(c.grid.bDiv)[0].scrollLeft+c.rows[e].cells[t].clientWidth:p<l&&(q(c.grid.bDiv)[0].scrollLeft=q(c.grid.bDiv)[0].scrollLeft-c.rows[e].cells[t].clientWidth)}}function a(e,t){var i,r;if("lft"===t)for(i=e+1,r=e;0<=r;r--)if(!0!==c.p.colModel[r].hidden){i=r;break}if("rgt"===t)for(i=e-1,r=e;r<c.p.colModel.length;r++)if(!0!==c.p.colModel[r].hidden){i=r;break}return i}})},getChangedCells:function(o){var e=[];return o||(o="all"),this.each(function(){var r,a=this;a.grid&&!0===a.p.cellEdit&&q(a.rows).each(function(t){var i={};q(this).hasClass("edited")&&(q("td",this).each(function(e){if("cb"!==(r=a.p.colModel[e].name)&&"subgrid"!==r)if("dirty"===o){if(q(this).hasClass("dirty-cell"))try{i[r]=q.unformat.call(a,this,{rowId:a.rows[t].id,colModel:a.p.colModel[e]},e)}catch(e){i[r]=q.jgrid.htmlDecode(q(this).html())}}else try{i[r]=q.unformat.call(a,this,{rowId:a.rows[t].id,colModel:a.p.colModel[e]},e)}catch(e){i[r]=q.jgrid.htmlDecode(q(this).html())}}),i.id=this.id,e.push(i))})}),e}})}(jQuery),function(D){"use strict";D.extend(D.jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(e,t){var i=!(!(t=D.extend({jqm:!0,gb:"",removemodal:!1,formprop:!1,form:""},t||{})).gb||"string"!=typeof t.gb||"#gbox_"!==t.gb.substr(0,6))&&D("#"+t.gb.substr(6))[0];if(t.onClose){var r=i?t.onClose.call(i,e):t.onClose(e);if("boolean"==typeof r&&!r)return}if(t.formprop&&i&&t.form){var a,o,n=D(e)[0].style.height;-1<n.indexOf("px")&&(n=parseFloat(n)),"edit"===t.form?(a="#"+D.jgrid.jqID("FrmGrid_"+t.gb.substr(6)),o="formProp"):"view"===t.form&&(a="#"+D.jgrid.jqID("ViewGrid_"+t.gb.substr(6)),o="viewProp"),D(i).data(o,{top:parseFloat(D(e).css("top")),left:parseFloat(D(e).css("left")),width:D(e).width(),height:n,dataheight:D(a).height(),datawidth:D(a).width()})}if(D.fn.jqm&&!0===t.jqm)D(e).attr("aria-hidden","true").jqmHide();else{if(""!==t.gb)try{D(".jqgrid-overlay:first",t.gb).hide()}catch(e){}D(e).hide().attr("aria-hidden","true")}t.removemodal&&D(e).remove()},findPos:function(e){var t=0,i=0;if(e.offsetParent)for(;t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;);return[t,i]},createModal:function(i,e,r,t,a,o,n){r=D.extend(!0,{},D.jgrid.jqModal||{},r);var s,l=document.createElement("div"),d=this;n=D.extend({},n||{}),s="rtl"===D(r.gbox).attr("dir"),l.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog",l.id=i.themodal;var p=document.createElement("div");p.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix",p.id=i.modalhead,D(p).append("<span class='ui-jqdialog-title'>"+r.caption+"</span>");var c=D("<a class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){c.addClass("ui-state-hover")},function(){c.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'></span>");D(p).append(c),s?(l.dir="rtl",D(".ui-jqdialog-title",p).css("float","right"),D(".ui-jqdialog-titlebar-close",p).css("left","0.3em")):(l.dir="ltr",D(".ui-jqdialog-title",p).css("float","left"),D(".ui-jqdialog-titlebar-close",p).css("right","0.3em"));var u=document.createElement("div");D(u).addClass("ui-jqdialog-content ui-widget-content").attr("id",i.modalcontent),D(u).append(e),l.appendChild(u),D(l).prepend(p),!0===o?D("body").append(l):"string"==typeof o?D(o).append(l):D(l).insertBefore(t),D(l).css(n),void 0===r.jqModal&&(r.jqModal=!0);var h={};if(D.fn.jqm&&!0===r.jqModal){if(0===r.left&&0===r.top&&r.overlay){var f;f=D.jgrid.findPos(a),r.left=f[0]+4,r.top=f[1]+4}h.top=r.top+"px",h.left=r.left}else 0===r.left&&0===r.top||(h.left=r.left,h.top=r.top+"px");if(D("a.ui-jqdialog-titlebar-close",p).click(function(){var e=D("#"+D.jgrid.jqID(i.themodal)).data("onClose")||r.onClose,t=D("#"+D.jgrid.jqID(i.themodal)).data("gbox")||r.gbox;return d.hideModal("#"+D.jgrid.jqID(i.themodal),{gb:t,jqm:r.jqModal,onClose:e,removemodal:r.removemodal||!1,formprop:!r.recreateForm||!1,form:r.form||""}),!1}),0!==r.width&&r.width||(r.width=300),0!==r.height&&r.height||(r.height=200),!r.zIndex){var g=D(t).parents("*[role=dialog]").filter(":first").css("z-index");r.zIndex=g?parseInt(g,10)+2:950}var m=0;if(s&&h.left&&!o&&(m=D(r.gbox).width()-(isNaN(r.width)?0:parseInt(r.width,10))-8,h.left=parseInt(h.left,10)+parseInt(m,10)),h.left&&(h.left+="px"),D(l).css(D.extend({width:isNaN(r.width)?"auto":r.width+"px",height:isNaN(r.height)?"auto":r.height+"px",zIndex:r.zIndex,overflow:"hidden"},h)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":i.modalhead,"aria-hidden":"true"}),void 0===r.drag&&(r.drag=!0),void 0===r.resize&&(r.resize=!0),r.drag)if(D(p).css("cursor","move"),D.fn.jqDrag)D(l).jqDrag(p);else try{D(l).draggable({handle:D("#"+D.jgrid.jqID(p.id))})}catch(e){}if(r.resize)if(D.fn.jqResize)D(l).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'></div>"),D("#"+D.jgrid.jqID(i.themodal)).jqResize(".jqResize",!!i.scrollelm&&"#"+D.jgrid.jqID(i.scrollelm));else try{D(l).resizable({handles:"se, sw",alsoResize:!!i.scrollelm&&"#"+D.jgrid.jqID(i.scrollelm)})}catch(e){}!0===r.closeOnEscape&&D(l).keydown(function(e){if(27===e.which){var t=D("#"+D.jgrid.jqID(i.themodal)).data("onClose")||r.onClose;d.hideModal("#"+D.jgrid.jqID(i.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:t,removemodal:r.removemodal||!1,formprop:!r.recreateForm||!1,form:r.form||""})}})},viewModal:function(e,t){if(t=D.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:D.jgrid.showModal,onHide:D.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},t||{}),D.fn.jqm&&!0===t.jqm)t.jqM?D(e).attr("aria-hidden","false").jqm(t).jqmShow():D(e).attr("aria-hidden","false").jqmShow();else{""!==t.gbox&&(D(".jqgrid-overlay:first",t.gbox).show(),D(e).data("gbox",t.gbox)),D(e).show().attr("aria-hidden","false");try{D(":input:visible",e)[0].focus()}catch(e){}}},info_dialog:function(e,t,i,r){var a={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};D.extend(!0,a,D.jgrid.jqModal||{},{caption:"<b>"+e+"</b>"},r||{});var o=a.jqModal,n=this;D.fn.jqm&&!o&&(o=!1);var s,l="";if(0<a.buttons.length)for(s=0;s<a.buttons.length;s++)void 0===a.buttons[s].id&&(a.buttons[s].id="info_button_"+s),l+="<a id='"+a.buttons[s].id+"' class='fm-button ui-state-default ui-corner-all'>"+a.buttons[s].text+"</a>";var d="<div id='info_id'>";d+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+(isNaN(a.dataheight)?a.dataheight:a.dataheight+"px")+";"+("text-align:"+a.align+";")+"'>"+t+"</div>",d+=i?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+a.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+i+"</a>"+l+"</div>":""!==l?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+a.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+l+"</div>":"",d+="</div>";try{"false"===D("#info_dialog").attr("aria-hidden")&&D.jgrid.hideModal("#info_dialog",{jqm:o}),D("#info_dialog").remove()}catch(e){}D.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},d,a,"","",!0),l&&D.each(a.buttons,function(e){D("#"+D.jgrid.jqID(this.id),"#info_id").bind("click",function(){return a.buttons[e].onClick.call(D("#info_dialog")),!1})}),D("#closedialog","#info_id").click(function(){return n.hideModal("#info_dialog",{jqm:o,onClose:D("#info_dialog").data("onClose")||a.onClose,gb:D("#info_dialog").data("gbox")||a.gbox}),!1}),D(".fm-button","#info_dialog").hover(function(){D(this).addClass("ui-state-hover")},function(){D(this).removeClass("ui-state-hover")}),D.isFunction(a.beforeOpen)&&a.beforeOpen(),D.jgrid.viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:a.modal,jqm:o}),D.isFunction(a.afterOpen)&&a.afterOpen();try{D("#info_dialog").focus()}catch(e){}},bindEv:function(e,t){D.isFunction(t.dataInit)&&t.dataInit.call(this,e,t),t.dataEvents&&D.each(t.dataEvents,function(){void 0!==this.data?D(e).bind(this.type,this.data,this.fn):D(e).bind(this.type,this.fn)})},createEl:function(e,t,i,r,a){var o="",s=this;function l(i,e,t){var r=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value"];void 0!==t&&D.isArray(t)&&D.merge(r,t),D.each(e,function(e,t){-1===D.inArray(e,r)&&D(i).attr(e,t)}),e.hasOwnProperty("id")||D(i).attr("id",D.jgrid.randId())}switch(e){case"textarea":o=document.createElement("textarea"),r?t.cols||D(o).css({width:"98%"}):t.cols||(t.cols=20),t.rows||(t.rows=2),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i=""),o.value=i,l(o,t),D(o).attr({role:"textbox",multiline:"true"});break;case"checkbox":if((o=document.createElement("input")).type="checkbox",t.value){var n=t.value.split(":");i===n[0]&&(o.checked=!0,o.defaultChecked=!0),o.value=n[0],D(o).attr("offval",n[1])}else{var d=(i+"").toLowerCase();d.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==d?(o.checked=!0,o.defaultChecked=!0,o.value=i):o.value="on",D(o).attr("offval","off")}l(o,t,["value"]),D(o).attr("role","checkbox");break;case"select":(o=document.createElement("select")).setAttribute("role","select");var p,c=[];if(!0===t.multiple?(p=!0,o.multiple="multiple",D(o).attr("aria-multiselectable","true")):p=!1,void 0!==t.dataUrl){var u=null,h=t.postData||a.postData;try{u=t.rowId}catch(e){}s.p&&s.p.idPrefix&&(u=D.jgrid.stripPref(s.p.idPrefix,u)),D.ajax(D.extend({url:D.isFunction(t.dataUrl)?t.dataUrl.call(s,u,i,String(t.name)):t.dataUrl,type:"GET",dataType:"html",data:D.isFunction(h)?h.call(s,u,i,String(t.name)):h,context:{elem:o,options:t,vl:i},success:function(e){var t=[],i=this.elem,r=this.vl,a=D.extend({},this.options),o=!0===a.multiple,n=D.isFunction(a.buildSelect)?a.buildSelect.call(s,e):e;"string"==typeof n&&(n=D(D.trim(n)).html()),n&&(D(i).append(n),l(i,a,h?["postData"]:void 0),void 0===a.size&&(a.size=o?3:1),o?(t=r.split(","),t=D.map(t,function(e){return D.trim(e)})):t[0]=D.trim(r),setTimeout(function(){D("option",i).each(function(e){0===e&&i.multiple&&(this.selected=!1),D(this).attr("role","option"),(-1<D.inArray(D.trim(D(this).text()),t)||-1<D.inArray(D.trim(D(this).val()),t))&&(this.selected="selected")})},0))}},a||{}))}else if(t.value){var f;void 0===t.size&&(t.size=p?3:1),p&&(c=i.split(","),c=D.map(c,function(e){return D.trim(e)})),"function"==typeof t.value&&(t.value=t.value());var g,m,v,b=void 0===t.separator?":":t.separator,w=void 0===t.delimiter?";":t.delimiter;if("string"==typeof t.value)for(g=t.value.split(w),f=0;f<g.length;f++)2<(m=g[f].split(b)).length&&(m[1]=D.map(m,function(e,t){if(0<t)return e}).join(b)),(v=document.createElement("option")).setAttribute("role","option"),v.value=m[0],v.innerHTML=m[1],o.appendChild(v),p||D.trim(m[0])!==D.trim(i)&&D.trim(m[1])!==D.trim(i)||(v.selected="selected"),p&&(-1<D.inArray(D.trim(m[1]),c)||-1<D.inArray(D.trim(m[0]),c))&&(v.selected="selected");else if("object"==typeof t.value){var j,y=t.value;for(j in y)y.hasOwnProperty(j)&&((v=document.createElement("option")).setAttribute("role","option"),v.value=j,v.innerHTML=y[j],o.appendChild(v),p||D.trim(j)!==D.trim(i)&&D.trim(y[j])!==D.trim(i)||(v.selected="selected"),p&&(-1<D.inArray(D.trim(y[j]),c)||-1<D.inArray(D.trim(j),c))&&(v.selected="selected"))}l(o,t,["value"])}break;case"text":case"password":case"button":var x;x="button"===e?"button":"textbox",(o=document.createElement("input")).type=e,o.value=i,l(o,t),"button"!==e&&(r?t.size||D(o).css({width:"98%"}):t.size||(t.size=20)),D(o).attr("role",x);break;case"image":case"file":(o=document.createElement("input")).type=e,l(o,t);break;case"custom":o=document.createElement("span");try{if(!D.isFunction(t.custom_element))throw"e1";var q=t.custom_element.call(s,i,t);if(!q)throw"e2";q=D(q).addClass("customelement").attr({id:t.id,name:t.name}),D(o).empty().append(q)}catch(e){"e1"===e&&D.jgrid.info_dialog(D.jgrid.errors.errcap,"function 'custom_element' "+D.jgrid.edit.msg.nodefined,D.jgrid.edit.bClose),"e2"===e?D.jgrid.info_dialog(D.jgrid.errors.errcap,"function 'custom_element' "+D.jgrid.edit.msg.novalue,D.jgrid.edit.bClose):D.jgrid.info_dialog(D.jgrid.errors.errcap,"string"==typeof e?e:e.message,D.jgrid.edit.bClose)}}return o},checkDate:function(e,t){var i,r={};if(i=-1!==(e=e.toLowerCase()).indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),3!==(t=t.split(i)).length)return!1;var a,o,n=-1,s=-1,l=-1;for(o=0;o<e.length;o++){var d=isNaN(t[o])?0:parseInt(t[o],10);r[e[o]]=d,-1!==(a=e[o]).indexOf("y")&&(n=o),-1!==a.indexOf("m")&&(l=o),-1!==a.indexOf("d")&&(s=o)}a="y"===e[n]||"yyyy"===e[n]?4:"yy"===e[n]?2:-1;var p,c;return-1!==n&&(p=r[e[n]].toString(),2===a&&1===p.length&&(a=1),p.length===a&&(0!==r[e[n]]||"00"===t[n])&&(-1!==l&&(!((p=r[e[l]].toString()).length<1||r[e[l]]<1||12<r[e[l]])&&(-1!==s&&!((p=r[e[s]].toString()).length<1||r[e[s]]<1||31<r[e[s]]||2===r[e[l]]&&r[e[s]]>((c=r[e[n]])%4!=0||c%100==0&&c%400!=0?28:29)||r[e[s]]>[0,31,29,31,30,31,30,31,31,30,31,30,31][r[e[l]]])))))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(e){var t;if(!D.jgrid.isEmpty(e)){if(!(t=e.match(/^(\d{1,2}):(\d{2})([apAP][Mm])?$/)))return!1;if(t[3]){if(t[1]<1||12<t[1])return!1}else if(23<t[1])return!1;if(59<t[2])return!1}return!0},checkValues:function(e,t,i,r){var a,o,n,s,l,d=this.p.colModel;if(void 0===i)if("string"==typeof t){for(o=0,l=d.length;o<l;o++)if(d[o].name===t){a=d[o].editrules,null!=d[t=o].formoptions&&(n=d[o].formoptions.label);break}}else 0<=t&&(a=d[t].editrules);else a=i,n=void 0===r?"_":r;if(a){if(n||(n=null!=this.p.colNames?this.p.colNames[t]:d[t].label),!0===a.required&&D.jgrid.isEmpty(e))return[!1,n+": "+D.jgrid.edit.msg.required,""];var p=!1!==a.required;if(!0===a.number&&(!1!==p||!D.jgrid.isEmpty(e))&&isNaN(e))return[!1,n+": "+D.jgrid.edit.msg.number,""];if(void 0!==a.minValue&&!isNaN(a.minValue)&&parseFloat(e)<parseFloat(a.minValue))return[!1,n+": "+D.jgrid.edit.msg.minValue+" "+a.minValue,""];if(void 0!==a.maxValue&&!isNaN(a.maxValue)&&parseFloat(e)>parseFloat(a.maxValue))return[!1,n+": "+D.jgrid.edit.msg.maxValue+" "+a.maxValue,""];if(!0===a.email&&!(!1===p&&D.jgrid.isEmpty(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)))return[!1,n+": "+D.jgrid.edit.msg.email,""];if(!0===a.integer&&(!1!==p||!D.jgrid.isEmpty(e))){if(isNaN(e))return[!1,n+": "+D.jgrid.edit.msg.integer,""];if(e%1!=0||-1!==e.indexOf("."))return[!1,n+": "+D.jgrid.edit.msg.integer,""]}if(!0===a.date&&!(!1===p&&D.jgrid.isEmpty(e)||(d[t].formatoptions&&d[t].formatoptions.newformat?(s=d[t].formatoptions.newformat,D.jgrid.formatter.date.masks.hasOwnProperty(s)&&(s=D.jgrid.formatter.date.masks[s])):s=d[t].datefmt||"Y-m-d",D.jgrid.checkDate(s,e))))return[!1,n+": "+D.jgrid.edit.msg.date+" - "+s,""];if(!0===a.time&&!(!1===p&&D.jgrid.isEmpty(e)||D.jgrid.checkTime(e)))return[!1,n+": "+D.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(!0===a.url&&!(!1===p&&D.jgrid.isEmpty(e)||/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i.test(e)))return[!1,n+": "+D.jgrid.edit.msg.url,""];if(!0===a.custom&&(!1!==p||!D.jgrid.isEmpty(e))){if(D.isFunction(a.custom_func)){var c=a.custom_func.call(this,e,n,t);return D.isArray(c)?c:[!1,D.jgrid.edit.msg.customarray,""]}return[!1,D.jgrid.edit.msg.customfcheck,""]}}return[!0,"",""]}})}(jQuery),function(k){"use strict";k.jgrid.extend({getColProp:function(e){var t={},i=this[0];if(!i.grid)return!1;var r,a=i.p.colModel;for(r=0;r<a.length;r++)if(a[r].name===e){t=a[r];break}return t},setColProp:function(i,r){return this.each(function(){if(this.grid&&r){var e,t=this.p.colModel;for(e=0;e<t.length;e++)if(t[e].name===i){k.extend(!0,this.p.colModel[e],r);break}}})},sortGrid:function(o,n,s){return this.each(function(){var e,t=this,i=-1,r=!1;if(t.grid){for(o||(o=t.p.sortname),e=0;e<t.p.colModel.length;e++)if(t.p.colModel[e].index===o||t.p.colModel[e].name===o){i=e,!0===t.p.frozenColumns&&!0===t.p.colModel[e].frozen&&(r=t.grid.fhDiv.find("#"+t.p.id+"_"+o));break}if(-1!==i){var a=t.p.colModel[i].sortable;r||(r=t.grid.headers[i].el),"boolean"!=typeof a&&(a=!0),"boolean"!=typeof n&&(n=!1),a&&t.sortData("jqgh_"+t.p.id+"_"+o,i,n,s,r)}}})},clearBeforeUnload:function(){return this.each(function(){var e=this.grid;k.isFunction(e.emptyRows)&&e.emptyRows.call(this,!0,!0),k(document).unbind("mouseup.jqGrid"+this.p.id),k(e.hDiv).unbind("mousemove"),k(this).unbind(),e.dragEnd=null,e.dragMove=null,e.dragStart=null,e.emptyRows=null,e.populate=null,e.populateVisible=null,e.scrollGrid=null,e.selectionPreserver=null,e.bDiv=null,e.cDiv=null,e.hDiv=null,e.cols=null;var t,i=e.headers.length;for(t=0;t<i;t++)e.headers[t].el=null;this.formatCol=null,this.sortData=null,this.updatepager=null,this.refreshIndex=null,this.setHeadCheckBox=null,this.constructTr=null,this.formatter=null,this.addXmlData=null,this.addJSONData=null,this.grid=null})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&k(this.p.pager).remove();try{k(this).jqGrid("clearBeforeUnload"),k("#gbox_"+k.jgrid.jqID(this.id)).remove(),k("#alertmod_"+k.jgrid.jqID(this.id)).remove()}catch(e){}}})},GridUnload:function(){return this.each(function(){if(this.grid){var e={id:k(this).attr("id"),cl:k(this).attr("class")};this.p.pager&&k(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");var t=document.createElement("table");k(t).attr({id:e.id}),t.className=e.cl;var i=k.jgrid.jqID(this.id);k(t).removeClass("ui-jqgrid-btable"),1===k(this.p.pager).parents("#gbox_"+i).length?(k(t).insertBefore("#gbox_"+i).show(),k(this.p.pager).insertBefore("#gbox_"+i)):k(t).insertBefore("#gbox_"+i).show(),k(this).jqGrid("clearBeforeUnload"),k("#gbox_"+i).remove()}})},setGridState:function(t){return this.each(function(){if(this.grid){var e=this;"hidden"===t?(k(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+k.jgrid.jqID(e.p.id)).slideUp("fast"),e.p.pager&&k(e.p.pager).slideUp("fast"),e.p.toppager&&k(e.p.toppager).slideUp("fast"),!0===e.p.toolbar[0]&&("both"===e.p.toolbar[1]&&k(e.grid.ubDiv).slideUp("fast"),k(e.grid.uDiv).slideUp("fast")),e.p.footerrow&&k(".ui-jqgrid-sdiv","#gbox_"+k.jgrid.jqID(e.p.id)).slideUp("fast"),k(".ui-jqgrid-titlebar-close span",e.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),e.p.gridstate="hidden"):"visible"===t&&(k(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+k.jgrid.jqID(e.p.id)).slideDown("fast"),e.p.pager&&k(e.p.pager).slideDown("fast"),e.p.toppager&&k(e.p.toppager).slideDown("fast"),!0===e.p.toolbar[0]&&("both"===e.p.toolbar[1]&&k(e.grid.ubDiv).slideDown("fast"),k(e.grid.uDiv).slideDown("fast")),e.p.footerrow&&k(".ui-jqgrid-sdiv","#gbox_"+k.jgrid.jqID(e.p.id)).slideDown("fast"),k(".ui-jqgrid-titlebar-close span",e.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),e.p.gridstate="visible")}})},filterToolbar:function($){return $=k.extend({autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^",in:"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},k.jgrid.search,$||{}),this.each(function(){var q=this;if(!this.ftoolbar){var D,C=function(){var t,i,r,a={},o=0,n={};k.each(q.p.colModel,function(){var e=k("#gs_"+k.jgrid.jqID(this.name),!0===this.frozen&&!0===q.p.frozenColumns?q.grid.fhDiv:q.grid.hDiv);if(i=this.index||this.name,r=$.searchOperators?e.parent().prev().children("a").attr("soper")||$.defaultSearch:this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"===this.stype?"eq":$.defaultSearch,(t="custom"===this.stype&&k.isFunction(this.searchoptions.custom_value)&&0<e.length&&"SPAN"===e[0].nodeName.toUpperCase()?this.searchoptions.custom_value.call(q,e.children(".customelement:first"),"get"):e.val())||"nu"===r||"nn"===r)a[i]=t,n[i]=r,o++;else try{delete q.p.postData[i]}catch(e){}});var e,s=0<o;if(!0===$.stringResult||"local"===q.p.datatype||!0===$.searchOperators){var l='{"groupOp":"'+$.groupOp+'","rules":[',d=0;k.each(a,function(e,t){0<d&&(l+=","),l+='{"field":"'+e+'",',l+='"op":"'+n[e]+'",',l+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',d++}),l+="]}",k.extend(q.p.postData,{filters:l}),k.each(["searchField","searchString","searchOper"],function(e,t){q.p.postData.hasOwnProperty(t)&&delete q.p.postData[t]})}else k.extend(q.p.postData,a);q.p.searchurl&&(e=q.p.url,k(q).jqGrid("setGridParam",{url:q.p.searchurl}));var p="stop"===k(q).triggerHandler("jqGridToolbarBeforeSearch");!p&&k.isFunction($.beforeSearch)&&(p=$.beforeSearch.call(q)),p||k(q).jqGrid("setGridParam",{search:s}).trigger("reloadGrid",[{page:1}]),e&&k(q).jqGrid("setGridParam",{url:e}),k(q).triggerHandler("jqGridToolbarAfterSearch"),k.isFunction($.afterSearch)&&$.afterSearch.call(q)},_=k("<tr class='ui-search-toolbar' role='row'></tr>");k.each(q.p.colModel,function(e){var i,t,r,a,o,n=this,s="",l="=",d=k("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+q.p.direction+"'></th>"),p=k("<div style='position:relative;height:auto;padding-right:0.3em;padding-left:0.3em;'></div>"),c=k("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear'></td></tr></table>");if(!0===this.hidden&&k(d).css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),i=k.extend({},this.searchoptions||{}),this.search){if($.searchOperators){for(a=i.sopt?i.sopt[0]:"select"===n.stype?"eq":$.defaultSearch,o=0;o<$.odata.length;o++)if($.odata[o].oper===a){l=$.operands[a]||"";break}s="<a title='"+(null!=i.searchtitle?i.searchtitle:$.operandTitle)+"' style='padding-right: 0.5em;' soper='"+a+"' class='soptclass' colname='"+this.name+"'>"+l+"</a>"}if(k("td:eq(0)",c).attr("colindex",e).append(s),void 0===i.clearSearch&&(i.clearSearch=!0),i.clearSearch){var u=$.resetTitle||"Clear Search Value";k("td:eq(2)",c).append("<a title='"+u+"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>"+$.resetIcon+"</a>")}else k("td:eq(2)",c).hide();switch(this.stype){case"select":var h,f,g;if(t=this.surl||i.dataUrl)k(r=p).append(c),k.ajax(k.extend({url:t,dataType:"html",success:function(e){if(void 0!==i.buildSelect){var t=i.buildSelect(e);t&&k("td:eq(1)",c).append(t)}else k("td:eq(1)",c).append(e);void 0!==i.defaultValue&&k("select",r).val(i.defaultValue),k("select",r).attr({name:n.index||n.name,id:"gs_"+n.name}),i.attr&&k("select",r).attr(i.attr),k("select",r).css({width:"100%"}),k.jgrid.bindEv.call(q,k("select",r)[0],i),!0===$.autosearch&&k("select",r).change(function(){return C(),!1}),e=null}},k.jgrid.ajaxOptions,q.p.ajaxSelectOptions||{}));else if(n.searchoptions?(h=void 0===n.searchoptions.value?"":n.searchoptions.value,f=void 0===n.searchoptions.separator?":":n.searchoptions.separator,g=void 0===n.searchoptions.delimiter?";":n.searchoptions.delimiter):n.editoptions&&(h=void 0===n.editoptions.value?"":n.editoptions.value,f=void 0===n.editoptions.separator?":":n.editoptions.separator,g=void 0===n.editoptions.delimiter?";":n.editoptions.delimiter),h){var m,v,b,w,j=document.createElement("select");if(j.style.width="100%",k(j).attr({name:n.index||n.name,id:"gs_"+n.name}),"string"==typeof h)for(a=h.split(g),w=0;w<a.length;w++)m=a[w].split(f),(v=document.createElement("option")).value=m[0],v.innerHTML=m[1],j.appendChild(v);else if("object"==typeof h)for(b in h)h.hasOwnProperty(b)&&((v=document.createElement("option")).value=b,v.innerHTML=h[b],j.appendChild(v));void 0!==i.defaultValue&&k(j).val(i.defaultValue),i.attr&&k(j).attr(i.attr),k(p).append(c),k.jgrid.bindEv.call(q,j,i),k("td:eq(1)",c).append(j),!0===$.autosearch&&k(j).change(function(){return C(),!1})}break;case"text":var y=void 0!==i.defaultValue?i.defaultValue:"";k("td:eq(1)",c).append("<input type='text' style='width:100%;padding:0px;' name='"+(n.index||n.name)+"' id='gs_"+n.name+"' value='"+y+"'/>"),k(p).append(c),i.attr&&k("input",p).attr(i.attr),k.jgrid.bindEv.call(q,k("input",p)[0],i),!0===$.autosearch&&($.searchOnEnter?k("input",p).keypress(function(e){return 13===(e.charCode||e.keyCode||0)?(C(),!1):this}):k("input",p).keydown(function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:D&&clearTimeout(D),D=setTimeout(function(){C()},$.autosearchDelay)}}));break;case"custom":k("td:eq(1)",c).append("<span style='width:95%;padding:0px;' name='"+(n.index||n.name)+"' id='gs_"+n.name+"'/>"),k(p).append(c);try{if(!k.isFunction(i.custom_element))throw"e1";var x=i.custom_element.call(q,void 0!==i.defaultValue?i.defaultValue:"",i);if(!x)throw"e2";x=k(x).addClass("customelement"),k(p).find("span[name='"+(n.index||n.name)+"']").append(x)}catch(e){"e1"===e&&k.jgrid.info_dialog(k.jgrid.errors.errcap,"function 'custom_element' "+k.jgrid.edit.msg.nodefined,k.jgrid.edit.bClose),"e2"===e?k.jgrid.info_dialog(k.jgrid.errors.errcap,"function 'custom_element' "+k.jgrid.edit.msg.novalue,k.jgrid.edit.bClose):k.jgrid.info_dialog(k.jgrid.errors.errcap,"string"==typeof e?e:e.message,k.jgrid.edit.bClose)}}}k(d).append(p),k(_).append(d),$.searchOperators||k("td:eq(0)",c).hide()}),k("table thead",q.grid.hDiv).append(_),$.searchOperators&&(k(".soptclass",_).click(function(e){var t=k(this).offset();!function(a,e,t){k("#sopt_menu").remove(),e=parseInt(e,10),t=parseInt(t,10)+18;for(var i,r='<ul id="sopt_menu" class="ui-search-menu" role="menu" tabindex="0" style="font-size:'+(k(".ui-jqgrid-view").css("font-size")||"11px")+";left:"+e+"px;top:"+t+'px;">',o=k(a).attr("soper"),n=[],s=0,l=k(a).attr("colname"),d=q.p.colModel.length;s<d&&q.p.colModel[s].name!==l;)s++;var p=q.p.colModel[s],c=k.extend({},p.searchoptions);for(c.sopt||(c.sopt=[],c.sopt[0]="select"===p.stype?"eq":$.defaultSearch),k.each($.odata,function(){n.push(this.oper)}),s=0;s<c.sopt.length;s++)-1!==(i=k.inArray(c.sopt[s],n))&&(r+='<li class="ui-menu-item '+(o===$.odata[i].oper?"ui-state-highlight":"")+'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="'+$.odata[i].oper+'" oper="'+$.operands[$.odata[i].oper]+'"><table cellspacing="0" cellpadding="0" border="0"><tr><td width="25px">'+$.operands[$.odata[i].oper]+"</td><td>"+$.odata[i].text+"</td></tr></table></a></li>");r+="</ul>",k("body").append(r),k("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all"),k("#sopt_menu > li > a").hover(function(){k(this).addClass("ui-state-hover")},function(){k(this).removeClass("ui-state-hover")}).click(function(e){var t=k(this).attr("value"),i=k(this).attr("oper");if(k(q).triggerHandler("jqGridToolbarSelectOper",[t,i,a]),k("#sopt_menu").hide(),k(a).text(i).attr("soper",t),!0===$.autosearch){var r=k(a).parent().next().children()[0];(k(r).val()||"nu"===t||"nn"===t)&&C()}})}(this,t.left,t.top),e.stopPropagation()}),k("body").on("click",function(e){"soptclass"!==e.target.className&&k("#sopt_menu").hide()})),k(".clearsearchclass",_).click(function(e){var t=k(this).parents("tr:first"),i=parseInt(k("td.ui-search-oper",t).attr("colindex"),10),r=k.extend({},q.p.colModel[i].searchoptions||{}),a=r.defaultValue?r.defaultValue:"";"select"===q.p.colModel[i].stype?a?k("td.ui-search-input select",t).val(a):k("td.ui-search-input select",t)[0].selectedIndex=0:k("td.ui-search-input input",t).val(a),!0===$.autosearch&&C()}),this.ftoolbar=!0,this.triggerToolbar=C,this.clearToolbar=function(e){var i,r={},a=0;e="boolean"!=typeof e||e,k.each(q.p.colModel,function(){var t,e=k("#gs_"+k.jgrid.jqID(this.name),!0===this.frozen&&!0===q.p.frozenColumns?q.grid.fhDiv:q.grid.hDiv);switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(t=this.searchoptions.defaultValue),i=this.index||this.name,this.stype){case"select":if(e.find("option").each(function(e){if(0===e&&(this.selected=!0),k(this).val()===t)return!(this.selected=!0)}),void 0!==t)r[i]=t,a++;else try{delete q.p.postData[i]}catch(e){}break;case"text":if(e.val(t||""),void 0!==t)r[i]=t,a++;else try{delete q.p.postData[i]}catch(e){}break;case"custom":k.isFunction(this.searchoptions.custom_value)&&0<e.length&&"SPAN"===e[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(q,e.children(".customelement:first"),"set",t||"")}});var t,o=0<a;if((q.p.resetsearch=!0)===$.stringResult||"local"===q.p.datatype){var n='{"groupOp":"'+$.groupOp+'","rules":[',s=0;k.each(r,function(e,t){0<s&&(n+=","),n+='{"field":"'+e+'",',n+='"op":"eq",',n+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',s++}),n+="]}",k.extend(q.p.postData,{filters:n}),k.each(["searchField","searchString","searchOper"],function(e,t){q.p.postData.hasOwnProperty(t)&&delete q.p.postData[t]})}else k.extend(q.p.postData,r);q.p.searchurl&&(t=q.p.url,k(q).jqGrid("setGridParam",{url:q.p.searchurl}));var l="stop"===k(q).triggerHandler("jqGridToolbarBeforeClear");!l&&k.isFunction($.beforeClear)&&(l=$.beforeClear.call(q)),l||e&&k(q).jqGrid("setGridParam",{search:o}).trigger("reloadGrid",[{page:1}]),t&&k(q).jqGrid("setGridParam",{url:t}),k(q).triggerHandler("jqGridToolbarAfterClear"),k.isFunction($.afterClear)&&$.afterClear()},this.toggleToolbar=function(){var e=k("tr.ui-search-toolbar",q.grid.hDiv),t=!0===q.p.frozenColumns&&k("tr.ui-search-toolbar",q.grid.fhDiv);"none"===e.css("display")?(e.show(),t&&t.show()):(e.hide(),t&&t.hide())}}})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.ftoolbar=!1,k(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},destroyGroupHeader:function(p){return void 0===p&&(p=!0),this.each(function(){var e,t,i,r,a,o,n,s=this.grid,l=k("table.ui-jqgrid-htable thead",s.hDiv),d=this.p.colModel;if(s){for(k(this).unbind(".setGroupHeaders"),e=k("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),t=0,i=(r=s.headers).length;t<i;t++){n=d[t].hidden?"none":"",a=k(r[t].el).width(r[t].width).css("display",n);try{a.removeAttr("rowSpan")}catch(e){a.attr("rowSpan",1)}e.append(a),0<(o=a.children("span.ui-jqgrid-resize")).length&&(o[0].style.height=""),a.children("div")[0].style.top=""}k(l).children("tr.ui-jqgrid-labels").remove(),k(l).prepend(e),!0===p&&k(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(D){return D=k.extend({useColSpanStyle:!1,groupHeaders:[]},D||{}),this.each(function(){this.p.groupHeader=D;var e,t,i,r,a,o,n,s,l,d,p,c,u,h=this,f=0,g=h.p.colModel,m=g.length,v=h.grid.headers,b=k("table.ui-jqgrid-htable",h.grid.hDiv),w=b.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),j=b.children("thead"),y=b.find(".jqg-first-row-header");void 0===y[0]?y=k("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):y.empty();var x,q=function(e,t){var i,r=t.length;for(i=0;i<r;i++)if(t[i].startColumnName===e)return i;return-1};for(k(h).prepend(j),i=k("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),e=0;e<m;e++)if(a=v[e].el,o=k(a),t=g[e],n={height:"0px",width:v[e].width+"px",display:t.hidden?"none":""},k("<th>",{role:"gridcell"}).css(n).addClass("ui-first-th-"+h.p.direction).appendTo(y),a.style.width="",0<=(s=q(t.name,D.groupHeaders))){for(d=(l=D.groupHeaders[s]).numberOfColumns,p=l.titleText,s=c=0;s<d&&e+s<m;s++)g[e+s].hidden||c++;r=k("<th>").attr({role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+h.p.direction).css({height:"22px","border-top":"0 none"}).html(p),0<c&&r.attr("colspan",String(c)),h.p.headertitles&&r.attr("title",r.text()),0===c&&r.hide(),o.before(r),i.append(a),f=d-1}else 0===f?D.useColSpanStyle?o.attr("rowspan","2"):(k("<th>",{role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+h.p.direction).css({display:t.hidden?"none":"","border-top":"0 none"}).insertBefore(o),i.append(a)):(i.append(a),f--);(u=k(h).children("thead")).prepend(y),i.insertAfter(w),b.append(u),D.useColSpanStyle&&(b.find("span.ui-jqgrid-resize").each(function(){var e=k(this).parent();e.is(":visible")&&(this.style.cssText="height: "+e.height()+"px !important; cursor: col-resize;")}),b.find("div.ui-jqgrid-sortable").each(function(){var e=k(this),t=e.parent();t.is(":visible")&&t.is(":has(span.ui-jqgrid-resize)")&&e.css("top",(t.height()-e.outerHeight())/2+"px")})),x=u.find("tr.jqg-first-row-header"),k(h).bind("jqGridResizeStop.setGroupHeaders",function(e,t,i){x.find("th").eq(i).width(t)})})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var n=this,e=n.p.colModel,t=0,i=e.length,r=-1,a=!1;if(!0!==n.p.subGrid&&!0!==n.p.treeGrid&&!0!==n.p.cellEdit&&!n.p.sortable&&!n.p.scroll){for(n.p.rownumbers&&t++,n.p.multiselect&&t++;t<i&&!0===e[t].frozen;)a=!0,r=t,t++;if(0<=r&&a){var o=n.p.caption?k(n.grid.cDiv).outerHeight():0,s=k(".ui-jqgrid-htable","#gview_"+k.jgrid.jqID(n.p.id)).height();n.p.toppager&&(o+=k(n.grid.topDiv).outerHeight()),!0===n.p.toolbar[0]&&"bottom"!==n.p.toolbar[1]&&(o+=k(n.grid.uDiv).outerHeight()),n.grid.fhDiv=k('<div style="position:absolute;left:0px;top:'+o+"px;height:"+s+'px;" class="frozen-div ui-state-default ui-jqgrid-hdiv"></div>'),n.grid.fbDiv=k('<div style="position:absolute;left:0px;top:'+(parseInt(o,10)+parseInt(s,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),k("#gview_"+k.jgrid.jqID(n.p.id)).append(n.grid.fhDiv);var l=k(".ui-jqgrid-htable","#gview_"+k.jgrid.jqID(n.p.id)).clone(!0);if(n.p.groupHeader){k("tr.jqg-first-row-header, tr.jqg-third-row-header",l).each(function(){k("th:gt("+r+")",this).remove()});var d,p=-1,c=-1;k("tr.jqg-second-row-header th",l).each(function(){if(d=parseInt(k(this).attr("colspan"),10),parseInt(k(this).attr("rowspan"),10)&&(p++,c++),d&&(p+=d,c++),p===r)return!1}),p!==r&&(c=r),k("tr.jqg-second-row-header",l).each(function(){k("th:gt("+c+")",this).remove()})}else k("tr",l).each(function(){k("th:gt("+r+")",this).remove()});if(k(l).width(1),k(n.grid.fhDiv).append(l).mousemove(function(e){if(n.grid.resizing)return n.grid.dragMove(e),!1}),n.p.footerrow){var u=k(".ui-jqgrid-bdiv","#gview_"+k.jgrid.jqID(n.p.id)).height();n.grid.fsDiv=k('<div style="position:absolute;left:0px;top:'+(parseInt(o,10)+parseInt(s,10)+parseInt(u,10)+1)+'px;" class="frozen-sdiv ui-jqgrid-sdiv"></div>'),k("#gview_"+k.jgrid.jqID(n.p.id)).append(n.grid.fsDiv);var h=k(".ui-jqgrid-ftable","#gview_"+k.jgrid.jqID(n.p.id)).clone(!0);k("tr",h).each(function(){k("td:gt("+r+")",this).remove()}),k(h).width(1),k(n.grid.fsDiv).append(h)}k(n).bind("jqGridResizeStop.setFrozenColumns",function(e,t,i){var r=k(".ui-jqgrid-htable",n.grid.fhDiv);k("th:eq("+i+")",r).width(t);var a=k(".ui-jqgrid-btable",n.grid.fbDiv);if(k("tr:first td:eq("+i+")",a).width(t),n.p.footerrow){var o=k(".ui-jqgrid-ftable",n.grid.fsDiv);k("tr:first td:eq("+i+")",o).width(t)}}),k(n).bind("jqGridSortCol.setFrozenColumns",function(e,t,i){var r=k("tr.ui-jqgrid-labels:last th:eq("+n.p.lastsort+")",n.grid.fhDiv),a=k("tr.ui-jqgrid-labels:last th:eq("+i+")",n.grid.fhDiv);k("span.ui-grid-ico-sort",r).addClass("ui-state-disabled"),k(r).attr("aria-selected","false"),k("span.ui-icon-"+n.p.sortorder,a).removeClass("ui-state-disabled"),k(a).attr("aria-selected","true"),n.p.viewsortcols[0]||n.p.lastsort!==i&&(k("span.s-ico",r).hide(),k("span.s-ico",a).show())}),k("#gview_"+k.jgrid.jqID(n.p.id)).append(n.grid.fbDiv),k(n.grid.bDiv).scroll(function(){k(n.grid.fbDiv).scrollTop(k(this).scrollTop())}),!0===n.p.hoverrows&&k("#"+k.jgrid.jqID(n.p.id)).unbind("mouseover").unbind("mouseout"),k(n).bind("jqGridAfterGridComplete.setFrozenColumns",function(){k("#"+k.jgrid.jqID(n.p.id)+"_frozen").remove(),k(n.grid.fbDiv).height(k(n.grid.bDiv).height()-16);var e=k("#"+k.jgrid.jqID(n.p.id)).clone(!0);k("tr[role=row]",e).each(function(){k("td[role=gridcell]:gt("+r+")",this).remove()}),k(e).width(1).attr("id",n.p.id+"_frozen"),k(n.grid.fbDiv).append(e),!0===n.p.hoverrows&&(k("tr.jqgrow",e).hover(function(){k(this).addClass("ui-state-hover"),k("#"+k.jgrid.jqID(this.id),"#"+k.jgrid.jqID(n.p.id)).addClass("ui-state-hover")},function(){k(this).removeClass("ui-state-hover"),k("#"+k.jgrid.jqID(this.id),"#"+k.jgrid.jqID(n.p.id)).removeClass("ui-state-hover")}),k("tr.jqgrow","#"+k.jgrid.jqID(n.p.id)).hover(function(){k(this).addClass("ui-state-hover"),k("#"+k.jgrid.jqID(this.id),"#"+k.jgrid.jqID(n.p.id)+"_frozen").addClass("ui-state-hover")},function(){k(this).removeClass("ui-state-hover"),k("#"+k.jgrid.jqID(this.id),"#"+k.jgrid.jqID(n.p.id)+"_frozen").removeClass("ui-state-hover")})),e=null}),n.grid.hDiv.loading||k(n).triggerHandler("jqGridAfterGridComplete"),n.p.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&!0===this.p.frozenColumns){var t,e=this;if(k(e.grid.fhDiv).remove(),k(e.grid.fbDiv).remove(),e.grid.fhDiv=null,e.grid.fbDiv=null,e.p.footerrow&&(k(e.grid.fsDiv).remove(),e.grid.fsDiv=null),k(this).unbind(".setFrozenColumns"),!0===e.p.hoverrows)k("#"+k.jgrid.jqID(e.p.id)).bind("mouseover",function(e){t=k(e.target).closest("tr.jqgrow"),"ui-subgrid"!==k(t).attr("class")&&k(t).addClass("ui-state-hover")}).bind("mouseout",function(e){t=k(e.target).closest("tr.jqgrow"),k(t).removeClass("ui-state-hover")});this.p.frozenColumns=!1}})}})}(jQuery),function($){"use strict";$.fn.jqFilter=function(e){if("string"==typeof e){var t=$.fn.jqFilter[e];if(!t)throw"jqFilter - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}var _=$.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},$.jgrid.filter,e||{});return this.each(function(){if(!this.filter){this.p=_,null!==this.p.filter&&void 0!==this.p.filter||(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]});var e,t,i=this.p.columns.length,D=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p.initFilter=$.extend(!0,{},this.p.filter),i){for(e=0;e<i;e++)(t=this.p.columns[e]).stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules")||(t.searchrules={});this.p.showQuery&&$(this).append("<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var C=function(){return $("#"+$.jgrid.jqID(_.id))[0]||null},n=function(e,t){var i=[!0,""],r=C();if($.isFunction(t.searchrules))i=t.searchrules.call(r,e,t);else if($.jgrid&&$.jgrid.checkValues)try{i=$.jgrid.checkValues.call(r,e,-1,t.searchrules,t.label)}catch(e){}i&&i.length&&!1===i[0]&&(_.error=!i[0],_.errmsg=i[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",!!$.isFunction(this.p.onChange)&&this.p.onChange.call(this,this.p)},this.reDraw=function(){$("table.group:first",this).remove();var e=this.createTableForGroup(_.filter,null);$(this).append(e),$.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(r,e){var a,o=this,t=$("<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody></tbody></table>"),i="left";"rtl"===this.p.direction&&(i="right",t.attr("dir","rtl")),null===e&&t.append("<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='"+i+"'></th></tr>");var n=$("<tr></tr>");t.append(n);var s=$("<th colspan='5' align='"+i+"'></th>");if(n.append(s),!0===this.p.ruleButtons){var l=$("<select class='opsel'></select>");s.append(l);var d,p="";for(a=0;a<_.groupOps.length;a++)d=r.groupOp===o.p.groupOps[a].op?" selected='selected'":"",p+="<option value='"+o.p.groupOps[a].op+"'"+d+">"+o.p.groupOps[a].text+"</option>";l.append(p).bind("change",function(){r.groupOp=$(l).val(),o.onchange()})}var c="<span></span>";if(this.p.groupButton&&(c=$("<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>")).bind("click",function(){return void 0===r.groups&&(r.groups=[]),r.groups.push({groupOp:_.groupOps[0].op,rules:[],groups:[]}),o.reDraw(),o.onchange(),!1}),s.append(c),!0===this.p.ruleButtons){var u,h=$("<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>");h.bind("click",function(){for(void 0===r.rules&&(r.rules=[]),a=0;a<o.p.columns.length;a++){var e=void 0===o.p.columns[a].search||o.p.columns[a].search,t=!0===o.p.columns[a].hidden;if(!0===o.p.columns[a].searchoptions.searchhidden&&e||e&&!t){u=o.p.columns[a];break}}var i;return i=u.searchoptions.sopt?u.searchoptions.sopt:o.p.sopt?o.p.sopt:-1!==$.inArray(u.searchtype,o.p.strarr)?o.p.stropts:o.p.numopts,r.rules.push({field:u.name,op:i[0],data:""}),o.reDraw(),!1}),s.append(h)}if(null!==e){var f=$("<input type='button' value='-' title='Delete group' class='delete-group'/>");s.append(f),f.bind("click",function(){for(a=0;a<e.groups.length;a++)if(e.groups[a]===r){e.groups.splice(a,1);break}return o.reDraw(),o.onchange(),!1})}if(void 0!==r.groups)for(a=0;a<r.groups.length;a++){var g=$("<tr></tr>");t.append(g);var m=$("<td class='first'></td>");g.append(m);var v=$("<td colspan='4'></td>");v.append(this.createTableForGroup(r.groups[a],r)),g.append(v)}if(void 0===r.groupOp&&(r.groupOp=o.p.groupOps[0].op),void 0!==r.rules)for(a=0;a<r.rules.length;a++)t.append(this.createTableRowForRule(r.rules[a],r));return t},this.createTableRowForRule=function(a,e){var o,n,s,l,t,d=this,p=C(),i=$("<tr></tr>"),r="";i.append("<td class='first'></td>");var c=$("<td class='columns'></td>");i.append(c);var u,h=$("<select></select>"),f=[];c.append(h),h.bind("change",function(){for(a.field=$(h).val(),s=$(this).parents("tr:first"),o=0;o<d.p.columns.length;o++)if(d.p.columns[o].name===a.field){l=d.p.columns[o];break}if(l){l.searchoptions.id=$.jgrid.randId(),D&&"text"===l.inputtype&&(l.searchoptions.size||(l.searchoptions.size=10));var e=$.jgrid.createEl.call(p,l.inputtype,l.searchoptions,"",!0,d.p.ajaxSelectOptions||{},!0);$(e).addClass("input-elm"),n=l.searchoptions.sopt?l.searchoptions.sopt:d.p.sopt?d.p.sopt:-1!==$.inArray(l.searchtype,d.p.strarr)?d.p.stropts:d.p.numopts;var t="",i=0;for(f=[],$.each(d.p.ops,function(){f.push(this.oper)}),o=0;o<n.length;o++)-1!==(u=$.inArray(n[o],f))&&(0===i&&(a.op=d.p.ops[u].oper),t+="<option value='"+d.p.ops[u].oper+"'>"+d.p.ops[u].text+"</option>",i++);if($(".selectopts",s).empty().append(t),$(".selectopts",s)[0].selectedIndex=0,$.jgrid.msie&&$.jgrid.msiever()<9){var r=parseInt($("select.selectopts",s)[0].offsetWidth,10)+1;$(".selectopts",s).width(r),$(".selectopts",s).css("width","auto")}$(".data",s).empty().append(e),$.jgrid.bindEv.call(p,e,l.searchoptions),$(".input-elm",s).bind("change",function(e){var t=e.target;a.data="SPAN"===t.nodeName.toUpperCase()&&l.searchoptions&&$.isFunction(l.searchoptions.custom_value)?l.searchoptions.custom_value.call(p,$(t).children(".customelement:first"),"get"):t.value,"select"===l.stype&&void 0!==l.searchoptions&&!0===l.searchoptions.multiple&&(a.data=$(t).val().join(",")),d.onchange()}),setTimeout(function(){a.data=$(e).val(),d.onchange()},0)}});var g=0;for(o=0;o<d.p.columns.length;o++){var m=void 0===d.p.columns[o].search||d.p.columns[o].search,v=!0===d.p.columns[o].hidden;(!0===d.p.columns[o].searchoptions.searchhidden&&m||m&&!v)&&(t="",a.field===d.p.columns[o].name&&(t=" selected='selected'",g=o),r+="<option value='"+d.p.columns[o].name+"'"+t+">"+d.p.columns[o].label+"</option>")}h.append(r);var b=$("<td class='operators'></td>");i.append(b),(l=_.columns[g]).searchoptions.id=$.jgrid.randId(),D&&"text"===l.inputtype&&(l.searchoptions.size||(l.searchoptions.size=10));var w=$.jgrid.createEl.call(p,l.inputtype,l.searchoptions,a.data,!0,d.p.ajaxSelectOptions||{},!0);"nu"!==a.op&&"nn"!==a.op||($(w).attr("readonly","true"),$(w).attr("disabled","true"));var j=$("<select class='selectopts'></select>");for(b.append(j),j.bind("change",function(){a.op=$(j).val(),s=$(this).parents("tr:first");var e=$(".input-elm",s)[0];"nu"===a.op||"nn"===a.op?(a.data="","SELECT"!==e.tagName.toUpperCase()&&(e.value=""),e.setAttribute("readonly","true"),e.setAttribute("disabled","true")):("SELECT"===e.tagName.toUpperCase()&&(a.data=e.value),e.removeAttribute("readonly"),e.removeAttribute("disabled")),d.onchange()}),n=l.searchoptions.sopt?l.searchoptions.sopt:d.p.sopt?d.p.sopt:-1!==$.inArray(l.searchtype,d.p.strarr)?d.p.stropts:d.p.numopts,r="",$.each(d.p.ops,function(){f.push(this.oper)}),o=0;o<n.length;o++)-1!==(u=$.inArray(n[o],f))&&(t=a.op===d.p.ops[u].oper?" selected='selected'":"",r+="<option value='"+d.p.ops[u].oper+"'"+t+">"+d.p.ops[u].text+"</option>");j.append(r);var y=$("<td class='data'></td>");i.append(y),y.append(w),$.jgrid.bindEv.call(p,w,l.searchoptions),$(w).addClass("input-elm").bind("change",function(){a.data="custom"===l.inputtype?l.searchoptions.custom_value.call(p,$(this).children(".customelement:first"),"get"):$(this).val(),d.onchange()});var x=$("<td></td>");if(i.append(x),!0===this.p.ruleButtons){var q=$("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>");x.append(q),q.bind("click",function(){for(o=0;o<e.rules.length;o++)if(e.rules[o]===a){e.rules.splice(o,1);break}return d.reDraw(),d.onchange(),!1})}return i},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){1<i.length&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(e){alert(e)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)1<i.length&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(e){alert(e)}return"()"===(i+=")")?"":i},this.getStringForRule=function(e){var t,i,r,a="",o="";for(t=0;t<this.p.ops.length;t++)if(this.p.ops[t].oper===e.op){a=this.p.operands.hasOwnProperty(e.op)?this.p.operands[e.op]:"",o=this.p.ops[t].oper;break}for(t=0;t<this.p.columns.length;t++)if(this.p.columns[t].name===e.field){i=this.p.columns[t];break}return null==i?"":(r=e.data,"bw"!==o&&"bn"!==o||(r+="%"),"ew"!==o&&"en"!==o||(r="%"+r),"cn"!==o&&"nc"!==o||(r="%"+r+"%"),"in"!==o&&"ni"!==o||(r=" ("+r+")"),_.errorcheck&&n(e.data,i),-1!==$.inArray(i.searchtype,["int","integer","float","number","currency"])||"nn"===o||"nu"===o?e.field+" "+a+" "+r:e.field+" "+a+' "'+r+'"')},this.resetFilter=function(){this.p.filter=$.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th.ui-state-error",this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th.ui-state-error",this).html(this.p.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(_.filter)},this.toString=function(){var r=this;function a(e){if(r.p.errorcheck){var t,i;for(t=0;t<r.p.columns.length;t++)if(r.p.columns[t].name===e.field){i=r.p.columns[t];break}i&&n(e.data,i)}return e.op+"(item."+e.field+",'"+e.data+"')"}return function e(t){var i,r="(";if(void 0!==t.groups)for(i=0;i<t.groups.length;i++)1<r.length&&("OR"===t.groupOp?r+=" || ":r+=" && "),r+=e(t.groups[i]);if(void 0!==t.rules)for(i=0;i<t.rules.length;i++)1<r.length&&("OR"===t.groupOp?r+=" || ":r+=" && "),r+=a(t.rules[i]);return"()"==(r+=")")?"":r}(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}})},$.extend($.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(e){"string"==typeof e&&(e=$.jgrid.parse(e)),this.each(function(){this.p.filter=e,this.reDraw(),this.onchange()})}})}(jQuery),function(z){"use strict";var B={};z.jgrid.extend({searchGrid:function(y){return y=z.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE",in:"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"ISNOT NULL"}},z.jgrid.search,y||{}),this.each(function(){var a=this;if(a.grid){var r,o="fbox_"+a.p.id,t=!0,n=!0,s={themodal:"searchmod"+o,modalhead:"searchhd"+o,modalcontent:"searchcnt"+o,scrollelm:o},i=a.p.postData[y.sFilter];if("string"==typeof i&&(i=z.jgrid.parse(i)),!0===y.recreateFilter&&z("#"+z.jgrid.jqID(s.themodal)).remove(),void 0!==z("#"+z.jgrid.jqID(s.themodal))[0])j(z("#fbox_"+z.jgrid.jqID(+a.p.id)));else{var l=z("<div><div id='"+o+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+z.jgrid.jqID(a.p.id)),e="left",d="";"rtl"===a.p.direction&&(e="right",d=" style='text-align:left'",l.attr("dir","rtl"));var p,c,u=z.extend([],a.p.colModel),h="<a id='"+o+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'></span>"+y.Find+"</a>",f="<a id='"+o+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'></span>"+y.Reset+"</a>",g="",m="",v=!1,b=-1;if(y.showQuery&&(g="<a id='"+o+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'></span>Query</a>"),y.columns.length?(u=y.columns,p=u[b=0].index||u[0].name):z.each(u,function(e,t){if(t.label||(t.label=a.p.colNames[e]),!v){var i=void 0===t.search||t.search,r=!0===t.hidden;(t.searchoptions&&!0===t.searchoptions.searchhidden&&i||i&&!r)&&(v=!0,p=t.index||t.name,b=e)}}),!i&&p||!1===y.multipleSearch){var w="eq";0<=b&&u[b].searchoptions&&u[b].searchoptions.sopt?w=u[b].searchoptions.sopt[0]:y.sopt&&y.sopt.length&&(w=y.sopt[0]),i={groupOp:"AND",rules:[{field:p,op:w,data:""}]}}v=!1,y.tmplNames&&y.tmplNames.length&&(v=!0,m=y.tmplLabel,m+="<select class='ui-template'>",m+="<option value='default'>Default</option>",z.each(y.tmplNames,function(e,t){m+="<option value='"+e+"'>"+t+"</option>"}),m+="</select>"),c="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+o+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='EditButton' style='text-align:"+e+"'>"+f+m+"</td><td class='EditButton' "+d+">"+g+h+"</td></tr></tbody></table>",o=z.jgrid.jqID(o),z("#"+o).jqFilter({columns:u,filter:y.loadDefaults?i:null,showQuery:y.showQuery,errorcheck:y.errorcheck,sopt:y.sopt,groupButton:y.multipleGroup,ruleButtons:y.multipleSearch,afterRedraw:y.afterRedraw,ops:y.odata,operands:y.operands,ajaxSelectOptions:a.p.ajaxSelectOptions,groupOps:y.groupOps,onChange:function(){this.p.showQuery&&z(".query",this).html(this.toUserFriendlyString()),z.isFunction(y.afterChange)&&y.afterChange.call(a,z("#"+o),y)},direction:a.p.direction,id:a.p.id}),l.append(c),v&&y.tmplFilters&&y.tmplFilters.length&&z(".ui-template",l).bind("change",function(){var e=z(this).val();return"default"===e?z("#"+o).jqFilter("addFilter",i):z("#"+o).jqFilter("addFilter",y.tmplFilters[parseInt(e,10)]),!1}),!0===y.multipleGroup&&(y.multipleSearch=!0),z(a).triggerHandler("jqGridFilterInitialize",[z("#"+o)]),z.isFunction(y.onInitializeSearch)&&y.onInitializeSearch.call(a,z("#"+o)),y.gbox="#gbox_"+o,y.layer?z.jgrid.createModal(s,l,y,"#gview_"+z.jgrid.jqID(a.p.id),z("#gbox_"+z.jgrid.jqID(a.p.id))[0],"#"+z.jgrid.jqID(y.layer),{position:"relative"}):z.jgrid.createModal(s,l,y,"#gview_"+z.jgrid.jqID(a.p.id),z("#gbox_"+z.jgrid.jqID(a.p.id))[0]),(y.searchOnEnter||y.closeOnEscape)&&z("#"+z.jgrid.jqID(s.themodal)).keydown(function(e){var t=z(e.target);return!y.searchOnEnter||13!==e.which||t.hasClass("add-group")||t.hasClass("add-rule")||t.hasClass("delete-group")||t.hasClass("delete-rule")||t.hasClass("fm-button")&&t.is("[id$=_query]")?y.closeOnEscape&&27===e.which?(z("#"+z.jgrid.jqID(s.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:(z("#"+o+"_search").click(),!1)}),g&&z("#"+o+"_query").bind("click",function(){return z(".queryresult",l).toggle(),!1}),void 0===y.stringResult&&(y.stringResult=y.multipleSearch),z("#"+o+"_search").bind("click",function(){var t,i,e={};if((r=z("#"+o)).find(".input-elm:focus").change(),i=r.jqFilter("filterData"),y.errorcheck&&(r[0].hideError(),y.showQuery||r.jqFilter("toSQLString"),r[0].p.error))return r[0].showError(),!1;if(y.stringResult){try{t=xmlJsonClass.toJson(i,"","",!1)}catch(e){try{t=JSON.stringify(i)}catch(e){}}"string"==typeof t&&(e[y.sFilter]=t,z.each([y.sField,y.sValue,y.sOper],function(){e[this]=""}))}else y.multipleSearch?(e[y.sFilter]=i,z.each([y.sField,y.sValue,y.sOper],function(){e[this]=""})):(e[y.sField]=i.rules[0].field,e[y.sValue]=i.rules[0].data,e[y.sOper]=i.rules[0].op,e[y.sFilter]="");return a.p.search=!0,z.extend(a.p.postData,e),void 0===(n=z(a).triggerHandler("jqGridFilterSearch"))&&(n=!0),n&&z.isFunction(y.onSearch)&&(n=y.onSearch.call(a,a.p.filters)),!1!==n&&z(a).trigger("reloadGrid",[{page:1}]),y.closeAfterSearch&&z.jgrid.hideModal("#"+z.jgrid.jqID(s.themodal),{gb:"#gbox_"+z.jgrid.jqID(a.p.id),jqm:y.jqModal,onClose:y.onClose}),!1}),z("#"+o+"_reset").bind("click",function(){var e={},t=z("#"+o);return a.p.search=!1,!(a.p.resetsearch=!0)===y.multipleSearch?e[y.sField]=e[y.sValue]=e[y.sOper]="":e[y.sFilter]="",t[0].resetFilter(),v&&z(".ui-template",l).val("default"),z.extend(a.p.postData,e),void 0===(n=z(a).triggerHandler("jqGridFilterReset"))&&(n=!0),n&&z.isFunction(y.onReset)&&(n=y.onReset.call(a)),!1!==n&&z(a).trigger("reloadGrid",[{page:1}]),y.closeAfterReset&&z.jgrid.hideModal("#"+z.jgrid.jqID(s.themodal),{gb:"#gbox_"+z.jgrid.jqID(a.p.id),jqm:y.jqModal,onClose:y.onClose}),!1}),j(z("#"+o)),z(".fm-button:not(.ui-state-disabled)",l).hover(function(){z(this).addClass("ui-state-hover")},function(){z(this).removeClass("ui-state-hover")})}}function j(e){void 0===(t=z(a).triggerHandler("jqGridFilterBeforeShow",[e]))&&(t=!0),t&&z.isFunction(y.beforeShowSearch)&&(t=y.beforeShowSearch.call(a,e)),t&&(z.jgrid.viewModal("#"+z.jgrid.jqID(s.themodal),{gbox:"#gbox_"+z.jgrid.jqID(o),jqm:y.jqModal,modal:y.modal,overlay:y.overlay,toTop:y.toTop}),z(a).triggerHandler("jqGridFilterAfterShow",[e]),z.isFunction(y.afterShowSearch)&&y.afterShowSearch.call(a,e))}})},editGridRow:function(H,L){return L=z.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:"ui-widget-overlay",removemodal:!0,form:"edit"},z.jgrid.edit,L||{}),B[z(this)[0].p.id]=L,this.each(function(){var j=this;if(j.grid&&H){var g,m,v=j.p.id,y="FrmGrid_"+v,e="TblGrid_"+v,b="#"+z.jgrid.jqID(e),w={themodal:"editmod"+v,modalhead:"edithd"+v,modalcontent:"editcnt"+v,scrollelm:y},t=!!z.isFunction(B[j.p.id].beforeShowForm)&&B[j.p.id].beforeShowForm,i=!!z.isFunction(B[j.p.id].afterShowForm)&&B[j.p.id].afterShowForm,r=!!z.isFunction(B[j.p.id].beforeInitData)&&B[j.p.id].beforeInitData,a=!!z.isFunction(B[j.p.id].onInitializeForm)&&B[j.p.id].onInitializeForm,o=!0,n=1,s=0;y=z.jgrid.jqID(y),"new"===H?(H="_empty",m="add",L.caption=B[j.p.id].addCaption):(L.caption=B[j.p.id].editCaption,m="edit"),L.recreateForm||z(j).data("formProp")&&z.extend(B[z(this)[0].p.id],z(j).data("formProp"));var l=!0;L.checkOnUpdate&&L.jqModal&&!L.modal&&(l=!1);var d=isNaN(B[z(this)[0].p.id].dataheight)?B[z(this)[0].p.id].dataheight:B[z(this)[0].p.id].dataheight+"px",p=isNaN(B[z(this)[0].p.id].datawidth)?B[z(this)[0].p.id].datawidth:B[z(this)[0].p.id].datawidth+"px",c=z("<form name='FormPost' id='"+y+"' class='FormGrid' onSubmit='return false;' style='width:"+p+";overflow:auto;position:relative;height:"+d+";'></form>").data("disabled",!1),u=z("<table id='"+e+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>");z(j.p.colModel).each(function(){var e=this.formoptions;n=Math.max(n,e&&e.colpos||0),s=Math.max(s,e&&e.rowpos||0)}),z(c).append(u);var h=z("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+2*n+"'></td></tr>");if(h[0].rp=0,z(u).append(h),(h=z("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*n+"'>"+B[j.p.id].topinfo+"</td></tr>"))[0].rp=0,z(u).append(h),void 0===(o=z(j).triggerHandler("jqGridAddEditBeforeInitData",[c,m]))&&(o=!0),o&&r&&(o=r.call(j,c,m)),!1!==o){!function(){var e;if("_empty"!==H&&void 0!==j.p.savedRow&&0<j.p.savedRow.length&&z.isFunction(z.fn.jqGrid.restoreRow))for(e=0;e<j.p.savedRow.length;e++)if(j.p.savedRow[e].id==H){z(j).jqGrid("restoreRow",H);break}}();var f="rtl"===j.p.direction,x=f?"nData":"pData",q=f?"pData":"nData";!function(n,s,l,d){var p,c,u,h,f,g,e,m=0,v=[],b=!1,w="";for(e=1;e<=d;e++)w+="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>";if("_empty"!==n&&(b=z(s).jqGrid("getInd",n)),z(s.p.colModel).each(function(t){if(p=this.name,c=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,f=c?"style='display:none'":"","cb"!==p&&"subgrid"!==p&&!0===this.editable&&"rn"!==p){if(!1===b)h="";else if(p===s.p.ExpandColumn&&!0===s.p.treeGrid)h=z("td[role='gridcell']:eq("+t+")",s.rows[b]).text();else{try{h=z.unformat.call(s,z("td[role='gridcell']:eq("+t+")",s.rows[b]),{rowId:n,colModel:this},t)}catch(e){h=this.edittype&&"textarea"===this.edittype?z("td[role='gridcell']:eq("+t+")",s.rows[b]).text():z("td[role='gridcell']:eq("+t+")",s.rows[b]).html()}(!h||"&nbsp;"===h||"&#160;"===h||1===h.length&&160===h.charCodeAt(0))&&(h="")}var e=z.extend({},this.editoptions||{},{id:p,name:p,rowId:n}),i=z.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),r=parseInt(i.rowpos,10)||m+1,a=parseInt(2*(parseInt(i.colpos,10)||1),10);if("_empty"===n&&e.defaultValue&&(h=z.isFunction(e.defaultValue)?e.defaultValue.call(j):e.defaultValue),this.edittype||(this.edittype="text"),j.p.autoencode&&(h=z.jgrid.htmlDecode(h)),g=z.jgrid.createEl.call(j,this.edittype,e,h,!1,z.extend({},z.jgrid.ajaxOptions,s.p.ajaxSelectOptions||{})),(B[j.p.id].checkOnSubmit||B[j.p.id].checkOnUpdate)&&(B[j.p.id]._savedData[p]=h),z(g).addClass("FormElement"),-1<z.inArray(this.edittype,["text","textarea","password","select"])&&z(g).addClass("ui-widget-content ui-corner-all"),u=z(l).find("tr[rowpos="+r+"]"),i.rowabove){var o=z("<tr><td class='contentinfo' colspan='"+2*d+"'>"+i.rowcontent+"</td></tr>");z(l).append(o),o[0].rp=r}0===u.length&&(u=z("<tr "+f+" rowpos='"+r+"'></tr>").addClass("FormData").attr("id","tr_"+p),z(u).append(w),z(l).append(u),u[0].rp=r),z("td:eq("+(a-2)+")",u[0]).html(void 0===i.label?s.p.colNames[t]:i.label),z("td:eq("+(a-1)+")",u[0]).append(i.elmprefix).append(g).append(i.elmsuffix),"custom"===this.edittype&&z.isFunction(e.custom_value)&&e.custom_value.call(j,z("#"+p,"#"+y),"set",h),z.jgrid.bindEv.call(j,g,e),v[m]=t,m++}}),0<m){var t=z("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*d-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+s.p.id+"_id' value='"+n+"'/></td></tr>");t[0].rp=m+999,z(l).append(t),(B[j.p.id].checkOnSubmit||B[j.p.id].checkOnUpdate)&&(B[j.p.id]._savedData[s.p.id+"_id"]=n)}}(H,j,u,n);var D="<a id='"+x+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",C="<a id='"+q+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",_="<a id='sData' class='fm-button ui-state-default ui-corner-all'>"+L.bSubmit+"</a>",$="<a id='cData' class='fm-button ui-state-default ui-corner-all'>"+L.bCancel+"</a>",k="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+e+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(f?C+D:D+C)+"</td><td class='EditButton'>"+_+$+"</td></tr>";if(k+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+B[j.p.id].bottominfo+"</td></tr>",k+="</tbody></table>",0<s){var I=[];z.each(z(u)[0].rows,function(e,t){I[e]=t}),I.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),z.each(I,function(e,t){z("tbody",u).append(t)})}L.gbox="#gbox_"+z.jgrid.jqID(v);var G=!1;!0===L.closeOnEscape&&(L.closeOnEscape=!1,G=!0);var F=z("<div></div>").append(c).append(k);if(z.jgrid.createModal(w,F,B[z(this)[0].p.id],"#gview_"+z.jgrid.jqID(j.p.id),z("#gbox_"+z.jgrid.jqID(j.p.id))[0]),f&&(z("#pData, #nData",b+"_2").css("float","right"),z(".EditButton",b+"_2").css("text-align","left")),B[j.p.id].topinfo&&z(".tinfo",b).show(),B[j.p.id].bottominfo&&z(".binfo",b+"_2").show(),k=F=null,z("#"+z.jgrid.jqID(w.themodal)).keydown(function(e){var t=e.target;if(!0===z("#"+y).data("disabled"))return!1;if(!0===B[j.p.id].savekey[0]&&e.which===B[j.p.id].savekey[1]&&"TEXTAREA"!==t.tagName)return z("#sData",b+"_2").trigger("click"),!1;if(27===e.which)return N()&&G&&z.jgrid.hideModal("#"+z.jgrid.jqID(w.themodal),{gb:L.gbox,jqm:L.jqModal,onClose:B[j.p.id].onClose,removemodal:B[j.p.id].removemodal,formprop:!B[j.p.id].recreateForm,form:B[j.p.id].form}),!1;if(!0===B[j.p.id].navkeys[0]){if("_empty"===z("#id_g",b).val())return!0;if(e.which===B[j.p.id].navkeys[1])return z("#pData",b+"_2").trigger("click"),!1;if(e.which===B[j.p.id].navkeys[2])return z("#nData",b+"_2").trigger("click"),!1}}),L.checkOnUpdate&&(z("a.ui-jqdialog-titlebar-close span","#"+z.jgrid.jqID(w.themodal)).removeClass("jqmClose"),z("a.ui-jqdialog-titlebar-close","#"+z.jgrid.jqID(w.themodal)).unbind("click").click(function(){return N()&&z.jgrid.hideModal("#"+z.jgrid.jqID(w.themodal),{gb:"#gbox_"+z.jgrid.jqID(v),jqm:L.jqModal,onClose:B[j.p.id].onClose,removemodal:B[j.p.id].removemodal,formprop:!B[j.p.id].recreateForm,form:B[j.p.id].form}),!1})),L.saveicon=z.extend([!0,"left","ui-icon-disk"],L.saveicon),L.closeicon=z.extend([!0,"left","ui-icon-close"],L.closeicon),!0===L.saveicon[0]&&z("#sData",b+"_2").addClass("right"===L.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+L.saveicon[2]+"'></span>"),!0===L.closeicon[0]&&z("#cData",b+"_2").addClass("right"===L.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+L.closeicon[2]+"'></span>"),B[j.p.id].checkOnSubmit||B[j.p.id].checkOnUpdate){_="<a id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+L.bYes+"</a>",C="<a id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+L.bNo+"</a>",$="<a id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+L.bExit+"</a>";var S=L.zIndex||999;S++,z("<div class='"+L.overlayClass+" jqgrid-overlay confirm' style='z-index:"+S+";display:none;'>&#160;</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(S+1)+"'>"+L.saveData+"<br/><br/>"+_+C+$+"</div>").insertAfter("#"+y),z("#sNew","#"+z.jgrid.jqID(w.themodal)).click(function(){return O(),z("#"+y).data("disabled",!1),z(".confirm","#"+z.jgrid.jqID(w.themodal)).hide(),!1}),z("#nNew","#"+z.jgrid.jqID(w.themodal)).click(function(){return z(".confirm","#"+z.jgrid.jqID(w.themodal)).hide(),z("#"+y).data("disabled",!1),setTimeout(function(){z(":input:visible","#"+y)[0].focus()},0),!1}),z("#cNew","#"+z.jgrid.jqID(w.themodal)).click(function(){return z(".confirm","#"+z.jgrid.jqID(w.themodal)).hide(),z("#"+y).data("disabled",!1),z.jgrid.hideModal("#"+z.jgrid.jqID(w.themodal),{gb:"#gbox_"+z.jgrid.jqID(v),jqm:L.jqModal,onClose:B[j.p.id].onClose,removemodal:B[j.p.id].removemodal,formprop:!B[j.p.id].recreateForm,form:B[j.p.id].form}),!1})}z(j).triggerHandler("jqGridAddEditInitializeForm",[z("#"+y),m]),a&&a.call(j,z("#"+y),m),"_empty"!==H&&B[j.p.id].viewPagerButtons?z("#pData,#nData",b+"_2").show():z("#pData,#nData",b+"_2").hide(),z(j).triggerHandler("jqGridAddEditBeforeShowForm",[z("#"+y),m]),t&&t.call(j,z("#"+y),m),z("#"+z.jgrid.jqID(w.themodal)).data("onClose",B[j.p.id].onClose),z.jgrid.viewModal("#"+z.jgrid.jqID(w.themodal),{gbox:"#gbox_"+z.jgrid.jqID(v),jqm:L.jqModal,overlay:L.overlay,modal:L.modal,overlayClass:L.overlayClass,onHide:function(e){var t=z("#editmod"+v)[0].style.height;-1<t.indexOf("px")&&(t=parseFloat(t)),z(j).data("formProp",{top:parseFloat(z(e.w).css("top")),left:parseFloat(z(e.w).css("left")),width:z(e.w).width(),height:t,dataheight:z("#"+y).height(),datawidth:z("#"+y).width()}),e.w.remove(),e.o&&e.o.remove()}}),l||z("."+z.jgrid.jqID(L.overlayClass)).click(function(){return N()&&z.jgrid.hideModal("#"+z.jgrid.jqID(w.themodal),{gb:"#gbox_"+z.jgrid.jqID(v),jqm:L.jqModal,onClose:B[j.p.id].onClose,removemodal:B[j.p.id].removemodal,formprop:!B[j.p.id].recreateForm,form:B[j.p.id].form}),!1}),z(".fm-button","#"+z.jgrid.jqID(w.themodal)).hover(function(){z(this).addClass("ui-state-hover")},function(){z(this).removeClass("ui-state-hover")}),z("#sData",b+"_2").click(function(){return g={},z("#FormError",b).hide(),M(),"_empty"===g[j.p.id+"_id"]?O():!0===L.checkOnSubmit&&T(g,B[j.p.id]._savedData)?(z("#"+y).data("disabled",!0),z(".confirm","#"+z.jgrid.jqID(w.themodal)).show()):O(),!1}),z("#cData",b+"_2").click(function(){return N()&&z.jgrid.hideModal("#"+z.jgrid.jqID(w.themodal),{gb:"#gbox_"+z.jgrid.jqID(v),jqm:L.jqModal,onClose:B[j.p.id].onClose,removemodal:B[j.p.id].removemodal,formprop:!B[j.p.id].recreateForm,form:B[j.p.id].form}),!1}),z("#nData",b+"_2").click(function(){if(!N())return!1;z("#FormError",b).hide();var e=P();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){var t;if(z(j).triggerHandler("jqGridAddEditClickPgButtons",["next",z("#"+y),e[1][e[0]]]),z.isFunction(L.onclickPgButtons)&&void 0!==(t=L.onclickPgButtons.call(j,"next",z("#"+y),e[1][e[0]]))&&!1===t)return!1;if(z("#"+z.jgrid.jqID(e[1][e[0]+1])).hasClass("ui-state-disabled"))return!1;E(e[1][e[0]+1],j,y),z(j).jqGrid("setSelection",e[1][e[0]+1]),z(j).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",z("#"+y),e[1][e[0]]]),z.isFunction(L.afterclickPgButtons)&&L.afterclickPgButtons.call(j,"next",z("#"+y),e[1][e[0]+1]),A(e[0]+1,e)}return!1}),z("#pData",b+"_2").click(function(){if(!N())return!1;z("#FormError",b).hide();var e=P();if(-1!==e[0]&&e[1][e[0]-1]){var t;if(z(j).triggerHandler("jqGridAddEditClickPgButtons",["prev",z("#"+y),e[1][e[0]]]),z.isFunction(L.onclickPgButtons)&&void 0!==(t=L.onclickPgButtons.call(j,"prev",z("#"+y),e[1][e[0]]))&&!1===t)return!1;if(z("#"+z.jgrid.jqID(e[1][e[0]-1])).hasClass("ui-state-disabled"))return!1;E(e[1][e[0]-1],j,y),z(j).jqGrid("setSelection",e[1][e[0]-1]),z(j).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",z("#"+y),e[1][e[0]]]),z.isFunction(L.afterclickPgButtons)&&L.afterclickPgButtons.call(j,"prev",z("#"+y),e[1][e[0]-1]),A(e[0]-1,e)}return!1}),z(j).triggerHandler("jqGridAddEditAfterShowForm",[z("#"+y),m]),i&&i.call(j,z("#"+y),m);var R=P();A(R[0],R)}}function M(){return z(b+" > tbody > tr > td .FormElement").each(function(){var e=z(".customelement",this);if(e.length){var t=e[0],i=z(t).attr("name");z.each(j.p.colModel,function(){if(this.name===i&&this.editoptions&&z.isFunction(this.editoptions.custom_value)){try{if(g[i]=this.editoptions.custom_value.call(j,z("#"+z.jgrid.jqID(i),b),"get"),void 0===g[i])throw"e1"}catch(e){"e1"===e?z.jgrid.info_dialog(z.jgrid.errors.errcap,"function 'custom_value' "+z.jgrid.edit.msg.novalue,z.jgrid.edit.bClose):z.jgrid.info_dialog(z.jgrid.errors.errcap,e.message,z.jgrid.edit.bClose)}return!0}})}else{switch(z(this).get(0).type){case"checkbox":if(z(this).is(":checked"))g[this.name]=z(this).val();else{var r=z(this).attr("offval");g[this.name]=r}break;case"select-one":g[this.name]=z("option:selected",this).val();break;case"select-multiple":g[this.name]=z(this).val(),g[this.name]?g[this.name]=g[this.name].join(","):g[this.name]="";var a=[];z("option:selected",this).each(function(e,t){a[e]=z(t).text()});break;case"password":case"text":case"textarea":case"button":g[this.name]=z(this).val()}j.p.autoencode&&(g[this.name]=z.jgrid.htmlEncode(g[this.name]))}}),!0}function E(i,r,a){var o,n,e,t,s,l,d=0;(B[j.p.id].checkOnSubmit||B[j.p.id].checkOnUpdate)&&(B[j.p.id]._savedData={},B[j.p.id]._savedData[r.p.id+"_id"]=i);var p=r.p.colModel;if("_empty"===i)return z(p).each(function(){o=this.name,t=z.extend({},this.editoptions||{}),(e=z("#"+z.jgrid.jqID(o),"#"+a))&&e.length&&null!==e[0]&&(s="","custom"===this.edittype&&z.isFunction(t.custom_value)?t.custom_value.call(j,z("#"+o,"#"+a),"set",s):t.defaultValue?(s=z.isFunction(t.defaultValue)?t.defaultValue.call(j):t.defaultValue,"checkbox"===e[0].type?(l=s.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==l?(e[0].checked=!0,e[0].defaultChecked=!0,e[0].value=s):(e[0].checked=!1,e[0].defaultChecked=!1):e.val(s)):"checkbox"===e[0].type?(e[0].checked=!1,e[0].defaultChecked=!1,s=z(e).attr("offval")):e[0].type&&"select"===e[0].type.substr(0,6)?e[0].selectedIndex=0:e.val(s),(!0===B[j.p.id].checkOnSubmit||B[j.p.id].checkOnUpdate)&&(B[j.p.id]._savedData[o]=s))}),void z("#id_g","#"+a).val(i);var c=z(r).jqGrid("getInd",i,!0);c&&(z('td[role="gridcell"]',c).each(function(t){if("cb"!==(o=p[t].name)&&"subgrid"!==o&&"rn"!==o&&!0===p[t].editable){if(o===r.p.ExpandColumn&&!0===r.p.treeGrid)n=z(this).text();else try{n=z.unformat.call(r,z(this),{rowId:i,colModel:p[t]},t)}catch(e){n="textarea"===p[t].edittype?z(this).text():z(this).html()}switch(j.p.autoencode&&(n=z.jgrid.htmlDecode(n)),(!0===B[j.p.id].checkOnSubmit||B[j.p.id].checkOnUpdate)&&(B[j.p.id]._savedData[o]=n),o=z.jgrid.jqID(o),p[t].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"===n||"&#160;"===n||1===n.length&&160===n.charCodeAt(0))&&(n=""),z("#"+o,"#"+a).val(n);break;case"select":var e=n.split(",");e=z.map(e,function(e){return z.trim(e)}),z("#"+o+" option","#"+a).each(function(){p[t].editoptions.multiple||z.trim(n)!==z.trim(z(this).text())&&e[0]!==z.trim(z(this).text())&&e[0]!==z.trim(z(this).val())?p[t].editoptions.multiple&&(-1<z.inArray(z.trim(z(this).text()),e)||-1<z.inArray(z.trim(z(this).val()),e))?this.selected=!0:this.selected=!1:this.selected=!0});break;case"checkbox":if(n=String(n),p[t].editoptions&&p[t].editoptions.value)p[t].editoptions.value.split(":")[0]===n?z("#"+o,"#"+a)[j.p.useProp?"prop":"attr"]({checked:!0,defaultChecked:!0}):z("#"+o,"#"+a)[j.p.useProp?"prop":"attr"]({checked:!1,defaultChecked:!1});else(n=n.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==n?(z("#"+o,"#"+a)[j.p.useProp?"prop":"attr"]("checked",!0),z("#"+o,"#"+a)[j.p.useProp?"prop":"attr"]("defaultChecked",!0)):(z("#"+o,"#"+a)[j.p.useProp?"prop":"attr"]("checked",!1),z("#"+o,"#"+a)[j.p.useProp?"prop":"attr"]("defaultChecked",!1));break;case"custom":try{if(!p[t].editoptions||!z.isFunction(p[t].editoptions.custom_value))throw"e1";p[t].editoptions.custom_value.call(j,z("#"+o,"#"+a),"set",n)}catch(e){"e1"===e?z.jgrid.info_dialog(z.jgrid.errors.errcap,"function 'custom_value' "+z.jgrid.edit.msg.nodefined,z.jgrid.edit.bClose):z.jgrid.info_dialog(z.jgrid.errors.errcap,e.message,z.jgrid.edit.bClose)}}d++}}),0<d&&z("#id_g",b).val(i))}function O(){var r,a,o,e,n,t,i,s=[!0,"",""],l={},d=j.p.prmNames,p=z(j).triggerHandler("jqGridAddEditBeforeCheckValues",[z("#"+y),m]);for(e in p&&"object"==typeof p&&(g=p),z.isFunction(B[j.p.id].beforeCheckValues)&&(p=B[j.p.id].beforeCheckValues.call(j,g,z("#"+y),m))&&"object"==typeof p&&(g=p),g)if(g.hasOwnProperty(e)&&!1===(s=z.jgrid.checkValues.call(j,g[e],e))[0])break;if(z.each(j.p.colModel,function(e,t){t.editoptions&&!0===t.editoptions.NullIfEmpty&&g.hasOwnProperty(t.name)&&""===g[t.name]&&(g[t.name]="null")}),s[0]&&(void 0===(l=z(j).triggerHandler("jqGridAddEditClickSubmit",[B[j.p.id],g,m]))&&z.isFunction(B[j.p.id].onclickSubmit)&&(l=B[j.p.id].onclickSubmit.call(j,B[j.p.id],g,m)||{}),void 0===(s=z(j).triggerHandler("jqGridAddEditBeforeSubmit",[g,z("#"+y),m]))&&(s=[!0,"",""]),s[0]&&z.isFunction(B[j.p.id].beforeSubmit)&&(s=B[j.p.id].beforeSubmit.call(j,g,z("#"+y),m))),s[0]&&!B[j.p.id].processing){if(B[j.p.id].processing=!0,z("#sData",b+"_2").addClass("ui-state-active"),i=B[j.p.id].url||z(j).jqGrid("getGridParam","editurl"),o=d.oper,a="clientArray"===i?j.p.keyName:d.id,g[o]="_empty"===z.trim(g[j.p.id+"_id"])?d.addoper:d.editoper,g[o]!==d.addoper?g[a]=g[j.p.id+"_id"]:void 0===g[a]&&(g[a]=g[j.p.id+"_id"]),delete g[j.p.id+"_id"],g=z.extend(g,B[j.p.id].editData,l),!0===j.p.treeGrid){if(g[o]===d.addoper){n=z(j).jqGrid("getGridParam","selrow");var c="adjacency"===j.p.treeGridModel?j.p.treeReader.parent_id_field:"parent_id";g[c]=n}for(t in j.p.treeReader)if(j.p.treeReader.hasOwnProperty(t)){var u=j.p.treeReader[t];if(g.hasOwnProperty(u)){if(g[o]===d.addoper&&"parent_id_field"===t)continue;delete g[u]}}}g[a]=z.jgrid.stripPref(j.p.idPrefix,g[a]);var h=z.extend({url:i,type:B[j.p.id].mtype,data:z.isFunction(B[j.p.id].serializeEditData)?B[j.p.id].serializeEditData.call(j,g):g,complete:function(e,t){var i;if(z("#sData",b+"_2").removeClass("ui-state-active"),g[a]=j.p.idPrefix+g[a],300<=e.status&&304!==e.status?(s[0]=!1,s[1]=z(j).triggerHandler("jqGridAddEditErrorTextFormat",[e,m]),z.isFunction(B[j.p.id].errorTextFormat)?s[1]=B[j.p.id].errorTextFormat.call(j,e,m):s[1]=t+" Status: '"+e.statusText+"'. Error code: "+e.status):(void 0===(s=z(j).triggerHandler("jqGridAddEditAfterSubmit",[e,g,m]))&&(s=[!0,"",""]),s[0]&&z.isFunction(B[j.p.id].afterSubmit)&&(s=B[j.p.id].afterSubmit.call(j,e,g,m))),!1===s[0])z("#FormError>td",b).html(s[1]),z("#FormError",b).show();else if(j.p.autoencode&&z.each(g,function(e,t){g[e]=z.jgrid.htmlDecode(t)}),g[o]===d.addoper?(s[2]||(s[2]=z.jgrid.randId()),null==g[a]?g[a]=s[2]:s[2]=g[a],B[j.p.id].reloadAfterSubmit?z(j).trigger("reloadGrid"):!0===j.p.treeGrid?z(j).jqGrid("addChildNode",s[2],n,g):z(j).jqGrid("addRowData",s[2],g,L.addedrow),B[j.p.id].closeAfterAdd?(!0!==j.p.treeGrid&&z(j).jqGrid("setSelection",s[2]),z.jgrid.hideModal("#"+z.jgrid.jqID(w.themodal),{gb:"#gbox_"+z.jgrid.jqID(v),jqm:L.jqModal,onClose:B[j.p.id].onClose,removemodal:B[j.p.id].removemodal,formprop:!B[j.p.id].recreateForm,form:B[j.p.id].form})):B[j.p.id].clearAfterAdd&&E("_empty",j,y)):(B[j.p.id].reloadAfterSubmit?(z(j).trigger("reloadGrid"),B[j.p.id].closeAfterEdit||setTimeout(function(){z(j).jqGrid("setSelection",g[a])},1e3)):!0===j.p.treeGrid?z(j).jqGrid("setTreeRow",g[a],g):z(j).jqGrid("setRowData",g[a],g),B[j.p.id].closeAfterEdit&&z.jgrid.hideModal("#"+z.jgrid.jqID(w.themodal),{gb:"#gbox_"+z.jgrid.jqID(v),jqm:L.jqModal,onClose:B[j.p.id].onClose,removemodal:B[j.p.id].removemodal,formprop:!B[j.p.id].recreateForm,form:B[j.p.id].form})),z.isFunction(B[j.p.id].afterComplete)&&(r=e,setTimeout(function(){z(j).triggerHandler("jqGridAddEditAfterComplete",[r,g,z("#"+y),m]),B[j.p.id].afterComplete.call(j,r,g,z("#"+y),m),r=null},500)),(B[j.p.id].checkOnSubmit||B[j.p.id].checkOnUpdate)&&(z("#"+y).data("disabled",!1),"_empty"!==B[j.p.id]._savedData[j.p.id+"_id"]))for(i in B[j.p.id]._savedData)B[j.p.id]._savedData.hasOwnProperty(i)&&g[i]&&(B[j.p.id]._savedData[i]=g[i]);B[j.p.id].processing=!1;try{z(":input:visible","#"+y)[0].focus()}catch(e){}}},z.jgrid.ajaxOptions,B[j.p.id].ajaxEditOptions);if(h.url||B[j.p.id].useDataProxy||(z.isFunction(j.p.dataProxy)?B[j.p.id].useDataProxy=!0:(s[0]=!1,s[1]+=" "+z.jgrid.errors.nourl)),s[0])if(B[j.p.id].useDataProxy){var f=j.p.dataProxy.call(j,h,"set_"+j.p.id);void 0===f&&(f=[!0,""]),!1===f[0]?(s[0]=!1,s[1]=f[1]||"Error deleting the selected row!"):(h.data.oper===d.addoper&&B[j.p.id].closeAfterAdd&&z.jgrid.hideModal("#"+z.jgrid.jqID(w.themodal),{gb:"#gbox_"+z.jgrid.jqID(v),jqm:L.jqModal,onClose:B[j.p.id].onClose,removemodal:B[j.p.id].removemodal,formprop:!B[j.p.id].recreateForm,form:B[j.p.id].form}),h.data.oper===d.editoper&&B[j.p.id].closeAfterEdit&&z.jgrid.hideModal("#"+z.jgrid.jqID(w.themodal),{gb:"#gbox_"+z.jgrid.jqID(v),jqm:L.jqModal,onClose:B[j.p.id].onClose,removemodal:B[j.p.id].removemodal,formprop:!B[j.p.id].recreateForm,form:B[j.p.id].form}))}else"clientArray"===h.url?(B[j.p.id].reloadAfterSubmit=!1,g=h.data,h.complete({status:200,statusText:""},"")):z.ajax(h)}!1===s[0]&&(z("#FormError>td",b).html(s[1]),z("#FormError",b).show())}function T(e,t){var i,r=!1;for(i in e)if(e.hasOwnProperty(i)&&e[i]!=t[i]){r=!0;break}return r}function N(){var e=!0;return z("#FormError",b).hide(),B[j.p.id].checkOnUpdate&&(g={},M(),T(g,B[j.p.id]._savedData)&&(z("#"+y).data("disabled",!0),z(".confirm","#"+w.themodal).show(),e=!1)),e}function A(e,t){var i=t[1].length-1;0===e?z("#pData",b+"_2").addClass("ui-state-disabled"):void 0!==t[1][e-1]&&z("#"+z.jgrid.jqID(t[1][e-1])).hasClass("ui-state-disabled")?z("#pData",b+"_2").addClass("ui-state-disabled"):z("#pData",b+"_2").removeClass("ui-state-disabled"),e===i?z("#nData",b+"_2").addClass("ui-state-disabled"):void 0!==t[1][e+1]&&z("#"+z.jgrid.jqID(t[1][e+1])).hasClass("ui-state-disabled")?z("#nData",b+"_2").addClass("ui-state-disabled"):z("#nData",b+"_2").removeClass("ui-state-disabled")}function P(){var e=z(j).jqGrid("getDataIDs"),t=z("#id_g",b).val();return[z.inArray(t,e),e]}})},viewGridRow:function(_,$){return $=z.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,recreateForm:!1,removemodal:!0,form:"view"},z.jgrid.view,$||{}),B[z(this)[0].p.id]=$,this.each(function(){var i=this;if(i.grid&&_){var e=i.p.id,t="ViewGrid_"+z.jgrid.jqID(e),s="ViewTbl_"+z.jgrid.jqID(e),r="ViewGrid_"+e,a="ViewTbl_"+e,o={themodal:"viewmod"+e,modalhead:"viewhd"+e,modalcontent:"viewcnt"+e,scrollelm:t},n=!!z.isFunction(B[i.p.id].beforeInitData)&&B[i.p.id].beforeInitData,l=!0,d=1,p=0;$.recreateForm||z(i).data("viewProp")&&z.extend(B[z(this)[0].p.id],z(i).data("viewProp"));var c=isNaN(B[z(this)[0].p.id].dataheight)?B[z(this)[0].p.id].dataheight:B[z(this)[0].p.id].dataheight+"px",u=isNaN(B[z(this)[0].p.id].datawidth)?B[z(this)[0].p.id].datawidth:B[z(this)[0].p.id].datawidth+"px",h=z("<form name='FormPost' id='"+r+"' class='FormGrid' style='width:"+u+";overflow:auto;position:relative;height:"+c+";'></form>"),f=z("<table id='"+a+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");if(z(i.p.colModel).each(function(){var e=this.formoptions;d=Math.max(d,e&&e.colpos||0),p=Math.max(p,e&&e.rowpos||0)}),z(h).append(f),n&&void 0===(l=n.call(i,h))&&(l=!0),!1!==l){!function(e,o,n,s){var l,d,p,c,u,h,t,f,g,m,v=0,b=[],i="<td class='CaptionTD form-view-label ui-widget-content' width='"+$.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",w="",r=["integer","number","currency"],a=0,j=0;for(t=1;t<=s;t++)w+=1===t?i:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>";if(z(o.p.colModel).each(function(){(d=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden)||"right"!==this.align||(this.formatter&&-1!==z.inArray(this.formatter,r)?a=Math.max(a,parseInt(this.width,10)):j=Math.max(j,parseInt(this.width,10)))}),f=0!==a?a:0!==j?j:0,h=z(o).jqGrid("getInd",e),z(o.p.colModel).each(function(e){if(l=this.name,g=!1,d=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,u=d?"style='display:none'":"",m="boolean"!=typeof this.viewable||this.viewable,"cb"!==l&&"subgrid"!==l&&"rn"!==l&&m){c=!1===h?"":l===o.p.ExpandColumn&&!0===o.p.treeGrid?z("td:eq("+e+")",o.rows[h]).text():z("td:eq("+e+")",o.rows[h]).html(),g="right"===this.align&&0!==f;var t=z.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),i=parseInt(t.rowpos,10)||v+1,r=parseInt(2*(parseInt(t.colpos,10)||1),10);if(t.rowabove){var a=z("<tr><td class='contentinfo' colspan='"+2*s+"'>"+t.rowcontent+"</td></tr>");z(n).append(a),a[0].rp=i}0===(p=z(n).find("tr[rowpos="+i+"]")).length&&(p=z("<tr "+u+" rowpos='"+i+"'></tr>").addClass("FormData").attr("id","trv_"+l),z(p).append(w),z(n).append(p),p[0].rp=i),z("td:eq("+(r-2)+")",p[0]).html("<b>"+(void 0===t.label?o.p.colNames[e]:t.label)+"</b>"),z("td:eq("+(r-1)+")",p[0]).append("<span>"+c+"</span>").attr("id","v_"+l),g&&z("td:eq("+(r-1)+") span",p[0]).css({"text-align":"right",width:f+"px"}),b[v]=e,v++}}),0<v){var y=z("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*s-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+e+"'/></td></tr>");y[0].rp=v+99,z(n).append(y)}}(_,i,f,d);var g="rtl"===i.p.direction,m="<a id='"+(g?"nData":"pData")+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",v="<a id='"+(g?"pData":"nData")+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",b="<a id='cData' class='fm-button ui-state-default ui-corner-all'>"+$.bClose+"</a>";if(0<p){var w=[];z.each(z(f)[0].rows,function(e,t){w[e]=t}),w.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),z.each(w,function(e,t){z("tbody",f).append(t)})}$.gbox="#gbox_"+z.jgrid.jqID(e);var j=z("<div></div>").append(h).append("<table border='0' class='EditTable' id='"+s+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+$.labelswidth+"'>"+(g?v+m:m+v)+"</td><td class='EditButton'>"+b+"</td></tr></tbody></table>");z.jgrid.createModal(o,j,$,"#gview_"+z.jgrid.jqID(i.p.id),z("#gview_"+z.jgrid.jqID(i.p.id))[0]),g&&(z("#pData, #nData","#"+s+"_2").css("float","right"),z(".EditButton","#"+s+"_2").css("text-align","left")),$.viewPagerButtons||z("#pData, #nData","#"+s+"_2").hide(),j=null,z("#"+o.themodal).keydown(function(e){if(27===e.which)return B[i.p.id].closeOnEscape&&z.jgrid.hideModal("#"+z.jgrid.jqID(o.themodal),{gb:$.gbox,jqm:$.jqModal,onClose:$.onClose,removemodal:B[i.p.id].removemodal,formprop:!B[i.p.id].recreateForm,form:B[i.p.id].form}),!1;if(!0===$.navkeys[0]){if(e.which===$.navkeys[1])return z("#pData","#"+s+"_2").trigger("click"),!1;if(e.which===$.navkeys[2])return z("#nData","#"+s+"_2").trigger("click"),!1}}),$.closeicon=z.extend([!0,"left","ui-icon-close"],$.closeicon),!0===$.closeicon[0]&&z("#cData","#"+s+"_2").addClass("right"===$.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+$.closeicon[2]+"'></span>"),z.isFunction($.beforeShowForm)&&$.beforeShowForm.call(i,z("#"+t)),z.jgrid.viewModal("#"+z.jgrid.jqID(o.themodal),{gbox:"#gbox_"+z.jgrid.jqID(e),jqm:$.jqModal,overlay:$.overlay,modal:$.modal,onHide:function(e){z(i).data("viewProp",{top:parseFloat(z(e.w).css("top")),left:parseFloat(z(e.w).css("left")),width:z(e.w).width(),height:z(e.w).height(),dataheight:z("#"+t).height(),datawidth:z("#"+t).width()}),e.w.remove(),e.o&&e.o.remove()}}),z(".fm-button:not(.ui-state-disabled)","#"+s+"_2").hover(function(){z(this).addClass("ui-state-hover")},function(){z(this).removeClass("ui-state-hover")}),x(),z("#cData","#"+s+"_2").click(function(){return z.jgrid.hideModal("#"+z.jgrid.jqID(o.themodal),{gb:"#gbox_"+z.jgrid.jqID(e),jqm:$.jqModal,onClose:$.onClose,removemodal:B[i.p.id].removemodal,formprop:!B[i.p.id].recreateForm,form:B[i.p.id].form}),!1}),z("#nData","#"+s+"_2").click(function(){z("#FormError","#"+s).hide();var e=C();return e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]&&(z.isFunction($.onclickPgButtons)&&$.onclickPgButtons.call(i,"next",z("#"+t),e[1][e[0]]),q(e[1][e[0]+1],i),z(i).jqGrid("setSelection",e[1][e[0]+1]),z.isFunction($.afterclickPgButtons)&&$.afterclickPgButtons.call(i,"next",z("#"+t),e[1][e[0]+1]),D(e[0]+1,e)),x(),!1}),z("#pData","#"+s+"_2").click(function(){z("#FormError","#"+s).hide();var e=C();return-1!==e[0]&&e[1][e[0]-1]&&(z.isFunction($.onclickPgButtons)&&$.onclickPgButtons.call(i,"prev",z("#"+t),e[1][e[0]]),q(e[1][e[0]-1],i),z(i).jqGrid("setSelection",e[1][e[0]-1]),z.isFunction($.afterclickPgButtons)&&$.afterclickPgButtons.call(i,"prev",z("#"+t),e[1][e[0]-1]),D(e[0]-1,e)),x(),!1});var y=C();D(y[0],y)}}function x(){!0!==B[i.p.id].closeOnEscape&&!0!==B[i.p.id].navkeys[0]||setTimeout(function(){z(".ui-jqdialog-titlebar-close","#"+z.jgrid.jqID(o.modalhead)).attr("tabindex","-1").focus()},0)}function q(e,t){var i,r,a,o,n=0;(o=z(t).jqGrid("getInd",e,!0))&&(z("td",o).each(function(e){i=t.p.colModel[e].name,r=(!t.p.colModel[e].editrules||!0!==t.p.colModel[e].editrules.edithidden)&&!0===t.p.colModel[e].hidden,"cb"!==i&&"subgrid"!==i&&"rn"!==i&&(a=i===t.p.ExpandColumn&&!0===t.p.treeGrid?z(this).text():z(this).html(),i=z.jgrid.jqID("v_"+i),z("#"+i+" span","#"+s).html(a),r&&z("#"+i,"#"+s).parents("tr:first").hide(),n++)}),0<n&&z("#id_g","#"+s).val(e))}function D(e,t){var i=t[1].length-1;0===e?z("#pData","#"+s+"_2").addClass("ui-state-disabled"):void 0!==t[1][e-1]&&z("#"+z.jgrid.jqID(t[1][e-1])).hasClass("ui-state-disabled")?z("#pData",s+"_2").addClass("ui-state-disabled"):z("#pData","#"+s+"_2").removeClass("ui-state-disabled"),e===i?z("#nData","#"+s+"_2").addClass("ui-state-disabled"):void 0!==t[1][e+1]&&z("#"+z.jgrid.jqID(t[1][e+1])).hasClass("ui-state-disabled")?z("#nData",s+"_2").addClass("ui-state-disabled"):z("#nData","#"+s+"_2").removeClass("ui-state-disabled")}function C(){var e=z(i).jqGrid("getDataIDs"),t=z("#id_g","#"+s).val();return[z.inArray(t,e),e]}})},delGridRow:function(b,w){return w=z.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},z.jgrid.del,w||{}),B[z(this)[0].p.id]=w,this.each(function(){var o=this;if(o.grid&&b){var n,s,l,d,e=z.isFunction(B[o.p.id].beforeShowForm),t=z.isFunction(B[o.p.id].afterShowForm),i=!!z.isFunction(B[o.p.id].beforeInitData)&&B[o.p.id].beforeInitData,p=o.p.id,c={},r=!0,u="DelTbl_"+z.jgrid.jqID(p),a="DelTbl_"+p,h={themodal:"delmod"+p,modalhead:"delhd"+p,modalcontent:"delcnt"+p,scrollelm:u};if(z.isArray(b)&&(b=b.join()),void 0!==z("#"+z.jgrid.jqID(h.themodal))[0]){if(i&&void 0===(r=i.call(o,z("#"+u)))&&(r=!0),!1===r)return;z("#DelData>td","#"+u).text(b),z("#DelError","#"+u).hide(),!0===B[o.p.id].processing&&(B[o.p.id].processing=!1,z("#dData","#"+u).removeClass("ui-state-active")),e&&B[o.p.id].beforeShowForm.call(o,z("#"+u)),z.jgrid.viewModal("#"+z.jgrid.jqID(h.themodal),{gbox:"#gbox_"+z.jgrid.jqID(p),jqm:B[o.p.id].jqModal,jqM:!1,overlay:B[o.p.id].overlay,modal:B[o.p.id].modal}),t&&B[o.p.id].afterShowForm.call(o,z("#"+u))}else{var f=isNaN(B[o.p.id].dataheight)?B[o.p.id].dataheight:B[o.p.id].dataheight+"px",g="<div id='"+a+"' class='formdata' style='width:"+(isNaN(w.datawidth)?w.datawidth:w.datawidth+"px")+";overflow:auto;position:relative;height:"+f+";'>";g+="<table class='DelTable'><tbody>",g+="<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>",g+="<tr id='DelData' style='display:none'><td >"+b+"</td></tr>",g+='<tr><td class="delmsg" style="white-space:pre;">'+B[o.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>",g+="</tbody></table></div>";var m="<a id='dData' class='fm-button ui-state-default ui-corner-all'>"+w.bSubmit+"</a>",v="<a id='eData' class='fm-button ui-state-default ui-corner-all'>"+w.bCancel+"</a>";if(g+="<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+u+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+m+"&#160;"+v+"</td></tr></tbody></table>",w.gbox="#gbox_"+z.jgrid.jqID(p),z.jgrid.createModal(h,g,w,"#gview_"+z.jgrid.jqID(o.p.id),z("#gview_"+z.jgrid.jqID(o.p.id))[0]),i&&void 0===(r=i.call(o,z(g)))&&(r=!0),!1===r)return;z(".fm-button","#"+u+"_2").hover(function(){z(this).addClass("ui-state-hover")},function(){z(this).removeClass("ui-state-hover")}),w.delicon=z.extend([!0,"left","ui-icon-scissors"],B[o.p.id].delicon),w.cancelicon=z.extend([!0,"left","ui-icon-cancel"],B[o.p.id].cancelicon),!0===w.delicon[0]&&z("#dData","#"+u+"_2").addClass("right"===w.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+w.delicon[2]+"'></span>"),!0===w.cancelicon[0]&&z("#eData","#"+u+"_2").addClass("right"===w.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+w.cancelicon[2]+"'></span>"),z("#dData","#"+u+"_2").click(function(){var e,r=[!0,""],a=z("#DelData>td","#"+u).text();if(c={},z.isFunction(B[o.p.id].onclickSubmit)&&(c=B[o.p.id].onclickSubmit.call(o,B[o.p.id],a)||{}),z.isFunction(B[o.p.id].beforeSubmit)&&(r=B[o.p.id].beforeSubmit.call(o,a)),r[0]&&!B[o.p.id].processing){if(B[o.p.id].processing=!0,l=o.p.prmNames,n=z.extend({},B[o.p.id].delData,c),d=l.oper,n[d]=l.deloper,s=l.id,!(a=String(a).split(",")).length)return!1;for(e in a)a.hasOwnProperty(e)&&(a[e]=z.jgrid.stripPref(o.p.idPrefix,a[e]));n[s]=a.join(),z(this).addClass("ui-state-active");var t=z.extend({url:B[o.p.id].url||z(o).jqGrid("getGridParam","editurl"),type:B[o.p.id].mtype,data:z.isFunction(B[o.p.id].serializeDelData)?B[o.p.id].serializeDelData.call(o,n):n,complete:function(e,t){var i;if(z("#dData","#"+u+"_2").removeClass("ui-state-active"),300<=e.status&&304!==e.status?(r[0]=!1,z.isFunction(B[o.p.id].errorTextFormat)?r[1]=B[o.p.id].errorTextFormat.call(o,e):r[1]=t+" Status: '"+e.statusText+"'. Error code: "+e.status):z.isFunction(B[o.p.id].afterSubmit)&&(r=B[o.p.id].afterSubmit.call(o,e,n)),!1===r[0])z("#DelError>td","#"+u).html(r[1]),z("#DelError","#"+u).show();else{if(B[o.p.id].reloadAfterSubmit&&"local"!==o.p.datatype)z(o).trigger("reloadGrid");else{if(!0===o.p.treeGrid)try{z(o).jqGrid("delTreeNode",o.p.idPrefix+a[0])}catch(e){}else for(i=0;i<a.length;i++)z(o).jqGrid("delRowData",o.p.idPrefix+a[i]);o.p.selrow=null,o.p.selarrrow=[]}z.isFunction(B[o.p.id].afterComplete)&&setTimeout(function(){B[o.p.id].afterComplete.call(o,e,a)},500)}B[o.p.id].processing=!1,r[0]&&z.jgrid.hideModal("#"+z.jgrid.jqID(h.themodal),{gb:"#gbox_"+z.jgrid.jqID(p),jqm:w.jqModal,onClose:B[o.p.id].onClose})}},z.jgrid.ajaxOptions,B[o.p.id].ajaxDelOptions);if(t.url||B[o.p.id].useDataProxy||(z.isFunction(o.p.dataProxy)?B[o.p.id].useDataProxy=!0:(r[0]=!1,r[1]+=" "+z.jgrid.errors.nourl)),r[0])if(B[o.p.id].useDataProxy){var i=o.p.dataProxy.call(o,t,"del_"+o.p.id);void 0===i&&(i=[!0,""]),!1===i[0]?(r[0]=!1,r[1]=i[1]||"Error deleting the selected row!"):z.jgrid.hideModal("#"+z.jgrid.jqID(h.themodal),{gb:"#gbox_"+z.jgrid.jqID(p),jqm:w.jqModal,onClose:B[o.p.id].onClose})}else"clientArray"===t.url?(n=t.data,t.complete({status:200,statusText:""},"")):z.ajax(t)}return!1===r[0]&&(z("#DelError>td","#"+u).html(r[1]),z("#DelError","#"+u).show()),!1}),z("#eData","#"+u+"_2").click(function(){return z.jgrid.hideModal("#"+z.jgrid.jqID(h.themodal),{gb:"#gbox_"+z.jgrid.jqID(p),jqm:B[o.p.id].jqModal,onClose:B[o.p.id].onClose}),!1}),e&&B[o.p.id].beforeShowForm.call(o,z("#"+u)),z.jgrid.viewModal("#"+z.jgrid.jqID(h.themodal),{gbox:"#gbox_"+z.jgrid.jqID(p),jqm:B[o.p.id].jqModal,overlay:B[o.p.id].overlay,modal:B[o.p.id].modal}),t&&B[o.p.id].afterShowForm.call(o,z("#"+u))}!0===B[o.p.id].closeOnEscape&&setTimeout(function(){z(".ui-jqdialog-titlebar-close","#"+z.jgrid.jqID(h.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(u,h,f,g,m,v,b){return h=z.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",del:!0,delicon:"ui-icon-trash",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewicon:"ui-icon-document",position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null},z.jgrid.nav,h||{}),this.each(function(){if(!this.nav){var e,t,i={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},r=this;if(r.grid&&"string"==typeof u){void 0===z("#"+i.themodal)[0]&&(h.alerttop||h.alertleft||(void 0!==window.innerWidth?(h.alertleft=window.innerWidth,h.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(h.alertleft=document.documentElement.clientWidth,h.alerttop=document.documentElement.clientHeight):(h.alertleft=1024,h.alerttop=768),h.alertleft=h.alertleft/2-parseInt(h.alertwidth,10)/2,h.alerttop=h.alerttop/2-25),z.jgrid.createModal(i,"<div>"+h.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+z.jgrid.jqID(r.p.id),jqModal:!0,drag:!0,resize:!0,caption:h.alertcap,top:h.alerttop,left:h.alertleft,width:h.alertwidth,height:h.alertheight,closeOnEscape:h.closeOnEscape,zIndex:h.alertzIndex},"#gview_"+z.jgrid.jqID(r.p.id),z("#gbox_"+z.jgrid.jqID(r.p.id))[0],!0));var a,o=1,n=function(){z(this).hasClass("ui-state-disabled")||z(this).addClass("ui-state-hover")},s=function(){z(this).removeClass("ui-state-hover")};for(h.cloneToTop&&r.p.toppager&&(o=2),a=0;a<o;a++){var l,d,p,c=z("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>");0===a?(d=u,p=r.p.id,d===r.p.toppager&&(p+="_top",o=1)):(d=r.p.toppager,p=r.p.id+"_top"),"rtl"===r.p.direction&&z(c).attr("dir","rtl").css("float","right"),h.add&&(g=g||{},l=z("<td class='ui-pg-button ui-corner-all'></td>"),z(l).append("<div class='ui-pg-div'><span class='ui-icon "+h.addicon+"'></span>"+h.addtext+"</div>"),z("tr",c).append(l),z(l,c).attr({title:h.addtitle||"",id:g.id||"add_"+p}).click(function(){return z(this).hasClass("ui-state-disabled")||(z.isFunction(h.addfunc)?h.addfunc.call(r):z(r).jqGrid("editGridRow","new",g)),!1}).hover(n,s),l=null),h.edit&&(l=z("<td class='ui-pg-button ui-corner-all'></td>"),f=f||{},z(l).append("<div class='ui-pg-div'><span class='ui-icon "+h.editicon+"'></span>"+h.edittext+"</div>"),z("tr",c).append(l),z(l,c).attr({title:h.edittitle||"",id:f.id||"edit_"+p}).click(function(){if(!z(this).hasClass("ui-state-disabled")){var e=r.p.selrow;e?z.isFunction(h.editfunc)?h.editfunc.call(r,e):z(r).jqGrid("editGridRow",e,f):(z.jgrid.viewModal("#"+i.themodal,{gbox:"#gbox_"+z.jgrid.jqID(r.p.id),jqm:!0}),z("#jqg_alrt").focus())}return!1}).hover(n,s),l=null),h.view&&(l=z("<td class='ui-pg-button ui-corner-all'></td>"),b=b||{},z(l).append("<div class='ui-pg-div'><span class='ui-icon "+h.viewicon+"'></span>"+h.viewtext+"</div>"),z("tr",c).append(l),z(l,c).attr({title:h.viewtitle||"",id:b.id||"view_"+p}).click(function(){if(!z(this).hasClass("ui-state-disabled")){var e=r.p.selrow;e?z.isFunction(h.viewfunc)?h.viewfunc.call(r,e):z(r).jqGrid("viewGridRow",e,b):(z.jgrid.viewModal("#"+i.themodal,{gbox:"#gbox_"+z.jgrid.jqID(r.p.id),jqm:!0}),z("#jqg_alrt").focus())}return!1}).hover(n,s),l=null),h.del&&(l=z("<td class='ui-pg-button ui-corner-all'></td>"),m=m||{},z(l).append("<div class='ui-pg-div'><span class='ui-icon "+h.delicon+"'></span>"+h.deltext+"</div>"),z("tr",c).append(l),z(l,c).attr({title:h.deltitle||"",id:m.id||"del_"+p}).click(function(){var e;z(this).hasClass("ui-state-disabled")||(r.p.multiselect?0===(e=r.p.selarrrow).length&&(e=null):e=r.p.selrow,e?z.isFunction(h.delfunc)?h.delfunc.call(r,e):z(r).jqGrid("delGridRow",e,m):(z.jgrid.viewModal("#"+i.themodal,{gbox:"#gbox_"+z.jgrid.jqID(r.p.id),jqm:!0}),z("#jqg_alrt").focus()));return!1}).hover(n,s),l=null),(h.add||h.edit||h.del||h.view)&&z("tr",c).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"),h.search&&(l=z("<td class='ui-pg-button ui-corner-all'></td>"),v=v||{},z(l).append("<div class='ui-pg-div'><span class='ui-icon "+h.searchicon+"'></span>"+h.searchtext+"</div>"),z("tr",c).append(l),z(l,c).attr({title:h.searchtitle||"",id:v.id||"search_"+p}).click(function(){return z(this).hasClass("ui-state-disabled")||(z.isFunction(h.searchfunc)?h.searchfunc.call(r,v):z(r).jqGrid("searchGrid",v)),!1}).hover(n,s),v.showOnLoad&&!0===v.showOnLoad&&z(l,c).click(),l=null),h.refresh&&(l=z("<td class='ui-pg-button ui-corner-all'></td>"),z(l).append("<div class='ui-pg-div'><span class='ui-icon "+h.refreshicon+"'></span>"+h.refreshtext+"</div>"),z("tr",c).append(l),z(l,c).attr({title:h.refreshtitle||"",id:"refresh_"+p}).click(function(){if(!z(this).hasClass("ui-state-disabled")){z.isFunction(h.beforeRefresh)&&h.beforeRefresh.call(r),r.p.search=!1,r.p.resetsearch=!0;try{if("currentfilter"!==h.refreshstate){var e=r.p.id;r.p.postData.filters="";try{z("#fbox_"+z.jgrid.jqID(e)).jqFilter("resetFilter")}catch(e){}z.isFunction(r.clearToolbar)&&r.clearToolbar.call(r,!1)}}catch(e){}switch(h.refreshstate){case"firstpage":z(r).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":z(r).trigger("reloadGrid",[{current:!0}])}z.isFunction(h.afterRefresh)&&h.afterRefresh.call(r)}return!1}).hover(n,s),l=null),t=z(".ui-jqgrid").css("font-size")||"11px",z("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+t+";visibility:hidden;' ></div>"),e=z(c).clone().appendTo("#testpg2").width(),z("#testpg2").remove(),z(d+"_"+h.position,d).append(c),r.p._nvtd&&(e>r.p._nvtd[0]&&(z(d+"_"+h.position,d).width(e),r.p._nvtd[0]=e),r.p._nvtd[1]=e),c=e=t=null,this.nav=!0}}}})},navButtonAdd:function(r,a){return a=z.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},a||{}),this.each(function(){if(this.grid){"string"==typeof r&&0!==r.indexOf("#")&&(r="#"+z.jgrid.jqID(r));var e=z(".navtable",r)[0],t=this;if(e){if(a.id&&void 0!==z("#"+z.jgrid.jqID(a.id),e)[0])return;var i=z("<td></td>");"NONE"===a.buttonicon.toString().toUpperCase()?z(i).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+a.caption+"</div>"):z(i).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+a.buttonicon+"'></span>"+a.caption+"</div>"),a.id&&z(i).attr("id",a.id),"first"===a.position?0===e.rows[0].cells.length?z("tr",e).append(i):z("tr td:eq(0)",e).before(i):z("tr",e).append(i),z(i,e).attr("title",a.title||"").click(function(e){return z(this).hasClass("ui-state-disabled")||z.isFunction(a.onClickButton)&&a.onClickButton.call(t,e),!1}).hover(function(){z(this).hasClass("ui-state-disabled")||z(this).addClass("ui-state-hover")},function(){z(this).removeClass("ui-state-hover")})}}})},navSeparatorAdd:function(i,r){return r=z.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},r||{}),this.each(function(){if(this.grid){"string"==typeof i&&0!==i.indexOf("#")&&(i="#"+z.jgrid.jqID(i));var e=z(".navtable",i)[0];if(e){var t="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+r.sepclass+"'></span>"+r.sepcontent+"</td>";"first"===r.position?0===e.rows[0].cells.length?z("tr",e).append(t):z("tr td:eq(0)",e).before(t):z("tr",e).append(t)}}})},GridToForm:function(r,a){return this.each(function(){var e,t=this;if(t.grid){var i=z(t).jqGrid("getRowData",r);if(i)for(e in i)i.hasOwnProperty(e)&&(z("[name="+z.jgrid.jqID(e)+"]",a).is("input:radio")||z("[name="+z.jgrid.jqID(e)+"]",a).is("input:checkbox")?z("[name="+z.jgrid.jqID(e)+"]",a).each(function(){z(this).val()==i[e]?z(this)[t.p.useProp?"prop":"attr"]("checked",!0):z(this)[t.p.useProp?"prop":"attr"]("checked",!1)}):z("[name="+z.jgrid.jqID(e)+"]",a).val(i[e]))}})},FormToGrid:function(t,r,a,o){return this.each(function(){if(this.grid){a||(a="set"),o||(o="first");var e=z(r).serializeArray(),i={};z.each(e,function(e,t){i[t.name]=t.value}),"add"===a?z(this).jqGrid("addRowData",t,i,o):"set"===a&&z(this).jqGrid("setRowData",t,i)}})}})}(jQuery),function(k){"use strict";k.extend(k.jgrid,{template:function(e){var a,o=k.makeArray(arguments).slice(1),n=o.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(e,t){if(!isNaN(parseInt(t,10)))return o[parseInt(t,10)];for(a=0;a<n;a++)if(k.isArray(o[a]))for(var i=o[a],r=i.length;r--;)if(t===i[r].nm)return i[r].v})}}),k.jgrid.extend({groupingSetup:function(){return this.each(function(){var e,t,i,r=this,a=r.p.colModel,o=r.p.groupingView;if(null===o||"object"!=typeof o&&!k.isFunction(o))r.p.grouping=!1;else if(o.groupField.length){for(void 0===o.visibiltyOnNextGrouping&&(o.visibiltyOnNextGrouping=[]),o.lastvalues=[],o._locgr||(o.groups=[]),o.counters=[],e=0;e<o.groupField.length;e++)o.groupOrder[e]||(o.groupOrder[e]="asc"),o.groupText[e]||(o.groupText[e]="{0}"),"boolean"!=typeof o.groupColumnShow[e]&&(o.groupColumnShow[e]=!0),"boolean"!=typeof o.groupSummary[e]&&(o.groupSummary[e]=!1),o.groupSummaryPos[e]||(o.groupSummaryPos[e]="footer"),!0===o.groupColumnShow[e]?(o.visibiltyOnNextGrouping[e]=!0,k(r).jqGrid("showCol",o.groupField[e])):(o.visibiltyOnNextGrouping[e]=k("#"+k.jgrid.jqID(r.p.id+"_"+o.groupField[e])).is(":visible"),k(r).jqGrid("hideCol",o.groupField[e]));for(o.summary=[],o.hideFirstGroupCol&&(o.formatDisplayField[0]=function(e){return e}),t=0,i=a.length;t<i;t++)o.hideFirstGroupCol&&(a[t].hidden||o.groupField[0]!==a[t].name||(a[t].formatter=function(){return""})),a[t].summaryType&&(a[t].summaryDivider?o.summary.push({nm:a[t].name,st:a[t].summaryType,v:"",sd:a[t].summaryDivider,vd:"",sr:a[t].summaryRound,srt:a[t].summaryRoundType||"round"}):o.summary.push({nm:a[t].name,st:a[t].summaryType,v:"",sr:a[t].summaryRound,srt:a[t].summaryRoundType||"round"}))}else r.p.grouping=!1})},groupingPrepare:function(d,p){return this.each(function(){var e,t,i,r,a,o=this.p.groupingView,n=this,s=o.groupField.length,l=0;for(e=0;e<s;e++)t=o.groupField[e],r=o.displayField[e],i=d[t],null==(a=null==r?null:d[r])&&(a=i),void 0!==i&&(0===p?(o.groups.push({idx:e,dataIndex:t,value:i,displayValue:a,startRow:p,cnt:1,summary:[]}),o.lastvalues[e]=i,o.counters[e]={cnt:1,pos:o.groups.length-1,summary:k.extend(!0,[],o.summary)},k.each(o.counters[e].summary,function(){k.isFunction(this.st)?this.v=this.st.call(n,this.v,this.nm,d):(this.v=k(n).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,d),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=k(n).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,d)))}),o.groups[o.counters[e].pos].summary=o.counters[e].summary):"object"==typeof i||(k.isArray(o.isInTheSameGroup)&&k.isFunction(o.isInTheSameGroup[e])?o.isInTheSameGroup[e].call(n,o.lastvalues[e],i,e,o):o.lastvalues[e]===i)?o.groups[o.counters[e].pos].summary=(1===l?(o.groups.push({idx:e,dataIndex:t,value:i,displayValue:a,startRow:p,cnt:1,summary:[]}),o.lastvalues[e]=i,o.counters[e]={cnt:1,pos:o.groups.length-1,summary:k.extend(!0,[],o.summary)}):(o.counters[e].cnt+=1,o.groups[o.counters[e].pos].cnt=o.counters[e].cnt),k.each(o.counters[e].summary,function(){k.isFunction(this.st)?this.v=this.st.call(n,this.v,this.nm,d):(this.v=k(n).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,d),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=k(n).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,d)))}),o.counters[e].summary):(o.groups.push({idx:e,dataIndex:t,value:i,displayValue:a,startRow:p,cnt:1,summary:[]}),o.lastvalues[e]=i,l=1,o.counters[e]={cnt:1,pos:o.groups.length-1,summary:k.extend(!0,[],o.summary)},k.each(o.counters[e].summary,function(){k.isFunction(this.st)?this.v=this.st.call(n,this.v,this.nm,d):(this.v=k(n).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,d),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=k(n).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,d)))}),o.groups[o.counters[e].pos].summary=o.counters[e].summary))}),this},groupingToggle:function(v){return this.each(function(){var e=this,t=e.p.groupingView,i=v.split("_"),r=parseInt(i[i.length-2],10);i.splice(i.length-2,2);var a,o,n=i.join("_"),s=t.minusicon,l=t.plusicon,d=k("#"+k.jgrid.jqID(v)),p=d.length?d[0].nextSibling:null,c=k("#"+k.jgrid.jqID(v)+" span.tree-wrap-"+e.p.direction),u=function(e){var t=k.map(e.split(" "),function(e){if(e.substring(0,n.length+1)===n+"_")return parseInt(e.substring(n.length+1),10)});return 0<t.length?t[0]:void 0},h=!1,f=!!e.p.frozenColumns&&e.p.id+"_frozen",g=!!f&&k("#"+k.jgrid.jqID(v),"#"+k.jgrid.jqID(f)),m=g&&g.length?g[0].nextSibling:null;if(c.hasClass(s)){if(t.showSummaryOnHide){if(p)for(;p&&!(void 0!==(a=u(p.className))&&a<=r);)k(p).hide(),p=p.nextSibling,f&&(k(m).hide(),m=m.nextSibling)}else if(p)for(;p&&!(void 0!==(a=u(p.className))&&a<=r);)k(p).hide(),p=p.nextSibling,f&&(k(m).hide(),m=m.nextSibling);c.removeClass(s).addClass(l),h=!0}else{if(p)for(o=void 0;p;){if(a=u(p.className),void 0===o&&(o=void 0===a),void 0!==a){if(a<=r)break;a===r+1&&(k(p).show().find(">td>span.tree-wrap-"+e.p.direction).removeClass(s).addClass(l),f&&k(m).show().find(">td>span.tree-wrap-"+e.p.direction).removeClass(s).addClass(l))}else o&&(k(p).show(),f&&k(m).show());p=p.nextSibling,f&&(m=m.nextSibling)}c.removeClass(l).addClass(s)}k(e).triggerHandler("jqGridGroupingClickGroup",[v,h]),k.isFunction(e.p.onClickGroup)&&e.p.onClickGroup.call(e,v,h)}),!1},groupingRender:function(D,C,_,$){return this.each(function(){var p,c,u,h=this,f=h.p.groupingView,g="",m="",v=f.groupCollapse?f.plusicon:f.minusicon,b=[],w=f.groupField.length;v+=" tree-wrap-"+h.p.direction,k.each(h.p.colModel,function(e,t){var i;for(i=0;i<w;i++)if(f.groupField[i]===t.name){b[i]=e;break}});var j=0;function y(e,t,i,r){var a,o,n=function(e,t,i){var r,a=!1;if(0===t)a=i[e];else{var o=i[e].idx;if(0===o)a=i[e];else for(r=e;0<=r;r--)if(i[r].idx===o-t){a=i[r];break}}return a}(e,t,i),s=h.p.colModel,l=n.cnt,d="";for(o=r;o<C;o++){var p="<td "+h.formatCol(o,1,"")+">&#160;</td>",c="{0}";k.each(n.summary,function(){if(this.nm===s[o].name){s[o].summaryTpl&&(c=s[o].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&0<l&&(this.v=this.v/l));try{this.groupCount=n.cnt,this.groupIndex=n.dataIndex,this.groupValue=n.value,a=h.formatter("",this.v,o,this)}catch(e){a=this.v}return p="<td "+h.formatCol(o,1,"")+">"+k.jgrid.format(c,a)+"</td>",!1}}),d+=p}return d}var x,q=k.makeArray(f.groupSummary);q.reverse(),x=h.p.multiselect?' colspan="2"':"",k.each(f.groups,function(e,t){if(f._locgr&&!(t.startRow+t.cnt>(_-1)*$&&t.startRow<_*$))return!0;j++,c=h.p.id+"ghead_"+t.idx,p=c+"_"+e,m="<span style='cursor:pointer;' class='ui-icon "+v+"' onclick=\"jQuery('#"+k.jgrid.jqID(h.p.id)+"').jqGrid('groupingToggle','"+p+"');return false;\"></span>";try{u=k.isArray(f.formatDisplayField)&&k.isFunction(f.formatDisplayField[t.idx])?(t.displayValue=f.formatDisplayField[t.idx].call(h,t.displayValue,t.value,h.p.colModel[b[t.idx]],t.idx,f),t.displayValue):h.formatter(p,t.displayValue,b[t.idx],t.value)}catch(e){u=t.displayValue}if("header"===f.groupSummaryPos[t.idx]?(g+='<tr id="'+p+'"'+(f.groupCollapse&&0<t.idx?' style="display:none;" ':" ")+'role="row" class= "ui-widget-content jqgroup ui-row-'+h.p.direction+" "+c+'"><td style="padding-left:'+12*t.idx+'px;"'+x+">"+m+k.jgrid.template(f.groupText[t.idx],u,t.cnt,t.summary)+"</td>",g+=y(e,0,f.groups,!1===f.groupColumnShow[t.idx]?""===x?2:3:""===x?1:2),g+="</tr>"):g+='<tr id="'+p+'"'+(f.groupCollapse&&0<t.idx?' style="display:none;" ':" ")+'role="row" class= "ui-widget-content jqgroup ui-row-'+h.p.direction+" "+c+'"><td style="padding-left:'+12*t.idx+'px;" colspan="'+(!1===f.groupColumnShow[t.idx]?C-1:C)+'">'+m+k.jgrid.template(f.groupText[t.idx],u,t.cnt,t.summary)+"</td></tr>",w-1===t.idx){var i,r,a=f.groups[e+1],o=0,n=t.startRow,s=void 0!==a?a.startRow:f.groups[e].startRow+f.groups[e].cnt;for(f._locgr&&(o=(_-1)*$)>t.startRow&&(n=o),i=n;i<s&&D[i-o];i++)g+=D[i-o].join("");if("header"!==f.groupSummaryPos[t.idx]){var l;if(void 0!==a){for(l=0;l<f.groupField.length&&a.dataIndex!==f.groupField[l];l++);j=f.groupField.length-l}for(r=0;r<j;r++)if(q[r]){var d="";f.groupCollapse&&!f.showSummaryOnHide&&(d=' style="display:none;"'),g+="<tr"+d+' jqfootlevel="'+(t.idx-r)+'" role="row" class="ui-widget-content jqfoot ui-row-'+h.p.direction+'">',g+=y(e,r,f.groups,0),g+="</tr>"}j=l}}}),k("#"+k.jgrid.jqID(h.p.id)+" tbody:first").append(g),g=null})},groupingGroupBy:function(r,a){return this.each(function(){var e=this;"string"==typeof r&&(r=[r]);var t,i=e.p.groupingView;for(e.p.grouping=!0,i._locgr=!1,void 0===i.visibiltyOnNextGrouping&&(i.visibiltyOnNextGrouping=[]),t=0;t<i.groupField.length;t++)!i.groupColumnShow[t]&&i.visibiltyOnNextGrouping[t]&&k(e).jqGrid("showCol",i.groupField[t]);for(t=0;t<r.length;t++)i.visibiltyOnNextGrouping[t]=k("#"+k.jgrid.jqID(e.p.id)+"_"+k.jgrid.jqID(r[t])).is(":visible");e.p.groupingView=k.extend(e.p.groupingView,a||{}),i.groupField=r,k(e).trigger("reloadGrid")})},groupingRemove:function(r){return this.each(function(){var e=this;if(void 0===r&&(r=!0),!(e.p.grouping=!1)===r){var t,i=e.p.groupingView;for(t=0;t<i.groupField.length;t++)!i.groupColumnShow[t]&&i.visibiltyOnNextGrouping[t]&&k(e).jqGrid("showCol",i.groupField);k("tr.jqgroup, tr.jqfoot","#"+k.jgrid.jqID(e.p.id)+" tbody:first").remove(),k("tr.jqgrow:hidden","#"+k.jgrid.jqID(e.p.id)+" tbody:first").show()}else k(e).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,i,r,a,o){var n={sum:function(){return parseFloat(t||0)+parseFloat(o[i]||0)},min:function(){return""===t?parseFloat(o[i]||0):Math.min(parseFloat(t),parseFloat(o[i]||0))},max:function(){return""===t?parseFloat(o[i]||0):Math.max(parseFloat(t),parseFloat(o[i]||0))},count:function(){return""===t&&(t=0),o.hasOwnProperty(i)?t+1:0},avg:function(){return n.sum()}};if(!n[e])throw"jqGrid Grouping No such method: "+e;var s=n[e]();if(null!=r)if("fixed"===a)s=s.toFixed(r);else{var l=Math.pow(10,r);s=Math.round(s*l)/l}return s}}})}(jQuery),function(d){"use strict";d.jgrid.extend({jqGridImport:function(r){return r=d.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},r||{}),this.each(function(){var l=this,i=function(e,t){var i,r,a,o=d(t.xmlGrid.config,e)[0],n=d(t.xmlGrid.data,e)[0];if(xmlJsonClass.xml2json&&d.jgrid.parse){for(a in i=xmlJsonClass.xml2json(o," "),i=d.jgrid.parse(i))i.hasOwnProperty(a)&&(r=i[a]);if(n){var s=i.grid.datatype;i.grid.datatype="xmlstring",i.grid.datastr=e,d(l).jqGrid(r).jqGrid("setGridParam",{datatype:s})}else d(l).jqGrid(r);r=i=null}else alert("xml2json or parse are not present")},t=function(e,t){if(e&&"string"==typeof e){var i=!1;d.jgrid.useJSON&&(i=!(d.jgrid.useJSON=!1));var r=d.jgrid.parse(e);i&&(d.jgrid.useJSON=!0);var a=r[t.jsonGrid.config],o=r[t.jsonGrid.data];if(o){var n=a.datatype;a.datatype="jsonstring",a.datastr=o,d(l).jqGrid(a).jqGrid("setGridParam",{datatype:n})}else d(l).jqGrid(a)}};switch(r.imptype){case"xml":d.ajax(d.extend({url:r.impurl,type:r.mtype,data:r.impData,dataType:"xml",complete:function(e,t){"success"===t&&(i(e.responseXML,r),d(l).triggerHandler("jqGridImportComplete",[e,r]),d.isFunction(r.importComplete)&&r.importComplete(e)),e=null}},r.ajaxOptions));break;case"xmlstring":if(r.impstring&&"string"==typeof r.impstring){var e=d.parseXML(r.impstring);e&&(i(e,r),d(l).triggerHandler("jqGridImportComplete",[e,r]),d.isFunction(r.importComplete)&&r.importComplete(e),r.impstring=null),e=null}break;case"json":d.ajax(d.extend({url:r.impurl,type:r.mtype,data:r.impData,dataType:"json",complete:function(e){try{t(e.responseText,r),d(l).triggerHandler("jqGridImportComplete",[e,r]),d.isFunction(r.importComplete)&&r.importComplete(e)}catch(e){}e=null}},r.ajaxOptions));break;case"jsonstring":r.impstring&&"string"==typeof r.impstring&&(t(r.impstring,r),d(l).triggerHandler("jqGridImportComplete",[r.impstring,r]),d.isFunction(r.importComplete)&&r.importComplete(r.impstring),r.impstring=null)}})},jqGridExport:function(i){i=d.extend({exptype:"xmlstring",root:"grid",ident:"\t"},i||{});var r=null;return this.each(function(){if(this.grid){var e,t=d.extend(!0,{},d(this).jqGrid("getGridParam"));if(t.rownumbers&&(t.colNames.splice(0,1),t.colModel.splice(0,1)),t.multiselect&&(t.colNames.splice(0,1),t.colModel.splice(0,1)),t.subGrid&&(t.colNames.splice(0,1),t.colModel.splice(0,1)),t.knv=null,t.treeGrid)for(e in t.treeReader)t.treeReader.hasOwnProperty(e)&&(t.colNames.splice(t.colNames.length-1),t.colModel.splice(t.colModel.length-1));switch(i.exptype){case"xmlstring":r="<"+i.root+">"+xmlJsonClass.json2xml(t,i.ident)+"</"+i.root+">";break;case"jsonstring":r="{"+xmlJsonClass.toJson(t,i.root,i.ident,!1)+"}",void 0!==t.postData.filters&&(r=(r=r.replace(/filters":"/,'filters":')).replace(/}]}"/,"}]}"))}}}),r},excelExport:function(r){return r=d.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},r||{}),this.each(function(){var e;if(this.grid&&"remote"===r.exptype){var t=d.extend({},this.p.postData);t[r.oper]=r.tag;var i=jQuery.param(t);e=-1!==r.url.indexOf("?")?r.url+"&"+i:r.url+"?"+i,window.location=e}})}})}(jQuery),function(F){"use strict";F.jgrid.inlineEdit=F.jgrid.inlineEdit||{},F.jgrid.extend({editRow:function(c,e,t,i,r,a,o,n,s){var u={},l=F.makeArray(arguments).slice(1);return"object"===F.type(l[0])?u=l[0]:(void 0!==e&&(u.keys=e),F.isFunction(t)&&(u.oneditfunc=t),F.isFunction(i)&&(u.successfunc=i),void 0!==r&&(u.url=r),void 0!==a&&(u.extraparam=a),F.isFunction(o)&&(u.aftersavefunc=o),F.isFunction(n)&&(u.errorfunc=n),F.isFunction(s)&&(u.afterrestorefunc=s)),u=F.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",focusField:!0},F.jgrid.inlineEdit,u),this.each(function(){var a,o,t,n,e,s=this,l=0,d=null,p={};s.grid&&!1!==(t=F(s).jqGrid("getInd",c,!0))&&(void 0===(e=F.isFunction(u.beforeEditRow)?u.beforeEditRow.call(s,u,c):void 0)&&(e=!0),e&&("0"!==(F(t).attr("editable")||"0")||F(t).hasClass("not-editable-row")||(n=s.p.colModel,F('td[role="gridcell"]',t).each(function(t){a=n[t].name;var e=!0===s.p.treeGrid&&a===s.p.ExpandColumn;if(e)o=F("span:first",this).html();else try{o=F.unformat.call(s,this,{rowId:c,colModel:n[t]},t)}catch(e){o=n[t].edittype&&"textarea"===n[t].edittype?F(this).text():F(this).html()}if("cb"!==a&&"subgrid"!==a&&"rn"!==a&&(s.p.autoencode&&(o=F.jgrid.htmlDecode(o)),p[a]=o,!0===n[t].editable)){null===d&&(d=t),e?F("span:first",this).html(""):F(this).html("");var i=F.extend({},n[t].editoptions||{},{id:c+"_"+a,name:a,rowId:c});n[t].edittype||(n[t].edittype="text"),("&nbsp;"===o||"&#160;"===o||1===o.length&&160===o.charCodeAt(0))&&(o="");var r=F.jgrid.createEl.call(s,n[t].edittype,i,o,!0,F.extend({},F.jgrid.ajaxOptions,s.p.ajaxSelectOptions||{}));F(r).addClass("editable"),e?F("span:first",this).append(r):F(this).append(r),F.jgrid.bindEv.call(s,r,i),"select"===n[t].edittype&&void 0!==n[t].editoptions&&!0===n[t].editoptions.multiple&&void 0===n[t].editoptions.dataUrl&&F.jgrid.msie&&F(r).width(F(r).width()),l++}}),0<l&&(p.id=c,s.p.savedRow.push(p),F(t).attr("editable","1"),u.focusField&&("number"==typeof u.focusField&&parseInt(u.focusField,10)<=n.length&&(d=u.focusField),setTimeout(function(){var e=F("td:eq("+d+") :input:visible",t).not(":disabled");0<e.length&&e.focus()},0)),!0===u.keys&&F(t).bind("keydown",function(e){if(27===e.keyCode){if(F(s).jqGrid("restoreRow",c,u.afterrestorefunc),s.p._inlinenav)try{F(s).jqGrid("showAddEditButtons")}catch(e){}return!1}if(13===e.keyCode){if("TEXTAREA"===e.target.tagName)return!0;if(F(s).jqGrid("saveRow",c,u)&&s.p._inlinenav)try{F(s).jqGrid("showAddEditButtons")}catch(e){}return!1}}),F(s).triggerHandler("jqGridInlineEditRow",[c,u]),F.isFunction(u.oneditfunc)&&u.oneditfunc.call(s,c)))))})},saveRow:function(o,e,t,i,r,a,n){var s=F.makeArray(arguments).slice(1),l={};"object"===F.type(s[0])?l=s[0]:(F.isFunction(e)&&(l.successfunc=e),void 0!==t&&(l.url=t),void 0!==i&&(l.extraparam=i),F.isFunction(r)&&(l.aftersavefunc=r),F.isFunction(a)&&(l.errorfunc=a),F.isFunction(n)&&(l.afterrestorefunc=n)),l=F.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",saveui:"enable",savetext:F.jgrid.defaults.savetext||"Saving..."},F.jgrid.inlineEdit,l);var d,p,c,u,h,f=!1,g=this[0],m={},v={},b={};if(!g.grid)return f;if(!1===(h=F(g).jqGrid("getInd",o,!0)))return f;var w=F.isFunction(l.beforeSaveRow)?l.beforeSaveRow.call(g,l,o):void 0;if(void 0===w&&(w=!0),w){if(p=F(h).attr("editable"),l.url=l.url||g.p.editurl,"1"===p){var j;if(F('td[role="gridcell"]',h).each(function(e){if(j=g.p.colModel[e],"cb"!==(d=j.name)&&"subgrid"!==d&&!0===j.editable&&"rn"!==d&&!F(this).hasClass("not-editable-cell")){switch(j.edittype){case"checkbox":var t=["Yes","No"];j.editoptions&&(t=j.editoptions.value.split(":")),m[d]=F("input",this).is(":checked")?t[0]:t[1];break;case"text":case"password":case"textarea":case"button":m[d]=F("input, textarea",this).val();break;case"select":if(j.editoptions.multiple){var i=F("select",this),r=[];m[d]=F(i).val(),m[d]?m[d]=m[d].join(","):m[d]="",F("select option:selected",this).each(function(e,t){r[e]=F(t).text()}),v[d]=r.join(",")}else m[d]=F("select option:selected",this).val(),v[d]=F("select option:selected",this).text();j.formatter&&"select"===j.formatter&&(v={});break;case"custom":try{if(!j.editoptions||!F.isFunction(j.editoptions.custom_value))throw"e1";if(m[d]=j.editoptions.custom_value.call(g,F(".customelement",this),"get"),void 0===m[d])throw"e2"}catch(e){"e1"===e&&F.jgrid.info_dialog(F.jgrid.errors.errcap,"function 'custom_value' "+F.jgrid.edit.msg.nodefined,F.jgrid.edit.bClose),"e2"===e?F.jgrid.info_dialog(F.jgrid.errors.errcap,"function 'custom_value' "+F.jgrid.edit.msg.novalue,F.jgrid.edit.bClose):F.jgrid.info_dialog(F.jgrid.errors.errcap,e.message,F.jgrid.edit.bClose)}}if(!1===(u=F.jgrid.checkValues.call(g,m[d],e))[0])return!1;g.p.autoencode&&(m[d]=F.jgrid.htmlEncode(m[d])),"clientArray"!==l.url&&j.editoptions&&!0===j.editoptions.NullIfEmpty&&""===m[d]&&(b[d]="null")}}),!1===u[0]){try{var y=F(g).jqGrid("getGridRowById",o),x=F.jgrid.findPos(y);F.jgrid.info_dialog(F.jgrid.errors.errcap,u[1],F.jgrid.edit.bClose,{left:x[0],top:x[1]+F(y).outerHeight()})}catch(e){alert(u[1])}return f}var q,D=g.p.prmNames,C=o;if(q=!1===g.p.keyName?D.id:g.p.keyName,m){if(m[D.oper]=D.editoper,void 0===m[q]||""===m[q])m[q]=o;else if(h.id!==g.p.idPrefix+m[q]){var _=F.jgrid.stripPref(g.p.idPrefix,o);if(void 0!==g.p._index[_]&&(g.p._index[m[q]]=g.p._index[_],delete g.p._index[_]),o=g.p.idPrefix+m[q],F(h).attr("id",o),g.p.selrow===C&&(g.p.selrow=o),F.isArray(g.p.selarrrow)){var $=F.inArray(C,g.p.selarrrow);0<=$&&(g.p.selarrrow[$]=o)}if(g.p.multiselect){var k="jqg_"+g.p.id+"_"+o;F("input.cbox",h).attr("id",k).attr("name",k)}}void 0===g.p.inlineData&&(g.p.inlineData={}),m=F.extend({},m,g.p.inlineData,l.extraparam)}if("clientArray"===l.url){m=F.extend({},m,v),g.p.autoencode&&F.each(m,function(e,t){m[e]=F.jgrid.htmlDecode(t)});var I,G=F(g).jqGrid("setRowData",o,m);for(F(h).attr("editable","0"),I=0;I<g.p.savedRow.length;I++)if(String(g.p.savedRow[I].id)===String(C)){c=I;break}0<=c&&g.p.savedRow.splice(c,1),F(g).triggerHandler("jqGridInlineAfterSaveRow",[o,G,m,l]),F.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(g,o,G,m,l),f=!0,F(h).removeClass("jqgrid-new-row").unbind("keydown")}else F(g).jqGrid("progressBar",{method:"show",loadtype:l.saveui,htmlcontent:l.savetext}),(b=F.extend({},m,b))[q]=F.jgrid.stripPref(g.p.idPrefix,b[q]),F.ajax(F.extend({url:l.url,data:F.isFunction(g.p.serializeRowData)?g.p.serializeRowData.call(g,b):b,type:l.mtype,async:!1,complete:function(e,t){if(F(g).jqGrid("progressBar",{method:"hide",loadtype:l.saveui,htmlcontent:l.savetext}),"success"===t){var i,r,a=!0;if(i=F(g).triggerHandler("jqGridInlineSuccessSaveRow",[e,o,l]),F.isArray(i)||(i=[!0,m]),i[0]&&F.isFunction(l.successfunc)&&(i=l.successfunc.call(g,e)),F.isArray(i)?(a=i[0],m=i[1]||m):a=i,!0===a){for(g.p.autoencode&&F.each(m,function(e,t){m[e]=F.jgrid.htmlDecode(t)}),m=F.extend({},m,v),F(g).jqGrid("setRowData",o,m),F(h).attr("editable","0"),r=0;r<g.p.savedRow.length;r++)if(String(g.p.savedRow[r].id)===String(o)){c=r;break}0<=c&&g.p.savedRow.splice(c,1),F(g).triggerHandler("jqGridInlineAfterSaveRow",[o,e,m,l]),F.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(g,o,e,m,l),f=!0,F(h).removeClass("jqgrid-new-row").unbind("keydown")}else F(g).triggerHandler("jqGridInlineErrorSaveRow",[o,e,t,null,l]),F.isFunction(l.errorfunc)&&l.errorfunc.call(g,o,e,t,null),!0===l.restoreAfterError&&F(g).jqGrid("restoreRow",o,l.afterrestorefunc)}},error:function(e,t,i){if(F("#lui_"+F.jgrid.jqID(g.p.id)).hide(),F(g).triggerHandler("jqGridInlineErrorSaveRow",[o,e,t,i,l]),F.isFunction(l.errorfunc))l.errorfunc.call(g,o,e,t,i);else{var r=e.responseText||e.statusText;try{F.jgrid.info_dialog(F.jgrid.errors.errcap,'<div class="ui-state-error">'+r+"</div>",F.jgrid.edit.bClose,{buttonalign:"right"})}catch(e){alert(r)}}!0===l.restoreAfterError&&F(g).jqGrid("restoreRow",o,l.afterrestorefunc)}},F.jgrid.ajaxOptions,g.p.ajaxRowOptions||{}))}return f}},restoreRow:function(n,e){var t=F.makeArray(arguments).slice(1),s={};return"object"===F.type(t[0])?s=t[0]:F.isFunction(e)&&(s.afterrestorefunc=e),s=F.extend(!0,{},F.jgrid.inlineEdit,s),this.each(function(){var e,t,i=this,r=-1,a={};if(i.grid&&!1!==(e=F(i).jqGrid("getInd",n,!0))){var o=F.isFunction(s.beforeCancelRow)?s.beforeCancelRow.call(i,s,n):void 0;if(void 0===o&&(o=!0),o){for(t=0;t<i.p.savedRow.length;t++)if(String(i.p.savedRow[t].id)===String(n)){r=t;break}if(0<=r){if(F.isFunction(F.fn.datepicker))try{F("input.hasDatepicker","#"+F.jgrid.jqID(e.id)).datepicker("hide")}catch(e){}F.each(i.p.colModel,function(){!0===this.editable&&i.p.savedRow[r].hasOwnProperty(this.name)&&(a[this.name]=i.p.savedRow[r][this.name])}),F(i).jqGrid("setRowData",n,a),F(e).attr("editable","0").unbind("keydown"),i.p.savedRow.splice(r,1),F("#"+F.jgrid.jqID(n),"#"+F.jgrid.jqID(i.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){F(i).jqGrid("delRowData",n),F(i).jqGrid("showAddEditButtons")},0)}F(i).triggerHandler("jqGridInlineAfterRestoreRow",[n]),F.isFunction(s.afterrestorefunc)&&s.afterrestorefunc.call(i,n)}}})},addRow:function(a){return a=F.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},a||{}),this.each(function(){if(this.grid){var i=this,e=F.isFunction(a.beforeAddRow)?a.beforeAddRow.call(i,a.addRowParams):void 0;if(void 0===e&&(e=!0),e)if(a.rowID=F.isFunction(a.rowID)?a.rowID.call(i,a):null!=a.rowID?a.rowID:F.jgrid.randId(),!0===a.useDefValues&&F(i.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var e=this.editoptions.defaultValue,t=F.isFunction(e)?e.call(i):e;a.initdata[this.name]=t}}),F(i).jqGrid("addRowData",a.rowID,a.initdata,a.position),a.rowID=i.p.idPrefix+a.rowID,F("#"+F.jgrid.jqID(a.rowID),"#"+F.jgrid.jqID(i.p.id)).addClass("jqgrid-new-row"),a.useFormatter)F("#"+F.jgrid.jqID(a.rowID)+" .ui-inline-edit","#"+F.jgrid.jqID(i.p.id)).click();else{var t=i.p.prmNames,r=t.oper;a.addRowParams.extraparam[r]=t.addoper,F(i).jqGrid("editRow",a.rowID,a.addRowParams),F(i).jqGrid("setSelection",a.rowID)}}})},inlineNav:function(n,s){return s=F.extend(!0,{edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},F.jgrid.nav,s||{}),this.each(function(){if(this.grid){var r,a=this,o=F.jgrid.jqID(a.p.id);if((a.p._inlinenav=!0)===s.addParams.useFormatter){var e,t=a.p.colModel;for(e=0;e<t.length;e++)if(t[e].formatter&&"actions"===t[e].formatter){if(t[e].formatoptions){var i=F.extend({keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},t[e].formatoptions);s.addParams.addRowParams={keys:i.keys,oneditfunc:i.onEdit,successfunc:i.onSuccess,url:i.url,extraparam:i.extraparam,aftersavefunc:i.afterSave,errorfunc:i.onError,afterrestorefunc:i.afterRestore}}break}}s.add&&F(a).jqGrid("navButtonAdd",n,{caption:s.addtext,title:s.addtitle,buttonicon:s.addicon,id:a.p.id+"_iladd",onClickButton:function(){F(a).jqGrid("addRow",s.addParams),s.addParams.useFormatter||(F("#"+o+"_ilsave").removeClass("ui-state-disabled"),F("#"+o+"_ilcancel").removeClass("ui-state-disabled"),F("#"+o+"_iladd").addClass("ui-state-disabled"),F("#"+o+"_iledit").addClass("ui-state-disabled"))}}),s.edit&&F(a).jqGrid("navButtonAdd",n,{caption:s.edittext,title:s.edittitle,buttonicon:s.editicon,id:a.p.id+"_iledit",onClickButton:function(){var e=F(a).jqGrid("getGridParam","selrow");e?(F(a).jqGrid("editRow",e,s.editParams),F("#"+o+"_ilsave").removeClass("ui-state-disabled"),F("#"+o+"_ilcancel").removeClass("ui-state-disabled"),F("#"+o+"_iladd").addClass("ui-state-disabled"),F("#"+o+"_iledit").addClass("ui-state-disabled")):(F.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+o,jqm:!0}),F("#jqg_alrt").focus())}}),s.save&&(F(a).jqGrid("navButtonAdd",n,{caption:s.savetext||"",title:s.savetitle||"Save row",buttonicon:s.saveicon,id:a.p.id+"_ilsave",onClickButton:function(){var e=a.p.savedRow[0].id;if(e){var t=a.p.prmNames,i=t.oper,r=s.editParams;F("#"+F.jgrid.jqID(e),"#"+o).hasClass("jqgrid-new-row")?(s.addParams.addRowParams.extraparam[i]=t.addoper,r=s.addParams.addRowParams):(s.editParams.extraparam||(s.editParams.extraparam={}),s.editParams.extraparam[i]=t.editoper),F(a).jqGrid("saveRow",e,r)&&F(a).jqGrid("showAddEditButtons")}else F.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+o,jqm:!0}),F("#jqg_alrt").focus()}}),F("#"+o+"_ilsave").addClass("ui-state-disabled")),s.cancel&&(F(a).jqGrid("navButtonAdd",n,{caption:s.canceltext||"",title:s.canceltitle||"Cancel row editing",buttonicon:s.cancelicon,id:a.p.id+"_ilcancel",onClickButton:function(){var e=a.p.savedRow[0].id,t=s.editParams;e?(F("#"+F.jgrid.jqID(e),"#"+o).hasClass("jqgrid-new-row")&&(t=s.addParams.addRowParams),F(a).jqGrid("restoreRow",e,t),F(a).jqGrid("showAddEditButtons")):(F.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+o,jqm:!0}),F("#jqg_alrt").focus())}}),F("#"+o+"_ilcancel").addClass("ui-state-disabled")),!0===s.restoreAfterSelect&&(r=!!F.isFunction(a.p.beforeSelectRow)&&a.p.beforeSelectRow,a.p.beforeSelectRow=function(e,t){var i=!0;return 0<a.p.savedRow.length&&!0===a.p._inlinenav&&e!==a.p.selrow&&null!==a.p.selrow&&(a.p.selrow===s.addParams.rowID?F(a).jqGrid("delRowData",a.p.selrow):F(a).jqGrid("restoreRow",a.p.selrow,s.editParams),F(a).jqGrid("showAddEditButtons")),r&&(i=r.call(a,e,t)),i})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var e=F.jgrid.jqID(this.p.id);F("#"+e+"_ilsave").addClass("ui-state-disabled"),F("#"+e+"_ilcancel").addClass("ui-state-disabled"),F("#"+e+"_iladd").removeClass("ui-state-disabled"),F("#"+e+"_iledit").removeClass("ui-state-disabled")}})}})}(jQuery),function($){"use strict";if($.jgrid.msie&&8===$.jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect){if($.ui.multiselect.prototype._setSelected){var setSelected=$.ui.multiselect.prototype._setSelected;$.ui.multiselect.prototype._setSelected=function(e,t){var i=setSelected.call(this,e,t);if(t&&this.selectedList){var r=this.element;this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(r)})}return i}}$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0}$.jgrid.extend({sortableColumns:function(n){return this.each(function(){var l=this,e=$.jgrid.jqID(l.p.id);function i(){l.p.disableClick=!0}var t={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+e+"_cb,#jqgh_"+e+"_rn,#jqgh_"+e+"_subgrid),:hidden)",placeholder:{element:function(e){return $(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){var i=$(t.item).parent(),r=$(">th",i),a=l.p.colModel,o={},n=l.p.id+"_";$.each(a,function(e){o[this.name]=e});var s=[];r.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(n,"");o.hasOwnProperty(e)&&s.push(o[e])}),$(l).jqGrid("remapColumns",s,!0,!0),$.isFunction(l.p.sortable.update)&&l.p.sortable.update(s),setTimeout(function(){l.p.disableClick=!1},50)}};if(l.p.sortable.options?$.extend(t,l.p.sortable.options):$.isFunction(l.p.sortable)&&(l.p.sortable={update:l.p.sortable}),t.start){var r=t.start;t.start=function(e,t){i(),r.call(this,e,t)}}else t.start=i;l.p.sortable.exclude&&(t.items+=":not("+l.p.sortable.exclude+")");var a=n.sortable(t),o=a.data("sortable")||a.data("uiSortable");null!=o&&(o.data("sortable").floating=!0)})},columnChooser:function(i){var r=this;if(!$("#colchooser_"+$.jgrid.jqID(r[0].p.id)).length){var t=$('<div id="colchooser_'+r[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),a=$("select",t);if(i=$.extend({width:420,height:240,classname:null,done:function(e){e&&r.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+20},e.dialog_opts||{})},apply_perm:function(){var e=r[0].p.groupHeader;r[0].p.groupHeader=null,$("option",a).each(function(){this.selected?r.jqGrid("showCol",o[this.value].name):r.jqGrid("hideCol",o[this.value].name)}),jQuery("tr.ui-jqgrid-labels",r[0].grid.hDiv).not("tr.ui-jqgrid-labels:last").remove(),e&&r.jqGrid("setGroupHeaders",e);var t=[];$("option:selected",a).each(function(){t.push(parseInt(this.value,10))}),$.each(t,function(){delete s[o[parseInt(this,10)].name]}),$.each(s,function(){var e=parseInt(this,10);t=function(e,t,i){if(0<=t){var r=e.slice(),a=r.splice(t,Math.max(e.length-t,t));return t>e.length&&(t=e.length),r[t]=i,r.concat(a)}}(t,e,e)}),i.done&&i.done.call(r,t)},cleanup:function(e){p(i.dlog,t,"destroy"),p(i.msel,a,"destroy"),t.remove(),e&&i.done&&i.done.call(r)},msel_opts:{}},$.jgrid.col,i||{}),$.ui&&$.ui.multiselect&&"multiselect"===i.msel){if(!$.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");i.msel_opts=$.extend($.ui.multiselect.defaults,i.msel_opts)}i.caption&&t.attr("title",i.caption),i.classname&&(t.addClass(i.classname),a.addClass(i.classname)),i.width&&($(">div",t).css({width:i.width,margin:"0 auto"}),a.css("width",i.width)),i.height&&($(">div",t).css("height",i.height),a.css("height",i.height-10));var o=r.jqGrid("getGridParam","colModel"),n=r.jqGrid("getGridParam","colNames"),s={},l=[];a.empty(),$.each(o,function(e){s[this.name]=e,this.hidedlg?this.hidden||l.push(e):a.append("<option value='"+e+"' "+(this.hidden?"":"selected='selected'")+">"+$.jgrid.stripHtml(n[e])+"</option>")});var e=$.isFunction(i.dlog_opts)?i.dlog_opts.call(r,i):i.dlog_opts;p(i.dlog,t,e);var d=$.isFunction(i.msel_opts)?i.msel_opts.call(r,i):i.msel_opts;p(i.msel,a,d)}function p(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}},sortableRows:function(a){return this.each(function(){var r=this;r.grid&&(r.p.treeGrid||$.fn.sortable&&((a=$.extend({cursor:"move",axis:"y",items:".jqgrow"},a||{})).start&&$.isFunction(a.start)?(a._start_=a.start,delete a.start):a._start_=!1,a.update&&$.isFunction(a.update)?(a._update_=a.update,delete a.update):a._update_=!1,a.start=function(e,t){if($(t.item).css("border-width","0"),$("td",t.item).each(function(e){this.style.width=r.grid.cols[e].style.width}),r.p.subGrid){var i=$(t.item).attr("id");try{$(r).jqGrid("collapseSubGridRow",i)}catch(e){}}a._start_&&a._start_.apply(this,[e,t])},a.update=function(e,t){$(t.item).css("border-width",""),!0===r.p.rownumbers&&$("td.jqgrid-rownum",r.rows).each(function(e){$(this).html(e+1+(parseInt(r.p.page,10)-1)*parseInt(r.p.rowNum,10))}),a._update_&&a._update_.apply(this,[e,t])},$("tbody:first",r).sortable(a),$("tbody:first",r).disableSelection()))})},gridDnD:function(r){return this.each(function(){var e,t,u=this;if(u.grid&&!u.p.treeGrid&&$.fn.draggable&&$.fn.droppable){if(void 0===$("#jqgrid_dnd")[0]&&$("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"!=typeof r||"updateDnD"!==r||!0!==u.p.jqgdnd){if((r=$.extend({drag:function(a){return $.extend({start:function(e,t){var i,r;if(u.p.subGrid){r=$(t.helper).attr("id");try{$(u).jqGrid("collapseSubGridRow",r)}catch(e){}}for(i=0;i<$.data(u,"dnd").connectWith.length;i++)0===$($.data(u,"dnd").connectWith[i]).jqGrid("getGridParam","reccount")&&$($.data(u,"dnd").connectWith[i]).jqGrid("addRowData","jqg_empty_row",{});t.helper.addClass("ui-state-highlight"),$("td",t.helper).each(function(e){this.style.width=u.grid.headers[e].width+"px"}),a.onstart&&$.isFunction(a.onstart)&&a.onstart.call($(u),e,t)},stop:function(e,t){var i,r;for(t.helper.dropped&&!a.dragcopy&&(void 0===(r=$(t.helper).attr("id"))&&(r=$(this).attr("id")),$(u).jqGrid("delRowData",r)),i=0;i<$.data(u,"dnd").connectWith.length;i++)$($.data(u,"dnd").connectWith[i]).jqGrid("delRowData","jqg_empty_row");a.onstop&&$.isFunction(a.onstop)&&a.onstop.call($(u),e,t)}},a.drag_opts||{})},drop:function(c){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(0<t.length&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+$.jgrid.jqID(this.id),i)}return!1},drop:function(e,t){if($(t.draggable).hasClass("jqgrow")){var i,r=$(t.draggable).attr("id"),a=t.draggable.parent().parent().jqGrid("getRowData",r);if(!c.dropbyname){var o,n,s=0,l={},d=$("#"+$.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(n in a)a.hasOwnProperty(n)&&("cb"!==(o=d[s].name)&&"rn"!==o&&"subgrid"!==o&&a.hasOwnProperty(n)&&d[s]&&(l[o]=a[n]),s++);a=l}catch(e){}}if(t.helper.dropped=!0,c.beforedrop&&$.isFunction(c.beforedrop)){var p=c.beforedrop.call(this,e,t,a,$("#"+$.jgrid.jqID(u.p.id)),$(this));null!=p&&"object"==typeof p&&(a=p)}if(t.helper.dropped)c.autoid&&(i=$.isFunction(c.autoid)?c.autoid.call(this,a):(i=Math.ceil(1e3*Math.random()),c.autoidprefix+i)),$("#"+$.jgrid.jqID(this.id)).jqGrid("addRowData",i,a,c.droppos);c.ondrop&&$.isFunction(c.ondrop)&&c.ondrop.call(this,e,t,a)}}},c.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},r||{})).connectWith)for(r.connectWith=r.connectWith.split(","),r.connectWith=$.map(r.connectWith,function(e){return $.trim(e)}),$.data(u,"dnd",r),0===u.p.reccount||u.p.jqgdnd||i(),u.p.jqgdnd=!0,e=0;e<r.connectWith.length;e++)t=r.connectWith[e],$(t).droppable($.isFunction(r.drop)?r.drop.call($(u),r):r.drop)}else i()}function i(){var e=$.data(u,"dnd");$("tr.jqgrow:not(.ui-draggable)",u).draggable($.isFunction(e.drag)?e.drag.call($(u),e):e.drag)}})},gridResize:function(opts){return this.each(function(){var $t=this,gID=$.jgrid.jqID($t.p.id);if($t.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(e,t){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",t.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,e,t)},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts)}})}})}(jQuery),function(N){"use strict";N.assocArraySize=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},N.jgrid.extend({pivotSetup:function(G,e){var F=[],S=[],R=[],M=[],E={grouping:!0,groupingView:{groupField:[],groupSummary:[],groupSummaryPos:[]}},O=[],T=N.extend({rowTotals:!1,rowTotalsText:"Total",colTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1},e||{});return this.each(function(){var e,o,t,i,p,c,r,a,n,s=G.length,l=0;function d(e,t,i){var r;return 0<(r=function(e,t){var i,r,a,o=[];if(!this||"function"!=typeof e||e instanceof RegExp)throw new TypeError;for(a=this.length,i=0;i<a;i++)if(this.hasOwnProperty(i)&&(r=this[i],e.call(t,r,i,this))){o.push(r);break}return o}.call(e,t,i)).length?r[0]:null}function u(e,t){var i,r=0,a=!0;for(i in e){if(e[i]!=this[r]){a=!1;break}if(++r>=this.length)break}return a&&(o=t),a}function h(e,t,i,r){var a;switch(e){case"sum":a=parseFloat(t||0)+parseFloat(r[i]||0);break;case"count":""!==t&&null!=t||(t=0),a=r.hasOwnProperty(i)?t+1:0;break;case"min":a=""===t||null==t?parseFloat(r[i]||0):Math.min(parseFloat(t),parseFloat(r[i]||0));break;case"max":a=""===t||null==t?parseFloat(r[i]||0):Math.max(parseFloat(t),parseFloat(r[i]||0))}return a}function f(e,t,i,r){var a,o,n,s,l=t.length;for(s=N.isArray(i)?i.length:1,n=(M=[]).root=0;n<s;n++){var d,p=[];for(a=0;a<l;a++){if(null==i)d=o=N.trim(t[a].member)+"_"+t[a].aggregator;else{d=i[n].replace(/\s+/g,"");try{o=1===l?d:d+"_"+t[a].aggregator+"_"+a}catch(e){}}r[o]=p[o]=h(t[a].aggregator,r[o],t[a].member,e)}M[d]=p}return r}if(T.rowTotals&&0<T.yDimension.length){var g=T.yDimension[0].dataName;T.yDimension.splice(0,0,{dataName:g}),T.yDimension[0].converter=function(){return"_r_Totals"}}if(i=N.isArray(T.xDimension)?T.xDimension.length:0,p=T.yDimension.length,c=N.isArray(T.aggregates)?T.aggregates.length:0,0===i||0===c)throw"xDimension or aggregates optiona are not set!";for(t=0;t<i;t++)n={name:T.xDimension[t].dataName,frozen:T.frozenStaticCols},n=N.extend(!0,n,T.xDimension[t]),F.push(n);for(var m=i-1,v={};l<s;){e=G[l];var b=[],w=[];for(r={},t=0;b[t]=N.trim(e[T.xDimension[t].dataName]),r[T.xDimension[t].dataName]=b[t],++t<i;);var j=0;if(o=-1,a=d(S,u,b)){if(0<=o){if(j=0,1<=p){for(j=0;j<p;j++)w[j]=N.trim(e[T.yDimension[j].dataName]),T.yDimension[j].converter&&N.isFunction(T.yDimension[j].converter)&&(w[j]=T.yDimension[j].converter.call(this,w[j],b,w));a=f(e,T.aggregates,w,a)}else 0===p&&(a=f(e,T.aggregates,null,a));S[o]=a}}else{if(j=0,1<=p){for(j=0;j<p;j++)w[j]=N.trim(e[T.yDimension[j].dataName]),T.yDimension[j].converter&&N.isFunction(T.yDimension[j].converter)&&(w[j]=T.yDimension[j].converter.call(this,w[j],b,w));r=f(e,T.aggregates,w,r)}else 0===p&&(r=f(e,T.aggregates,null,r));S.push(r)}var y,x=0,q=null,D=null;for(y in M){if(0===x)v.children&&void 0!==v.children||(v={text:y,level:0,children:[]}),q=v.children;else{for(D=null,t=0;t<q.length;t++)if(q[t].text===y){D=q[t];break}q=D?D.children:(q.push({children:[],text:y,level:x,fields:M[y]}),q[q.length-1].children)}x++}l++}var C,_=[],$=F.length,k=$;if(0<p&&(O[p-1]={useColSpanStyle:!1,groupHeaders:[]}),function e(t){var i,r,a,o,n;for(a in t)if(t.hasOwnProperty(a)){if("object"!=typeof t[a]){if("level"===a){if(void 0===_[t.level]&&(_[t.level]="",0<t.level&&"_r_Totals"!==t.text&&(O[t.level-1]={useColSpanStyle:!1,groupHeaders:[]})),_[t.level]!==t.text&&t.children.length&&"_r_Totals"!==t.text&&0<t.level){O[t.level-1].groupHeaders.push({titleText:t.text});var s=O[t.level-1].groupHeaders.length,l=1===s?k:$+(s-1)*c;O[t.level-1].groupHeaders[s-1].startColumnName=F[l].name,O[t.level-1].groupHeaders[s-1].numberOfColumns=F.length-l,$=F.length}_[t.level]=t.text}if(t.level===p&&"level"===a&&0<p)if(1<c){var d=1;for(i in t.fields)1===d&&O[p-1].groupHeaders.push({startColumnName:i,numberOfColumns:1,titleText:t.text}),d++;O[p-1].groupHeaders[O[p-1].groupHeaders.length-1].numberOfColumns=d-1}else O.splice(p-1,1)}if(null!=t[a]&&"object"==typeof t[a]&&e(t[a]),"level"===a&&0<t.level)for(i in r=0,t.fields){for(o in n={},T.aggregates[r])if(T.aggregates[r].hasOwnProperty(o))switch(o){case"member":case"label":case"aggregator":break;default:n[o]=T.aggregates[r][o]}n.label=1<c?(n.name=i,T.aggregates[r].label||i):(n.name=t.text,"_r_Totals"===t.text?T.rowTotalsText:t.text),F.push(n),r++}}}(v),T.colTotals)for(var I=S.length;I--;)for(t=i;t<F.length;t++)C=F[t].name,R[C]?R[C]+=parseFloat(S[I][C]||0):R[C]=parseFloat(S[I][C]||0);if(0<m)for(t=0;t<m;t++)E.groupingView.groupField[t]=F[t].name,E.groupingView.groupSummary[t]=T.groupSummary,E.groupingView.groupSummaryPos[t]=T.groupSummaryPos;else E.grouping=!1;E.sortname=F[m].name,E.groupingView.hideFirstGroupCol=!0}),{colModel:F,rows:S,groupOptions:E,groupHeaders:O,summary:R}},jqPivot:function(e,s,l,i){return this.each(function(){var n=this;function t(e){var t,i=jQuery(n).jqGrid("pivotSetup",e,s),r=0<N.assocArraySize(i.summary),a=N.jgrid.from(i.rows);for(t=0;t<i.groupOptions.groupingView.groupField.length;t++)a.orderBy(i.groupOptions.groupingView.groupField[t],"a","text","");jQuery(n).jqGrid(N.extend({datastr:N.extend(a.select(),r?{userdata:i.summary}:{}),datatype:"jsonstring",footerrow:r,userDataOnFooter:r,colModel:i.colModel,viewrecords:!0,sortname:s.xDimension[0].dataName},l||{},i.groupOptions));var o=i.groupHeaders;if(o.length)for(t=0;t<o.length;t++)o[t]&&o[t].groupHeaders.length&&jQuery(n).jqGrid("setGroupHeaders",o[t]);s.frozenStaticCols&&jQuery(n).jqGrid("setFrozenColumns")}"string"==typeof e?N.ajax(N.extend({url:e,dataType:"json",success:function(e){t(N.jgrid.getAccessor(e,i&&i.reader?i.reader:"rows"))}},i||{})):t(e)})}})}(jQuery),function(g){"use strict";g.jgrid.extend({setSubGrid:function(){return this.each(function(){var e,t,i=this;if(i.p.subGridOptions=g.extend({plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0},i.p.subGridOptions||{}),i.p.colNames.unshift(""),i.p.colModel.unshift({name:"subgrid",width:g.jgrid.cell_width?i.p.subGridWidth+i.p.cellLayout:i.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),(e=i.p.subGridModel)[0])for(e[0].align=g.extend([],e[0].align||[]),t=0;t<e[0].name.length;t++)e[0].align[t]=e[0].align[t]||"left"})},addSubGridCell:function(e,t){var i,r,a="";return this.each(function(){a=this.formatCol(e,t),r=this.p.id,i=this.p.subGridOptions.plusicon}),'<td role="gridcell" aria-describedby="'+r+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+a+"><a style='cursor:pointer;'><span class='ui-icon "+i+"'></span></a></td>"},addSubGrid:function(c,f){return this.each(function(){var u=this;if(u.grid){var t,i,r,a,o,h=function(e,t,i){var r=g("<td align='"+u.p.subGridModel[0].align[i]+"'></td>").html(t);g(e).append(r)},n=function(e,t){var i,r,a,o=g("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),n=g("<tr></tr>");for(r=0;r<u.p.subGridModel[0].name.length;r++)i=g("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+u.p.direction+"'></th>"),g(i).html(u.p.subGridModel[0].name[r]),g(i).width(u.p.subGridModel[0].width[r]),g(n).append(i);g(o).append(n),e&&(a=u.p.xmlReader.subgrid,g(a.root+" "+a.row,e).each(function(){if(n=g("<tr class='ui-widget-content ui-subtblcell'></tr>"),!0===a.repeatitems)g(a.cell,this).each(function(e){h(n,g(this).text()||"&#160;",e)});else{var e=u.p.subGridModel[0].mapping||u.p.subGridModel[0].name;if(e)for(r=0;r<e.length;r++)h(n,g(e[r],this).text()||"&#160;",r)}g(o).append(n)}));var s=g("table:first",u.grid.bDiv).attr("id")+"_";return g("#"+g.jgrid.jqID(s+t)).append(o),u.grid.hDiv.loading=!1,g("#load_"+g.jgrid.jqID(u.p.id)).hide(),!1},s=function(e,t){var i,r,a,o,n,s,l=g("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),d=g("<tr></tr>");for(a=0;a<u.p.subGridModel[0].name.length;a++)i=g("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+u.p.direction+"'></th>"),g(i).html(u.p.subGridModel[0].name[a]),g(i).width(u.p.subGridModel[0].width[a]),g(d).append(i);if(g(l).append(d),e&&(n=u.p.jsonReader.subgrid,void 0!==(r=g.jgrid.getAccessor(e,n.root))))for(a=0;a<r.length;a++){if(o=r[a],d=g("<tr class='ui-widget-content ui-subtblcell'></tr>"),!0===n.repeatitems)for(n.cell&&(o=o[n.cell]),s=0;s<o.length;s++)h(d,o[s]||"&#160;",s);else{var p=u.p.subGridModel[0].mapping||u.p.subGridModel[0].name;if(p.length)for(s=0;s<p.length;s++)h(d,o[p[s]]||"&#160;",s)}g(l).append(d)}var c=g("table:first",u.grid.bDiv).attr("id")+"_";return g("#"+g.jgrid.jqID(c+t)).append(l),u.grid.hDiv.loading=!1,g("#load_"+g.jgrid.jqID(u.p.id)).hide(),!1},l=function(e){var t,i,r,a;if(t=g(e).attr("id"),(i={nd_:(new Date).getTime()})[u.p.prmNames.subgridid]=t,!u.p.subGridModel[0])return!1;if(u.p.subGridModel[0].params)for(a=0;a<u.p.subGridModel[0].params.length;a++)for(r=0;r<u.p.colModel.length;r++)u.p.colModel[r].name===u.p.subGridModel[0].params[a]&&(i[u.p.colModel[r].name]=g("td:eq("+r+")",e).text().replace(/\&#160\;/gi,""));if(!u.grid.hDiv.loading)switch(u.grid.hDiv.loading=!0,g("#load_"+g.jgrid.jqID(u.p.id)).show(),u.p.subgridtype||(u.p.subgridtype=u.p.datatype),g.isFunction(u.p.subgridtype)?u.p.subgridtype.call(u,i):u.p.subgridtype=u.p.subgridtype.toLowerCase(),u.p.subgridtype){case"xml":case"json":g.ajax(g.extend({type:u.p.mtype,url:g.isFunction(u.p.subGridUrl)?u.p.subGridUrl.call(u,i):u.p.subGridUrl,dataType:u.p.subgridtype,data:g.isFunction(u.p.serializeSubGridData)?u.p.serializeSubGridData.call(u,i):i,complete:function(e){"xml"===u.p.subgridtype?n(e.responseXML,t):s(g.jgrid.parse(e.responseText),t),e=null}},g.jgrid.ajaxOptions,u.p.ajaxSubgridOptions||{}))}return!1},d=0;g.each(u.p.colModel,function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||d++});var e=u.rows.length,p=1;for(void 0!==f&&0<f&&(e=(p=f)+1);p<e;)g(u.rows[p]).hasClass("jqgrow")&&(u.p.scroll&&g(u.rows[p].cells[c]).unbind("click"),g(u.rows[p].cells[c]).bind("click",function(){var e=g(this).parent("tr")[0];if(o=e.nextSibling,g(this).hasClass("sgcollapsed")){if(i=u.p.id,t=e.id,!0===u.p.subGridOptions.reloadOnExpand||!1===u.p.subGridOptions.reloadOnExpand&&!g(o).hasClass("ui-subgrid")){if(r=1<=c?"<td colspan='"+c+"'>&#160;</td>":"",(a=!1!==(a=g(u).triggerHandler("jqGridSubGridBeforeExpand",[i+"_"+t,t]))&&"stop"!==a)&&g.isFunction(u.p.subGridBeforeExpand)&&(a=u.p.subGridBeforeExpand.call(u,i+"_"+t,t)),!1===a)return!1;g(e).after("<tr role='row' class='ui-subgrid'>"+r+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+u.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(u.p.colNames.length-1-d,10)+"' class='ui-widget-content subgrid-data'><div id="+i+"_"+t+" class='tablediv'></div></td></tr>"),g(u).triggerHandler("jqGridSubGridRowExpanded",[i+"_"+t,t]),g.isFunction(u.p.subGridRowExpanded)?u.p.subGridRowExpanded.call(u,i+"_"+t,t):l(e)}else g(o).show();g(this).html("<a style='cursor:pointer;'><span class='ui-icon "+u.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),u.p.subGridOptions.selectOnExpand&&g(u).jqGrid("setSelection",t)}else if(g(this).hasClass("sgexpanded")){if(a=!1!==(a=g(u).triggerHandler("jqGridSubGridRowColapsed",[i+"_"+t,t]))&&"stop"!==a,t=e.id,a&&g.isFunction(u.p.subGridRowColapsed)&&(a=u.p.subGridRowColapsed.call(u,i+"_"+t,t)),!1===a)return!1;!0===u.p.subGridOptions.reloadOnExpand?g(o).remove(".ui-subgrid"):g(o).hasClass("ui-subgrid")&&g(o).hide(),g(this).html("<a style='cursor:pointer;'><span class='ui-icon "+u.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed"),u.p.subGridOptions.selectOnCollapse&&g(u).jqGrid("setSelection",t)}return!1})),p++;!0===u.p.subGridOptions.expandOnLoad&&g(u.rows).filter(".jqgrow").each(function(e,t){g(t.cells[0]).click()}),u.subGridXml=function(e,t){n(e,t)},u.subGridJson=function(e,t){s(e,t)}}})},expandSubGridRow:function(i){return this.each(function(){if((this.grid||i)&&!0===this.p.subGrid){var e=g(this).jqGrid("getInd",i,!0);if(e){var t=g("td.sgcollapsed",e)[0];t&&g(t).trigger("click")}}})},collapseSubGridRow:function(i){return this.each(function(){if((this.grid||i)&&!0===this.p.subGrid){var e=g(this).jqGrid("getInd",i,!0);if(e){var t=g("td.sgexpanded",e)[0];t&&g(t).trigger("click")}}})},toggleSubGridRow:function(i){return this.each(function(){if((this.grid||i)&&!0===this.p.subGrid){var e=g(this).jqGrid("getInd",i,!0);if(e){var t=g("td.sgcollapsed",e)[0];t?g(t).trigger("click"):(t=g("td.sgexpanded",e)[0])&&g(t).trigger("click")}}})}})}(jQuery),function(_){"use strict";_.jgrid.extend({setTreeNode:function(b,w){return this.each(function(){var a=this;if(a.grid&&a.p.treeGrid)for(var e,t,i,r,o,n,s,l,d=a.p.expColInd,p=a.p.treeReader.expanded_field,c=a.p.treeReader.leaf_field,u=a.p.treeReader.level_field,h=a.p.treeReader.icon_field,f=a.p.treeReader.loaded;b<w;){var g=_.jgrid.stripPref(a.p.idPrefix,a.rows[b].id),m=a.p._index[g];if(s=a.p.data[m],"nested"===a.p.treeGridModel&&(s[c]||(e=parseInt(s[a.p.treeReader.left_field],10),t=parseInt(s[a.p.treeReader.right_field],10),s[c]=t===e+1?"true":"false",a.rows[b].cells[a.p._treeleafpos].innerHTML=s[c])),i=parseInt(s[u],10),o=0===a.p.tree_root_level?(r=i+1,i):(r=i)-1,n="<div class='tree-wrap tree-wrap-"+a.p.direction+"' style='width:"+18*r+"px;'>",n+="<div style='"+("rtl"===a.p.direction?"right:":"left:")+18*o+"px;' class='ui-icon ",void 0!==s[f]&&("true"===s[f]||!0===s[f]?s[f]=!0:s[f]=!1),l="true"===s[c]||!0===s[c]?(n+=(void 0!==s[h]&&""!==s[h]?s[h]:a.p.treeIcons.leaf)+" tree-leaf treeclick",s[c]=!0,"leaf"):(s[c]=!1,""),s[p]=("true"===s[p]||!0===s[p])&&(s[f]||void 0===s[f]),!1===s[p]?n+=!0===s[c]?"'":a.p.treeIcons.plus+" tree-plus treeclick'":n+=!0===s[c]?"'":a.p.treeIcons.minus+" tree-minus treeclick'",n+="></div></div>",_(a.rows[b].cells[d]).wrapInner("<span class='cell-wrapper"+l+"'></span>").prepend(n),i!==parseInt(a.p.tree_root_level,10)){var v=_(a).jqGrid("getNodeParent",s);!v||!v.hasOwnProperty(p)||v[p]||_(a.rows[b]).css("display","none")}_(a.rows[b].cells[d]).find("div.treeclick").bind("click",function(e){var t=e.target||e.srcElement,i=_.jgrid.stripPref(a.p.idPrefix,_(t,a.rows).closest("tr.jqgrow")[0].id),r=a.p._index[i];return a.p.data[r][c]||(a.p.data[r][p]?(_(a).jqGrid("collapseRow",a.p.data[r]),_(a).jqGrid("collapseNode",a.p.data[r])):(_(a).jqGrid("expandRow",a.p.data[r]),_(a).jqGrid("expandNode",a.p.data[r]))),!1}),!0===a.p.ExpandColClick&&_(a.rows[b].cells[d]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(e){var t=e.target||e.srcElement,i=_.jgrid.stripPref(a.p.idPrefix,_(t,a.rows).closest("tr.jqgrow")[0].id),r=a.p._index[i];return a.p.data[r][c]||(a.p.data[r][p]?(_(a).jqGrid("collapseRow",a.p.data[r]),_(a).jqGrid("collapseNode",a.p.data[r])):(_(a).jqGrid("expandRow",a.p.data[r]),_(a).jqGrid("expandNode",a.p.data[r]))),_(a).jqGrid("setSelection",i),!1}),b++}})},setTreeGrid:function(){return this.each(function(){var e,t,i,r,a=this,o=0,n=!1,s=[];if(a.p.treeGrid){for(i in a.p.treedatatype||_.extend(a.p,{treedatatype:a.p.datatype}),a.p.subGrid=!1,a.p.altRows=!1,a.p.pgbuttons=!1,a.p.pginput=!1,a.p.gridview=!0,null===a.p.rowTotal&&(a.p.rowNum=1e4),a.p.multiselect=!1,a.p.rowList=[],a.p.expColInd=0,e="ui-icon-triangle-1-"+("rtl"===a.p.direction?"w":"e"),a.p.treeIcons=_.extend({plus:e,minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},a.p.treeIcons||{}),"nested"===a.p.treeGridModel?a.p.treeReader=_.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.p.treeReader):"adjacency"===a.p.treeGridModel&&(a.p.treeReader=_.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.p.treeReader)),a.p.colModel)if(a.p.colModel.hasOwnProperty(i))for(r in(t=a.p.colModel[i].name)!==a.p.ExpandColumn||n||(n=!0,a.p.expColInd=o),o++,a.p.treeReader)a.p.treeReader.hasOwnProperty(r)&&a.p.treeReader[r]===t&&s.push(t);_.each(a.p.treeReader,function(e,t){t&&-1===_.inArray(t,s)&&("leaf_field"===e&&(a.p._treeleafpos=o),o++,a.p.colNames.push(t),a.p.colModel.push({name:t,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(r){this.each(function(){var t=this;if(t.grid&&t.p.treeGrid){var e=_(t).jqGrid("getNodeChildren",r),i=t.p.treeReader.expanded_field;_(e).each(function(){var e=t.p.idPrefix+_.jgrid.getAccessor(this,t.p.localReader.id);_(_(t).jqGrid("getGridRowById",e)).css("display",""),this[i]&&_(t).jqGrid("expandRow",this)})}})},collapseRow:function(r){this.each(function(){var t=this;if(t.grid&&t.p.treeGrid){var e=_(t).jqGrid("getNodeChildren",r),i=t.p.treeReader.expanded_field;_(e).each(function(){var e=t.p.idPrefix+_.jgrid.getAccessor(this,t.p.localReader.id);_(_(t).jqGrid("getGridRowById",e)).css("display","none"),this[i]&&_(t).jqGrid("collapseRow",this)})}})},getRootNodes:function(){var r=[];return this.each(function(){var e=this;if(e.grid&&e.p.treeGrid)switch(e.p.treeGridModel){case"nested":var t=e.p.treeReader.level_field;_(e.p.data).each(function(){parseInt(this[t],10)===parseInt(e.p.tree_root_level,10)&&r.push(this)});break;case"adjacency":var i=e.p.treeReader.parent_id_field;_(e.p.data).each(function(){null!==this[i]&&"null"!==String(this[i]).toLowerCase()||r.push(this)})}}),r},getNodeDepth:function(t){var i=null;return this.each(function(){if(this.grid&&this.p.treeGrid){switch(this.p.treeGridModel){case"nested":var e=this.p.treeReader.level_field;i=parseInt(t[e],10)-parseInt(this.p.tree_root_level,10);break;case"adjacency":i=_(this).jqGrid("getNodeAncestors",t).length}}}),i},getNodeParent:function(c){var u=null;return this.each(function(){var e=this;if(e.grid&&e.p.treeGrid)switch(e.p.treeGridModel){case"nested":var t=e.p.treeReader.left_field,i=e.p.treeReader.right_field,r=e.p.treeReader.level_field,a=parseInt(c[t],10),o=parseInt(c[i],10),n=parseInt(c[r],10);_(this.p.data).each(function(){if(parseInt(this[r],10)===n-1&&parseInt(this[t],10)<a&&parseInt(this[i],10)>o)return u=this,!1});break;case"adjacency":for(var s=e.p.treeReader.parent_id_field,l=e.p.localReader.id,d=c[l],p=e.p._index[d];p--;)if(e.p.data[p][l]===_.jgrid.stripPref(e.p.idPrefix,c[s])){u=e.p.data[p];break}}}),u},getNodeChildren:function(d){var p=[];return this.each(function(){var e=this;if(e.grid&&e.p.treeGrid)switch(e.p.treeGridModel){case"nested":var t=e.p.treeReader.left_field,i=e.p.treeReader.right_field,r=e.p.treeReader.level_field,a=parseInt(d[t],10),o=parseInt(d[i],10),n=parseInt(d[r],10);_(this.p.data).each(function(){parseInt(this[r],10)===n+1&&parseInt(this[t],10)>a&&parseInt(this[i],10)<o&&p.push(this)});break;case"adjacency":var s=e.p.treeReader.parent_id_field,l=e.p.localReader.id;_(this.p.data).each(function(){this[s]==_.jgrid.stripPref(e.p.idPrefix,d[l])&&p.push(this)})}}),p},getFullTreeNode:function(p){var c=[];return this.each(function(){var t,i=this;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":var e=i.p.treeReader.left_field,r=i.p.treeReader.right_field,a=i.p.treeReader.level_field,o=parseInt(p[e],10),n=parseInt(p[r],10),s=parseInt(p[a],10);_(this.p.data).each(function(){parseInt(this[a],10)>=s&&parseInt(this[e],10)>=o&&parseInt(this[e],10)<=n&&c.push(this)});break;case"adjacency":if(p){c.push(p);var l=i.p.treeReader.parent_id_field,d=i.p.localReader.id;_(this.p.data).each(function(e){for(t=c.length,e=0;e<t;e++)if(_.jgrid.stripPref(i.p.idPrefix,c[e][d])===this[l]){c.push(this);break}})}}}),c},getNodeAncestors:function(t){var i=[];return this.each(function(){if(this.grid&&this.p.treeGrid)for(var e=_(this).jqGrid("getNodeParent",t);e;)i.push(e),e=_(this).jqGrid("getNodeParent",e)}),i},isVisibleNode:function(i){var r=!0;return this.each(function(){if(this.grid&&this.p.treeGrid){var e=_(this).jqGrid("getNodeAncestors",i),t=this.p.treeReader.expanded_field;_(e).each(function(){if(!(r=r&&this[t]))return!1})}}),r},isNodeLoaded:function(r){var a;return this.each(function(){var e=this;if(e.grid&&e.p.treeGrid){var t=e.p.treeReader.leaf_field,i=e.p.treeReader.loaded;a=void 0!==r&&(void 0!==r[i]?r[i]:!!(r[t]||0<_(e).jqGrid("getNodeChildren",r).length))}}),a},expandNode:function(d){return this.each(function(){if(this.grid&&this.p.treeGrid){var e=this.p.treeReader.expanded_field,t=this.p.treeReader.parent_id_field,i=this.p.treeReader.loaded,r=this.p.treeReader.level_field,a=this.p.treeReader.left_field,o=this.p.treeReader.right_field;if(!d[e]){var n=_.jgrid.getAccessor(d,this.p.localReader.id),s=_("#"+this.p.idPrefix+_.jgrid.jqID(n),this.grid.bDiv)[0],l=this.p._index[n];_(this).jqGrid("isNodeLoaded",this.p.data[l])?(d[e]=!0,_("div.treeclick",s).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(d[e]=!0,_("div.treeclick",s).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=s.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?_(this).jqGrid("setGridParam",{postData:{nodeid:n,n_left:d[a],n_right:d[o],n_level:d[r]}}):_(this).jqGrid("setGridParam",{postData:{nodeid:n,parentid:d[t],n_level:d[r]}}),_(this).trigger("reloadGrid"),d[i]=!0,"nested"===this.p.treeGridModel?_(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):_(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}}))}}})},collapseNode:function(r){return this.each(function(){if(this.grid&&this.p.treeGrid){var e=this.p.treeReader.expanded_field;if(r[e]){r[e]=!1;var t=_.jgrid.getAccessor(r,this.p.localReader.id),i=_("#"+this.p.idPrefix+_.jgrid.jqID(t),this.grid.bDiv)[0];_("div.treeclick",i).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus")}}})},SortTree:function(l,d,p,c){return this.each(function(){if(this.grid&&this.p.treeGrid){var e,t,i,r,a,o=[],n=this,s=_(this).jqGrid("getRootNodes");for((r=_.jgrid.from(s)).orderBy(l,d,p,c),e=0,t=(a=r.select()).length;e<t;e++)i=a[e],o.push(i),_(this).jqGrid("collectChildrenSortTree",o,i,l,d,p,c);_.each(o,function(e){var t=_.jgrid.getAccessor(this,n.p.localReader.id);_("#"+_.jgrid.jqID(n.p.id)+" tbody tr:eq("+e+")").after(_("tr#"+_.jgrid.jqID(t),n.grid.bDiv))}),o=a=r=null}})},collectChildrenSortTree:function(n,s,l,d,p,c){return this.each(function(){var e,t,i,r,a,o;if(this.grid&&this.p.treeGrid)for(r=_(this).jqGrid("getNodeChildren",s),(a=_.jgrid.from(r)).orderBy(l,d,p,c),e=0,t=(o=a.select()).length;e<t;e++)i=o[e],n.push(i),_(this).jqGrid("collectChildrenSortTree",n,i,l,d,p,c)})},setTreeRow:function(e,t){var i=!1;return this.each(function(){this.grid&&this.p.treeGrid&&(i=_(this).jqGrid("setRowData",e,t))}),i},delTreeNode:function(c){return this.each(function(){var e,t,i,r,a,o=this,n=o.p.localReader.id,s=o.p.treeReader.left_field,l=o.p.treeReader.right_field;if(o.grid&&o.p.treeGrid){var d=o.p._index[c];if(void 0!==d){i=(t=parseInt(o.p.data[d][l],10))-parseInt(o.p.data[d][s],10)+1;var p=_(o).jqGrid("getFullTreeNode",o.p.data[d]);if(0<p.length)for(e=0;e<p.length;e++)_(o).jqGrid("delRowData",p[e][n]);if("nested"===o.p.treeGridModel){if((r=_.jgrid.from(o.p.data).greater(s,t,{stype:"integer"}).select()).length)for(a in r)r.hasOwnProperty(a)&&(r[a][s]=parseInt(r[a][s],10)-i);if((r=_.jgrid.from(o.p.data).greater(l,t,{stype:"integer"}).select()).length)for(a in r)r.hasOwnProperty(a)&&(r[a][l]=parseInt(r[a][l],10)-i)}}}})},addChildNode:function(e,t,i,r){var a=this[0];if(i){var o,n,s,l,d,p,c,u,h=a.p.treeReader.expanded_field,f=a.p.treeReader.leaf_field,g=a.p.treeReader.level_field,m=a.p.treeReader.parent_id_field,v=a.p.treeReader.left_field,b=a.p.treeReader.right_field,w=a.p.treeReader.loaded,j=0,y=t;if(void 0===r&&(r=!1),null==e){if(0<=(d=a.p.data.length-1))for(;0<=d;)j=Math.max(j,parseInt(a.p.data[d][a.p.localReader.id],10)),d--;e=j+1}var x,q,D=_(a).jqGrid("getInd",t);if(c=!1,null==t||""===t)y=t=null,o="last",l=a.p.tree_root_level,d=a.p.data.length+1;else{o="after",n=a.p._index[t],t=(s=a.p.data[n])[a.p.localReader.id],l=parseInt(s[g],10)+1;var C=_(a).jqGrid("getFullTreeNode",s);d=C.length?(y=d=C[C.length-1][a.p.localReader.id],_(a).jqGrid("getInd",y)+1):_(a).jqGrid("getInd",t)+1,s[f]&&(c=!0,s[h]=!0,_(a.rows[D]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(a.p.treeIcons.leaf+" tree-leaf").addClass(a.p.treeIcons.minus+" tree-minus"),a.p.data[n][f]=!1,s[w]=!0)}if(p=d+1,void 0===i[h]&&(i[h]=!1),void 0===i[w]&&(i[w]=!1),i[g]=l,void 0===i[f]&&(i[f]=!0),"adjacency"===a.p.treeGridModel&&(i[m]=t),"nested"===a.p.treeGridModel)if(null!==t){if(u=parseInt(s[b],10),(x=_.jgrid.from(a.p.data).greaterOrEquals(b,u,{stype:"integer"}).select()).length)for(q in x)x.hasOwnProperty(q)&&(x[q][v]=x[q][v]>u?parseInt(x[q][v],10)+2:x[q][v],x[q][b]=x[q][b]>=u?parseInt(x[q][b],10)+2:x[q][b]);i[v]=u,i[b]=u+1}else{if(u=parseInt(_(a).jqGrid("getCol",b,!1,"max"),10),(x=_.jgrid.from(a.p.data).greater(v,u,{stype:"integer"}).select()).length)for(q in x)x.hasOwnProperty(q)&&(x[q][v]=parseInt(x[q][v],10)+2);if((x=_.jgrid.from(a.p.data).greater(b,u,{stype:"integer"}).select()).length)for(q in x)x.hasOwnProperty(q)&&(x[q][b]=parseInt(x[q][b],10)+2);i[v]=u+1,i[b]=u+2}(null===t||_(a).jqGrid("isNodeLoaded",s)||c)&&(_(a).jqGrid("addRowData",e,i,o,y),_(a).jqGrid("setTreeNode",d,p)),s&&!s[h]&&r&&_(a.rows[D]).find("div.treeclick").click()}}})}(jQuery),function(a){a.fn.jqDrag=function(e){return i(this,e,"d")},a.fn.jqResize=function(e,t){return i(this,e,"r",t)},a.jqDnR={dnr:{},e:0,drag:function(e){return"d"==s.k?l.css({left:s.X+e.pageX-s.pX,top:s.Y+e.pageY-s.pY}):(l.css({width:Math.max(e.pageX-s.pX+s.W,0),height:Math.max(e.pageY-s.pY+s.H,0)}),n&&o.css({width:Math.max(e.pageX-n.pX+n.W,0),height:Math.max(e.pageY-n.pY+n.H,0)})),!1},stop:function(){a(document).unbind("mousemove",e.drag).unbind("mouseup",e.stop)}};var o,n,e=a.jqDnR,s=e.dnr,l=e.e,i=function(e,t,i,r){return e.each(function(){(t=t?a(t,e):e).bind("mousedown",{e:e,k:i},function(e){var t=e.data,i={};if(l=t.e,o=!!r&&a(r),"relative"!=l.css("position"))try{l.position(i)}catch(e){}if(s={X:i.left||d("left")||0,Y:i.top||d("top")||0,W:d("width")||l[0].scrollWidth||0,H:d("height")||l[0].scrollHeight||0,pX:e.pageX,pY:e.pageY,k:t.k},n=!(!o||"d"==t.k)&&{X:i.left||p("left")||0,Y:i.top||p("top")||0,W:o[0].offsetWidth||p("width")||0,H:o[0].offsetHeight||p("height")||0,pX:e.pageX,pY:e.pageY,k:t.k},a("input.hasDatepicker",l[0])[0])try{a("input.hasDatepicker",l[0]).datepicker("hide")}catch(e){}return a(document).mousemove(a.jqDnR.drag).mouseup(a.jqDnR.stop),!1})})},d=function(e){return parseInt(l.css(e),10)||!1},p=function(e){return parseInt(o.css(e),10)||!1}}(jQuery),function(d){d.fn.jqm=function(e){var t={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:u,ajaxText:"",target:u,modal:u,toTop:u,onShow:u,onHide:u,onLoad:u};return this.each(function(){if(this._jqm)return p[this._jqm].c=d.extend({},p[this._jqm].c,e);i++,this._jqm=i,p[i]={c:d.extend(t,d.jqm.params,e),a:u,w:d(this).addClass("jqmID"+i),s:i},t.trigger&&d(this).jqmAddTrigger(t.trigger)})},d.fn.jqmAddClose=function(e){return a(this,e,"jqmHide")},d.fn.jqmAddTrigger=function(e){return a(this,e,"jqmShow")},d.fn.jqmShow=function(e){return this.each(function(){d.jqm.open(this._jqm,e)})},d.fn.jqmHide=function(e){return this.each(function(){d.jqm.close(this._jqm,e)})},d.jqm={hash:{},open:function(e,t){var i=p[e],r=i.c,a="."+r.closeClass,o=parseInt(i.w.css("z-index"));o=0<o?o:3e3;var n=d("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":o-1,opacity:r.overlay/100});if(i.a)return u;if(i.t=t,i.a=!0,i.w.css("z-index",o),r.modal?(c[0]||setTimeout(function(){f("bind")},1),c.push(e)):0<r.overlay?r.closeoverlay&&i.w.jqmAddClose(n):n=u,i.o=n?n.addClass(r.overlayClass).prependTo("body"):u,r.ajax){var s=r.target||i.w,l=r.ajax;s="string"==typeof s?d(s,i.w):d(s),l="@"==l.substr(0,1)?d(t).attr(l.substring(1)):l,s.html(r.ajaxText).load(l,function(){r.onLoad&&r.onLoad.call(this,i),a&&i.w.jqmAddClose(d(a,i.w)),h(i)})}else a&&i.w.jqmAddClose(d(a,i.w));return r.toTop&&i.o&&i.w.before('<span id="jqmP'+i.w[0]._jqm+'"></span>').insertAfter(i.o),r.onShow?r.onShow(i):i.w.show(),h(i),u},close:function(e){var t=p[e];return t.a&&(t.a=u,c[0]&&(c.pop(),c[0]||f("unbind")),t.c.toTop&&t.o&&d("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove())),u},params:{}};var i=0,p=d.jqm.hash,c=[],u=!1,h=function(e){t(e)},t=function(e){try{d(":input:visible",e.w)[0].focus()}catch(e){}},f=function(e){d(document)[e]("keypress",r)[e]("keydown",r)[e]("mousedown",r)},r=function(i){var e=p[c[c.length-1]],r=!d(i.target).parents(".jqmID"+e.s)[0];return r&&(d(".jqmID"+e.s).each(function(){var e=d(this),t=e.offset();if(t.top<=i.pageY&&i.pageY<=t.top+e.height()&&t.left<=i.pageX&&i.pageX<=t.left+e.width())return r=!1}),t(e)),!r},a=function(e,t,i){return e.each(function(){var e=this._jqm;d(t).each(function(){this[i]||(this[i]=[],d(this).click(function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])p[this[e][t]]&&p[this[e][t]].w[e](this);return u})),this[i].push(e)})})}}(jQuery),function(m){"use strict";m.fmatter={},m.extend(m.fmatter,{isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e&&("object"==typeof e||m.isFunction(e))||!1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(e){return!(!this.isString(e)&&this.isValue(e))&&(!this.isValue(e)||""===(e=m.trim(e).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))}}),m.fn.fmatter=function(e,t,i,r,a){var o=t;i=m.extend({},m.jgrid.formatter,i);try{o=m.fn.fmatter[e].call(this,t,i,r,a)}catch(e){}return o},m.fmatter.util={NumberFormat:function(e,t){if(m.fmatter.isNumber(e)||(e*=1),m.fmatter.isNumber(e)){var i,r=e<0,a=String(e),o=t.decimalSeparator||".";if(m.fmatter.isNumber(t.decimalPlaces)){var n=t.decimalPlaces,s=Math.pow(10,n);if(i=(a=String(Math.round(e*s)/s)).lastIndexOf("."),0<n)for(i<0?i=(a+=o).length-1:"."!==o&&(a=a.replace(".",o));a.length-1-i<n;)a+="0"}if(t.thousandsSeparator){var l=t.thousandsSeparator;i=-1<(i=a.lastIndexOf(o))?i:a.length;var d,p=a.substring(i),c=-1;for(d=i;0<d;d--)++c%3==0&&d!==i&&(!r||1<d)&&(p=l+p),p=a.charAt(d-1)+p;a=p}return a=t.prefix?t.prefix+a:a,a=t.suffix?a+t.suffix:a}return e}},m.fn.fmatter.defaultFormat=function(e,t){return m.fmatter.isValue(e)&&""!==e?e:t.defaultValue||"&#160;"},m.fn.fmatter.email=function(e,t){return m.fmatter.isEmpty(e)?m.fn.fmatter.defaultFormat(e,t):'<a href="mailto:'+e+'">'+e+"</a>"},m.fn.fmatter.checkbox=function(e,t){var i,r=m.extend({},t.checkbox);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(r=m.extend({},r,t.colModel.formatoptions)),i=!0===r.disabled?'disabled="disabled"':"",(m.fmatter.isEmpty(e)||void 0===e)&&(e=m.fn.fmatter.defaultFormat(e,r)),'<input type="checkbox" '+((e=((e=String(e))+"").toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"")+' value="'+e+'" offval="no" '+i+"/>"},m.fn.fmatter.link=function(e,t){var i={target:t.target},r="";return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=m.extend({},i,t.colModel.formatoptions)),i.target&&(r="target="+i.target),m.fmatter.isEmpty(e)?m.fn.fmatter.defaultFormat(e,t):"<a "+r+' href="'+e+'">'+e+"</a>"},m.fn.fmatter.showlink=function(e,t){var i,r={baseLinkUrl:t.baseLinkUrl,showAction:t.showAction,addParam:t.addParam||"",target:t.target,idName:t.idName},a="";return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(r=m.extend({},r,t.colModel.formatoptions)),r.target&&(a="target="+r.target),i=r.baseLinkUrl+r.showAction+"?"+r.idName+"="+t.rowId+r.addParam,m.fmatter.isString(e)||m.fmatter.isNumber(e)?"<a "+a+' href="'+i+'">'+e+"</a>":m.fn.fmatter.defaultFormat(e,t)},m.fn.fmatter.integer=function(e,t){var i=m.extend({},t.integer);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=m.extend({},i,t.colModel.formatoptions)),m.fmatter.isEmpty(e)?i.defaultValue:m.fmatter.util.NumberFormat(e,i)},m.fn.fmatter.number=function(e,t){var i=m.extend({},t.number);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=m.extend({},i,t.colModel.formatoptions)),m.fmatter.isEmpty(e)?i.defaultValue:m.fmatter.util.NumberFormat(e,i)},m.fn.fmatter.currency=function(e,t){var i=m.extend({},t.currency);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=m.extend({},i,t.colModel.formatoptions)),m.fmatter.isEmpty(e)?i.defaultValue:m.fmatter.util.NumberFormat(e,i)},m.fn.fmatter.date=function(e,t,i,r){var a=m.extend({},t.date);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(a=m.extend({},a,t.colModel.formatoptions)),a.reformatAfterEdit||"edit"!==r?m.fmatter.isEmpty(e)?m.fn.fmatter.defaultFormat(e,t):m.jgrid.parseDate(a.srcformat,e,a.newformat,a):m.fn.fmatter.defaultFormat(e,t)},m.fn.fmatter.select=function(e,t){e=String(e);var i,r,a=!1,o=[];if(void 0!==t.colModel.formatoptions?(a=t.colModel.formatoptions.value,i=void 0===t.colModel.formatoptions.separator?":":t.colModel.formatoptions.separator,r=void 0===t.colModel.formatoptions.delimiter?";":t.colModel.formatoptions.delimiter):void 0!==t.colModel.editoptions&&(a=t.colModel.editoptions.value,i=void 0===t.colModel.editoptions.separator?":":t.colModel.editoptions.separator,r=void 0===t.colModel.editoptions.delimiter?";":t.colModel.editoptions.delimiter),a){var n,s=!0==(null!=t.colModel.editoptions&&!0===t.colModel.editoptions.multiple),l=[];if(s&&(l=e.split(","),l=m.map(l,function(e){return m.trim(e)})),m.fmatter.isString(a)){var d,p=a.split(r),c=0;for(d=0;d<p.length;d++)if(2<(n=p[d].split(i)).length&&(n[1]=m.map(n,function(e,t){if(0<t)return e}).join(i)),s)-1<m.inArray(n[0],l)&&(o[c]=n[1],c++);else if(m.trim(n[0])===m.trim(e)){o[0]=n[1];break}}else m.fmatter.isObject(a)&&(s?o=m.map(l,function(e){return a[e]}):o[0]=a[e]||"")}return""===(e=o.join(", "))?m.fn.fmatter.defaultFormat(e,t):e},m.fn.fmatter.rowactions=function(e){var t=m(this).closest("tr.jqgrow"),i=t.attr("id"),r=m(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),a=m("#"+r),o=a[0],n=o.p,s=n.colModel[m.jgrid.getCellIndex(this)],l=s.frozen?m("tr#"+i+" td:eq("+m.jgrid.getCellIndex(this)+") > div",a):m(this).parent(),d={extraparam:{}},p=function(e){m.isFunction(d.afterRestore)&&d.afterRestore.call(o,e),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()};void 0!==s.formatoptions&&(d=m.extend(d,s.formatoptions)),void 0!==n.editOptions&&(d.editOptions=n.editOptions),void 0!==n.delOptions&&(d.delOptions=n.delOptions),t.hasClass("jqgrid-new-row")&&(d.extraparam[n.prmNames.oper]=n.prmNames.addoper);var c={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:function(e,t){m.isFunction(d.afterSave)&&d.afterSave.call(o,e,t),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()},errorfunc:d.onError,afterrestorefunc:p,restoreAfterError:d.restoreAfterError,mtype:d.mtype};switch(e){case"edit":a.jqGrid("editRow",i,c),l.find("div.ui-inline-edit,div.ui-inline-del").hide(),l.find("div.ui-inline-save,div.ui-inline-cancel").show(),a.triggerHandler("jqGridAfterGridComplete");break;case"save":a.jqGrid("saveRow",i,c)&&(l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),a.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":a.jqGrid("restoreRow",i,p),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),a.triggerHandler("jqGridAfterGridComplete");break;case"del":a.jqGrid("delGridRow",i,d.delOptions);break;case"formedit":a.jqGrid("setSelection",i),a.jqGrid("editGridRow",i,d.editOptions)}},m.fn.fmatter.actions=function(e,t){var i,r={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},a=t.rowId,o="";return void 0!==t.colModel.formatoptions&&(r=m.extend(r,t.colModel.formatoptions)),void 0===a||m.fmatter.isEmpty(a)?"":(r.editformbutton?(i="id='jEditButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",o+="<div title='"+m.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='ui-icon ui-icon-pencil'></span></div>"):r.editbutton&&(i="id='jEditButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ",o+="<div title='"+m.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='ui-icon ui-icon-pencil'></span></div>"),r.delbutton&&(i="id='jDeleteButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",o+="<div title='"+m.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+i+"><span class='ui-icon ui-icon-trash'></span></div>"),i="id='jSaveButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",o+="<div title='"+m.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+i+"><span class='ui-icon ui-icon-disk'></span></div>",i="id='jCancelButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ","<div style='margin-left:8px;'>"+(o+="<div title='"+m.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' "+i+"><span class='ui-icon ui-icon-cancel'></span></div>")+"</div>")},m.unformat=function(e,t,i,r){var a,o,n=t.colModel.formatter,s=t.colModel.formatoptions||{},l=/([\.\*\_\'\(\)\{\}\+\?\\])/g,d=t.colModel.unformat||m.fn.fmatter[n]&&m.fn.fmatter[n].unformat;if(void 0!==d&&m.isFunction(d))a=d.call(this,m(e).text(),t,e);else if(void 0!==n&&m.fmatter.isString(n)){var p,c=m.jgrid.formatter||{};switch(n){case"integer":o=(s=m.extend({},c.integer,s)).thousandsSeparator.replace(l,"\\$1"),p=new RegExp(o,"g"),a=m(e).text().replace(p,"");break;case"number":o=(s=m.extend({},c.number,s)).thousandsSeparator.replace(l,"\\$1"),p=new RegExp(o,"g"),a=m(e).text().replace(p,"").replace(s.decimalSeparator,".");break;case"currency":o=(s=m.extend({},c.currency,s)).thousandsSeparator.replace(l,"\\$1"),p=new RegExp(o,"g"),a=m(e).text(),s.prefix&&s.prefix.length&&(a=a.substr(s.prefix.length)),s.suffix&&s.suffix.length&&(a=a.substr(0,a.length-s.suffix.length)),a=a.replace(p,"").replace(s.decimalSeparator,".");break;case"checkbox":var u=t.colModel.editoptions?t.colModel.editoptions.value.split(":"):["Yes","No"];a=m("input",e).is(":checked")?u[0]:u[1];break;case"select":a=m.unformat.select(e,t,i,r);break;case"actions":return"";default:a=m(e).text()}}return void 0!==a?a:!0===r?m(e).text():m.jgrid.htmlDecode(m(e).html())},m.unformat.select=function(e,t,i,r){var a=[],o=m(e).text();if(!0===r)return o;var n=m.extend({},void 0!==t.colModel.formatoptions?t.colModel.formatoptions:t.colModel.editoptions),s=void 0===n.separator?":":n.separator,l=void 0===n.delimiter?";":n.delimiter;if(n.value){var d,p=n.value,c=!0===n.multiple,u=[];if(c&&(u=o.split(","),u=m.map(u,function(e){return m.trim(e)})),m.fmatter.isString(p)){var h,f=p.split(l),g=0;for(h=0;h<f.length;h++)if(2<(d=f[h].split(s)).length&&(d[1]=m.map(d,function(e,t){if(0<t)return e}).join(s)),c)-1<m.inArray(d[1],u)&&(a[g]=d[0],g++);else if(m.trim(d[1])===m.trim(o)){a[0]=d[0];break}}else(m.fmatter.isObject(p)||m.isArray(p))&&(c||(u[0]=o),a=m.map(u,function(i){var r;if(m.each(p,function(e,t){if(t===i)return r=e,!1}),void 0!==r)return r}));return a.join(", ")}return o||""},m.unformat.date=function(e,t){var i=m.jgrid.formatter.date||{};return void 0!==t.formatoptions&&(i=m.extend({},i,t.formatoptions)),m.fmatter.isEmpty(e)?m.fn.fmatter.defaultFormat(e,t):m.jgrid.parseDate(i.newformat,e,i.srcformat,i)}}(jQuery);var xmlJsonClass={xml2json:function(e,t){9===e.nodeType&&(e=e.documentElement);var i=this.removeWhite(e),r=this.toObj(i),a=this.toJson(r,e.nodeName,"\t");return"{\n"+t+(t?a.replace(/\t/g,t):a.replace(/\t|\n/g,""))+"\n}"},json2xml:function(e,t){var i,l=function(e,t,i){var r,a,o="";if(e instanceof Array)if(0===e.length)o+=i+"<"+t+">__EMPTY_ARRAY_</"+t+">\n";else for(r=0,a=e.length;r<a;r+=1){o+=i+l(e[r],t,i+"\t")+"\n"}else if("object"==typeof e){var n,s=!1;for(n in o+=i+"<"+t,e)e.hasOwnProperty(n)&&("@"===n.charAt(0)?o+=" "+n.substr(1)+'="'+e[n].toString()+'"':s=!0);if(o+=s?">":"/>",s){for(n in e)e.hasOwnProperty(n)&&("#text"===n?o+=e[n]:"#cdata"===n?o+="<![CDATA["+e[n]+"]]>":"@"!==n.charAt(0)&&(o+=l(e[n],n,i+"\t")));o+=("\n"===o.charAt(o.length-1)?i:"")+"</"+t+">"}}else"function"==typeof e?o+=i+"<"+t+"><![CDATA["+e+"]]></"+t+">":(void 0===e&&(e=""),'""'===e.toString()||0===e.toString().length?o+=i+"<"+t+">__EMPTY_STRING_</"+t+">":o+=i+"<"+t+">"+e.toString()+"</"+t+">");return o},r="";for(i in e)e.hasOwnProperty(i)&&(r+=l(e[i],i,""));return t?r.replace(/\t/g,t):r.replace(/\t|\n/g,"")},toObj:function(e){var t={},i=/function/i;if(1===e.nodeType){var r;if(e.attributes.length)for(r=0;r<e.attributes.length;r+=1)t["@"+e.attributes[r].nodeName]=(e.attributes[r].nodeValue||"").toString();if(e.firstChild){var a,o=0,n=0,s=!1;for(a=e.firstChild;a;a=a.nextSibling)1===a.nodeType?s=!0:3===a.nodeType&&a.nodeValue.match(/[^ \f\n\r\t\v]/)?o+=1:4===a.nodeType&&(n+=1);if(s)if(o<2&&n<2)for(this.removeWhite(e),a=e.firstChild;a;a=a.nextSibling)3===a.nodeType?t["#text"]=this.escape(a.nodeValue):4===a.nodeType?i.test(a.nodeValue)?t[a.nodeName]=[t[a.nodeName],a.nodeValue]:t["#cdata"]=this.escape(a.nodeValue):t[a.nodeName]?t[a.nodeName]instanceof Array?t[a.nodeName][t[a.nodeName].length]=this.toObj(a):t[a.nodeName]=[t[a.nodeName],this.toObj(a)]:t[a.nodeName]=this.toObj(a);else e.attributes.length?t["#text"]=this.escape(this.innerXml(e)):t=this.escape(this.innerXml(e));else if(o)e.attributes.length?t["#text"]=this.escape(this.innerXml(e)):"__EMPTY_ARRAY_"===(t=this.escape(this.innerXml(e)))?t="[]":"__EMPTY_STRING_"===t&&(t="");else if(n)if(1<n)t=this.escape(this.innerXml(e));else for(a=e.firstChild;a;a=a.nextSibling){if(i.test(e.firstChild.nodeValue)){t=e.firstChild.nodeValue;break}t["#cdata"]=this.escape(a.nodeValue)}}e.attributes.length||e.firstChild||(t=null)}else 9===e.nodeType?t=this.toObj(e.documentElement):alert("unhandled node type: "+e.nodeType);return t},toJson:function(e,t,i,r){void 0===r&&(r=!0);var a=t?'"'+t+'"':"",o="\t",n="\n";if(r||(n=o=""),"[]"===e)a+=t?":[]":"[]";else if(e instanceof Array){var s,l,d=[];for(l=0,s=e.length;l<s;l+=1)d[l]=this.toJson(e[l],"",i+o,r);a+=(t?":[":"[")+(1<d.length?n+i+o+d.join(","+n+i+o)+n+i:d.join(""))+"]"}else if(null===e)a+=(t&&":")+"null";else if("object"==typeof e){var p,c=[];for(p in e)e.hasOwnProperty(p)&&(c[c.length]=this.toJson(e[p],p,i+o,r));a+=(t?":{":"{")+(1<c.length?n+i+o+c.join(","+n+i+o)+n+i:c.join(""))+"}"}else a+="string"==typeof e?(t&&":")+'"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"':(t&&":")+e.toString();return a},innerXml:function(e){var t="";if("innerHTML"in e)t=e.innerHTML;else for(var a=function(e){var t,i="";if(1===e.nodeType){for(i+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)i+=" "+e.attributes[t].nodeName+'="'+(e.attributes[t].nodeValue||"").toString()+'"';if(e.firstChild){i+=">";for(var r=e.firstChild;r;r=r.nextSibling)i+=a(r);i+="</"+e.nodeName+">"}else i+="/>"}else 3===e.nodeType?i+=e.nodeValue:4===e.nodeType&&(i+="<![CDATA["+e.nodeValue+"]]>");return i},i=e.firstChild;i;i=i.nextSibling)t+=a(i);return t},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){var t;for(e.normalize(),t=e.firstChild;t;)if(3===t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{var i=t.nextSibling;e.removeChild(t),t=i}else t=(1===t.nodeType&&this.removeWhite(t),t.nextSibling);return e}};jQuery.extend({createUploadIframe:function(e,t){var i="jUploadFrame"+e,r='<iframe id="'+i+'" name="'+i+'" style="position:absolute; top:-9999px; left:-9999px"';return window.ActiveXObject&&("boolean"==typeof t?r+=' src="javascript:false"':"string"==typeof t&&(r+=' src="'+t+'"')),r+=" />",jQuery(r).appendTo(document.body),jQuery("#"+i).get(0)},createUploadForm:function(e,t,i){var r="jUploadForm"+e,a="jUploadFile"+e,o=jQuery('<form  action="" method="POST" name="'+r+'" id="'+r+'" enctype="multipart/form-data"></form>');if(i)for(var n in i)jQuery('<input type="hidden" name="'+n+'" value="'+i[n]+'" />').appendTo(o);var s=jQuery("#"+t),l=jQuery(s).clone();return jQuery(s).attr("id",a),jQuery(s).before(l),jQuery(s).appendTo(o),jQuery(o).css("position","absolute"),jQuery(o).css("top","-1200px"),jQuery(o).css("left","-1200px"),jQuery(o).appendTo("body"),o},ajaxFileUpload:function(a){a=jQuery.extend({},jQuery.ajaxSettings,a);var e=(new Date).getTime(),o=jQuery.createUploadForm(e,a.fileElementId,void 0!==a.data&&a.data),n=(jQuery.createUploadIframe(e,a.secureuri),"jUploadFrame"+e),t="jUploadForm"+e;a.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");var s=!1,l={};a.global&&jQuery.event.trigger("ajaxSend",[l,a]);var i=function(e){var t=document.getElementById(n);try{t.contentWindow?(l.responseText=t.contentWindow.document.body?t.contentWindow.document.body.innerHTML:null,l.responseXML=t.contentWindow.document.XMLDocument?t.contentWindow.document.XMLDocument:t.contentWindow.document):t.contentDocument&&(l.responseText=t.contentDocument.document.body?t.contentDocument.document.body.innerHTML:null,l.responseXML=t.contentDocument.document.XMLDocument?t.contentDocument.document.XMLDocument:t.contentDocument.document)}catch(e){jQuery.handleError(a,l,null,e)}if(l||"timeout"==e){var i;s=!0;try{if("error"!=(i="timeout"!=e?"success":"error")){var r=jQuery.uploadHttpData(l,a.dataType);a.success&&a.success(r,i),a.global&&jQuery.event.trigger("ajaxSuccess",[l,a])}else jQuery.handleError(a,l,i)}catch(e){i="error",jQuery.handleError(a,l,i,e)}a.global&&jQuery.event.trigger("ajaxComplete",[l,a]),a.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop"),a.complete&&a.complete(l,i),jQuery(t).unbind(),setTimeout(function(){try{jQuery(t).remove(),jQuery(o).remove()}catch(e){jQuery.handleError(a,l,null,e)}},100),l=null}};0<a.timeout&&setTimeout(function(){s||i("timeout")},a.timeout);try{o=jQuery("#"+t);jQuery(o).attr("action",a.url),jQuery(o).attr("method","POST"),jQuery(o).attr("target",n),o.encoding?jQuery(o).attr("encoding","multipart/form-data"):jQuery(o).attr("enctype","multipart/form-data"),jQuery(o).submit()}catch(e){jQuery.handleError(a,l,null,e)}return jQuery("#"+n).load(i),{abort:function(){}}},uploadHttpData:function(r,type){var data=!type;return data="xml"==type||data?r.responseXML:r.responseText,"script"==type&&jQuery.globalEval(data),"json"==type&&eval("data = "+data),"html"==type&&jQuery("<div>").html(data).evalScripts(),data}}),jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(opr)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},jQuery.browser||(matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),jQuery.browser=browser),function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var i=window.Cookies,r=window.Cookies=e();r.noConflict=function(){return window.Cookies=i,r}}}(function(){function g(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t}return function e(h){function f(e,t,i){var r;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(i=g({path:"/"},f.defaults,i)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{r=JSON.stringify(t),/^[\{\[]/.test(r)&&(t=r)}catch(e){}t=h.write?h.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var o="";for(var n in i)i[n]&&(o+="; "+n,!0!==i[n]&&(o+="="+i[n]));return document.cookie=e+"="+t+o}e||(r={});for(var s=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,d=0;d<s.length;d++){var p=s[d].split("="),c=p.slice(1).join("=");this.json||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=p[0].replace(l,decodeURIComponent);if(c=h.read?h.read(c,u):h(c,u)||c.replace(l,decodeURIComponent),this.json)try{c=JSON.parse(c)}catch(e){}if(e===u){r=c;break}e||(r[u]=c)}catch(e){}}return r}}return(f.set=f).get=function(e){return f.call(f,e)},f.getJSON=function(){return f.apply({json:!0},[].slice.call(arguments))},f.defaults={},f.remove=function(e,t){f(e,"",g(t,{expires:-1}))},f.withConverter=e,f}(function(){})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.tippy=t()}(this,function(){"use strict";function p(e){return"[object Object]"==={}.toString.call(e)}function c(e){return[].slice.call(e)}function f(e){for(var t=["","webkit"],i=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var a=t[r],o=a?a+i:e;if(void 0!==document.body.style[o])return o}return null}function g(){return document.createElement("div")}function m(t){var e=function(e){return t.querySelector(e)};return{tooltip:e(ge.TOOLTIP),backdrop:e(ge.BACKDROP),content:e(ge.CONTENT),arrow:e(ge.ARROW)||e(ge.ROUND_ARROW)}}function v(e){var t=e.getAttribute("title");t&&e.setAttribute("data-original-title",t),e.removeAttribute("title")}function n(e){return e&&"[object Function]"==={}.toString.call(e)}function j(e,t){if(1!==e.nodeType)return[];var i=getComputedStyle(e,null);return t?i[t]:i}function h(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function b(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=j(e),i=t.overflow,r=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(i+a+r)?e:b(h(e))}function w(e){return 11===e?Ce:10===e?_e:Ce||_e}function y(e){if(!e)return document.documentElement;for(var t=w(10)?document.body:null,i=e.offsetParent;i===t&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var r=i&&i.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(i.nodeName)&&"static"===j(i,"position")?y(i):i:e?e.ownerDocument.documentElement:document.documentElement}function u(e){return null===e.parentNode?e:u(e.parentNode)}function x(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var i=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=i?e:t,a=i?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(a,0);var n,s,l=o.commonAncestorContainer;if(e!==l&&t!==l||r.contains(a))return"BODY"===(s=(n=l).nodeName)||"HTML"!==s&&y(n.firstElementChild)!==n?y(l):l;var d=u(e);return d.host?x(d.host,t):x(e,u(t).host)}function q(e){var t="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"!==i&&"HTML"!==i)return e[t];var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}function D(e,t){var i="x"===t?"Left":"Top",r="Left"===i?"Right":"Bottom";return parseFloat(e["border"+i+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function a(e,t,i,r){return ce(t["offset"+e],t["scroll"+e],i["client"+e],i["offset"+e],i["scroll"+e],w(10)?parseInt(i["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function C(e){var t=e.body,i=e.documentElement,r=w(10)&&getComputedStyle(i);return{height:a("Height",t,i,r),width:a("Width",t,i,r)}}function _(e){return Ie({},e,{right:e.left+e.width,bottom:e.top+e.height})}function $(e){var t={};try{if(w(10)){t=e.getBoundingClientRect();var i=q(e,"top"),r=q(e,"left");t.top+=i,t.left+=r,t.bottom+=i,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?C(e.ownerDocument):{},n=o.width||e.clientWidth||a.right-a.left,s=o.height||e.clientHeight||a.bottom-a.top,l=e.offsetWidth-n,d=e.offsetHeight-s;if(l||d){var p=j(e);l-=D(p,"x"),d-=D(p,"y"),a.width-=l,a.height-=d}return _(a)}function k(e,t){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=w(10),a="HTML"===t.nodeName,o=$(e),n=$(t),s=b(e),l=j(t),d=parseFloat(l.borderTopWidth,10),p=parseFloat(l.borderLeftWidth,10);i&&a&&(n.top=ce(n.top,0),n.left=ce(n.left,0));var c=_({top:o.top-n.top-d,left:o.left-n.left-p,width:o.width,height:o.height});if(c.marginTop=0,c.marginLeft=0,!r&&a){var u=parseFloat(l.marginTop,10),h=parseFloat(l.marginLeft,10);c.top-=d-u,c.bottom-=d-u,c.left-=p-h,c.right-=p-h,c.marginTop=u,c.marginLeft=h}return(r&&!i?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(c=function(e,t){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=q(t,"top"),a=q(t,"left"),o=i?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=a*o,e.right+=a*o,e}(c,t)),c}function I(e){if(!e||!e.parentElement||w())return document.documentElement;for(var t=e.parentElement;t&&"none"===j(t,"transform");)t=t.parentElement;return t||document.documentElement}function G(e,t,i,r){var a=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4],o={top:0,left:0},n=a?I(e):x(e,t);if("viewport"===r)o=function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=e.ownerDocument.documentElement,r=k(e,i),a=ce(i.clientWidth,window.innerWidth||0),o=ce(i.clientHeight,window.innerHeight||0),n=t?0:q(i),s=t?0:q(i,"left");return _({top:n-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:a,height:o})}(n,a);else{var s;"scrollParent"===r?"BODY"===(s=b(h(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var l=k(s,n,a);if("HTML"!==s.nodeName||function e(t){var i=t.nodeName;return"BODY"!==i&&"HTML"!==i&&("fixed"===j(t,"position")||e(h(t)))}(n))o=l;else{var d=C(e.ownerDocument),p=d.height,c=d.width;o.top+=l.top-l.marginTop,o.bottom=p+l.top,o.left+=l.left-l.marginLeft,o.right=c+l.left}}var u="number"==typeof(i=i||0);return o.left+=u?i:i.left||0,o.top+=u?i:i.top||0,o.right-=u?i:i.right||0,o.bottom-=u?i:i.bottom||0,o}function s(e,t,r,i,a){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var n=G(r,i,o,a),s={top:{width:n.width,height:t.top-n.top},right:{width:n.right-t.right,height:n.height},bottom:{width:n.width,height:n.bottom-t.bottom},left:{width:t.left-n.left,height:n.height}},l=Object.keys(s).map(function(e){return Ie({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),d=l.filter(function(e){var t=e.width,i=e.height;return t>=r.clientWidth&&i>=r.clientHeight}),p=0<d.length?d[0].key:l[0].key,c=e.split("-")[1];return p+(c?"-"+c:"")}function l(e,t,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return k(i,r?I(t):x(t,i),r)}function F(e){var t=getComputedStyle(e),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+r,height:e.offsetHeight+i}}function S(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function R(e,t,i){i=i.split("-")[0];var r=F(e),a={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(i),n=o?"top":"left",s=o?"left":"top",l=o?"height":"width",d=o?"width":"height";return a[n]=t[n]+t[l]/2-r[l]/2,a[s]=i===s?t[s]-r[d]:t[S(s)],a}function M(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function E(e,i,t){return(void 0===t?e:e.slice(0,function(e,t,i){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===i});var r=M(e,function(e){return e[t]===i});return e.indexOf(r)}(e,"name",t))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e.function||e.fn;e.enabled&&n(t)&&(i.offsets.popper=_(i.offsets.popper),i.offsets.reference=_(i.offsets.reference),i=t(i,e))}),i}function e(e,i){return e.some(function(e){var t=e.name;return e.enabled&&t===i})}function O(e){for(var t=[!1,"ms","Webkit","Moz","O"],i=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var a=t[r],o=a?""+a+i:e;if(void 0!==document.body.style[o])return o}return null}function o(e){var t=e.ownerDocument;return t?t.defaultView:window}function t(e,t,i,r){i.updateBound=r,o(e).addEventListener("resize",i.updateBound,{passive:!0});var a=b(e);return function e(t,i,r,a){var o="BODY"===t.nodeName,n=o?t.ownerDocument.defaultView:t;n.addEventListener(i,r,{passive:!0}),o||e(b(n.parentNode),i,r,a),a.push(n)}(a,"scroll",i.updateBound,i.scrollParents),i.scrollElement=a,i.eventsEnabled=!0,i}function i(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,o(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function T(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function d(i,r){Object.keys(r).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&T(r[e])&&(t="px"),i.style[e]=r[e]+t})}function N(e,t,i){var r=M(e,function(e){return e.name===t}),a=!!r&&e.some(function(e){return e.name===i&&e.enabled&&e.order<r.order});if(!a){var o="`"+t+"`";console.warn("`"+i+"` modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return a}function r(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=Fe.indexOf(e),r=Fe.slice(i+1).concat(Fe.slice(0,i));return t?r.reverse():r}function A(e,a,o,t){var n=[0,0],s=-1!==["right","left"].indexOf(t),i=e.split(/(\+|\-)/).map(function(e){return e.trim()}),r=i.indexOf(M(i,function(e){return-1!==e.search(/,|\s/)}));i[r]&&-1===i[r].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,d=-1===r?[i]:[i.slice(0,r).concat([i[r].split(l)[0]]),[i[r].split(l)[1]].concat(i.slice(r+1))];return(d=d.map(function(e,t){var i=(1===t?!s:s)?"height":"width",r=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,r=!0,e):r?(e[e.length-1]+=t,r=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,i,r){var a,o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),n=+o[1],s=o[2];if(!n)return e;if(0!==s.indexOf("%"))return"vh"!==s&&"vw"!==s?n:("vh"===s?ce(document.documentElement.clientHeight,window.innerHeight||0):ce(document.documentElement.clientWidth,window.innerWidth||0))/100*n;switch(s){case"%p":a=i;break;case"%":case"%r":default:a=r}return _(a)[t]/100*n}(e,i,a,o)})})).forEach(function(i,r){i.forEach(function(e,t){T(e)&&(n[r]+=e*("-"===i[t-1]?-1:1))})}),n}function P(e){return e.getAttribute("x-placement").replace(/-.+/,"")}function H(e,t,i,r){return t.length?{scale:1===t.length?""+t[0]:i?t[0]+", "+t[1]:t[1]+", "+t[0],translate:1===t.length?r?-t[0]+"px":t[0]+"px":i?r?t[0]+"px, "+-t[1]+"px":t[0]+"px, "+t[1]+"px":r?-t[1]+"px, "+t[0]+"px":t[1]+"px, "+t[0]+"px"}[e]:""}function L(e,t){return e?t?e:{X:"Y",Y:"X"}[e]:""}function z(e,t,i){var r=P(e),a="top"===r||"bottom"===r,o="right"===r||"bottom"===r,n=function(e){var t=i.match(e);return t?t[1]:""},s=function(e){var t=i.match(e);return t?t[1].split(",").map(parseFloat):[]},l=/translateX?Y?\(([^)]+)\)/,d=/scaleX?Y?\(([^)]+)\)/,p={translate:{axis:n(/translate([XY])/),numbers:s(l)},scale:{axis:n(/scale([XY])/),numbers:s(d)}},c=i.replace(l,"translate"+L(p.translate.axis,a)+"("+H("translate",p.translate.numbers,a,o)+")").replace(d,"scale"+L(p.scale.axis,a)+"("+H("scale",p.scale.numbers,a,o)+")");t.style[f("transform")]=c}function B(e){return-(e-me.distance)+"px"}function Q(e,t){return(Element.prototype.closest||function(e){for(var t=this;t;){if(Ne.call(t,e))return t;t=t.parentElement}}).call(e,t)}function V(e,t){return Array.isArray(e)?e[t]:e}function X(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function W(e,t){e.filter(Boolean).forEach(function(e){e.style[f("transitionDuration")]=t+"ms"})}function Y(e){var t=window.scrollX||window.pageXOffset,i=window.scrollY||window.pageYOffset;e.focus(),scroll(t,i)}function U(){var e=this._(Ae).lastTriggerEvent;return this.options.followCursor&&!fe.usingTouch&&e&&"focus"!==e.type}function K(e){var t=this,i=this.options;if(te.call(this),!this.state.visible){if(i.target)return void function(e){var t=Q(e.target,this.options.target);if(t&&!t._tippy){var i=t.getAttribute("title")||this.title;i&&(t.setAttribute("title",i),se(t,we({},this.options,{target:null})),K.call(t._tippy,e))}}.call(this,e);if(this._(Ae).isPreparingToShow=!0,i.wait)return void i.wait.call(this.popper,this.show.bind(this),e);if(U.call(this)){this._(Ae).followCursorListener||function(){var a=this;this._(Ae).followCursorListener=function(e){var t=a._(Ae).lastMouseMoveEvent=e,i=t.clientX,r=t.clientY;a.popperInstance&&(a.popperInstance.reference={getBoundingClientRect:function(){return{width:0,height:0,top:r,left:i,right:i,bottom:r}},clientWidth:0,clientHeight:0},a.popperInstance.scheduleUpdate())}}.call(this);var r=m(this.popper).arrow;r&&(r.style.margin="0"),document.addEventListener("mousemove",this._(Ae).followCursorListener)}var a=V(i.delay,0);a?this._(Ae).showTimeout=setTimeout(function(){t.show()},a):this.show()}}function J(){var e=this;if(te.call(this),this.state.visible){this._(Ae).isPreparingToShow=!1;var t=V(this.options.delay,1);t?this._(Ae).hideTimeout=setTimeout(function(){e.state.visible&&e.hide()},t):this.hide()}}function Z(){var n=this;return{onTrigger:function(e){n.state.enabled&&(fe.supportsTouch&&fe.usingTouch&&-1<["mouseenter","mouseover","focus"].indexOf(e.type)&&n.options.touchHold||("click"===(n._(Ae).lastTriggerEvent=e).type&&"persistent"!==n.options.hideOnClick&&n.state.visible?J.call(n):K.call(n,e)))},onMouseLeave:function(e){if(!(-1<["mouseleave","mouseout"].indexOf(e.type)&&fe.supportsTouch&&fe.usingTouch&&n.options.touchHold)){if(n.options.interactive){var o=J.bind(n);return document.body.addEventListener("mouseleave",o),void document.addEventListener("mousemove",function e(t){var i=Q(t.target,ge.REFERENCE),r=Q(t.target,ge.POPPER)===n.popper,a=i===n.reference;r||a||function(e,t,i){if(!t.getAttribute("x-placement"))return!0;var r=e.clientX,a=e.clientY,o=i.interactiveBorder,n=i.distance,s=t.getBoundingClientRect(),l=P(t),d=o+n,p={top:s.top-a>o,bottom:a-s.bottom>o,left:s.left-r>o,right:r-s.right>o};return"top"===l?p.top=s.top-a>d:"bottom"===l?p.bottom=a-s.bottom>d:"left"===l?p.left=s.left-r>d:"right"===l&&(p.right=r-s.right>d),p.top||p.bottom||p.left||p.right}(t,n.popper,n.options)&&(document.body.removeEventListener("mouseleave",o),document.removeEventListener("mousemove",e),J.call(n,e))})}J.call(n)}},onBlur:function(e){if(e.target===n.reference&&!fe.usingTouch){if(n.options.interactive){if(!e.relatedTarget)return;if(Q(e.relatedTarget,ge.POPPER))return}J.call(n)}},onDelegateShow:function(e){Q(e.target,n.options.target)&&K.call(n,e)},onDelegateHide:function(e){Q(e.target,n.options.target)&&J.call(n)}}}function ee(){var e=this,t=this.popper,i=this.reference,r=this.options,a=m(t).tooltip,o=r.popperOptions,n="round"===r.arrowType?ge.ROUND_ARROW:ge.ARROW,s=a.querySelector(n),l=we({placement:r.placement},o||{},{modifiers:we({},o?o.modifiers:{},{arrow:we({element:n},o&&o.modifiers?o.modifiers.arrow:{}),flip:we({enabled:r.flip,padding:r.distance+5,behavior:r.flipBehavior},o&&o.modifiers?o.modifiers.flip:{}),offset:we({offset:r.offset},o&&o.modifiers?o.modifiers.offset:{})}),onCreate:function(){a.style[P(t)]=B(r.distance),s&&r.arrowTransform&&z(t,s,r.arrowTransform)},onUpdate:function(){var e=a.style;e.top="",e.bottom="",e.left="",e.right="",e[P(t)]=B(r.distance),s&&r.arrowTransform&&z(t,s,r.arrowTransform)}});return re.call(this,{target:t,callback:function(){e.popperInstance.update()},options:{childList:!0,subtree:!0,characterData:!0}}),new Ee(i,t,l)}function te(){var e=this._(Ae),t=e.showTimeout,i=e.hideTimeout;clearTimeout(t),clearTimeout(i)}function ie(){var t=this;!function e(){t.popperInstance&&t.popperInstance.update(),t.popper.style[f("transitionDuration")]=t.options.updateDuration+"ms",t.state.visible?requestAnimationFrame(e):t.popper.style[f("transitionDuration")]=""}()}function re(e){var t=e.target,i=e.callback,r=e.options;if(window.MutationObserver){var a=new MutationObserver(i);a.observe(t,r),this._(Ae).mutationObservers.push(a)}}function ae(e,i){if(!e)return i();var r=m(this.popper).tooltip,a=function(e,t){t&&r[e+"EventListener"]("transition"in document.body.style?"transitionend":"webkitTransitionEnd",t)},t=function e(t){t.target===r&&(a("remove",e),i())};a("remove",this._(Ae).transitionendListener),a("add",t),this._(Ae).transitionendListener=t}function oe(e,h){return e.reduce(function(e,i){var t,r,a,o,n,s=He,l=(t=i,(r=h.performance?h:(a=i,o=h,n=ve.reduce(function(e,t){var i=a.getAttribute("data-tippy-"+t.toLowerCase())||o[t];return"false"===i&&(i=!1),"true"===i&&(i=!0),isFinite(i)&&!isNaN(parseFloat(i))&&(i=parseFloat(i)),"target"!==t&&"string"==typeof i&&"["===i.trim().charAt(0)&&(i=JSON.parse(i)),e[t]=i,e},{}),we({},o,n))).arrow&&(r.animateFill=!1),r.appendTo&&"function"==typeof r.appendTo&&(r.appendTo=r.appendTo()),"function"==typeof r.html&&(r.html=r.html(t)),r),d=i.getAttribute("title");if(!(d||l.target||l.html||l.dynamicTitle))return e;i.setAttribute(l.target?"data-tippy-delegate":"data-tippy",""),v(i);var p=function(e,t,i){var r=g();r.setAttribute("class","tippy-popper"),r.setAttribute("role","tooltip"),r.setAttribute("id","tippy-"+e),r.style.zIndex=i.zIndex,r.style.maxWidth=i.maxWidth;var a=g();a.setAttribute("class","tippy-tooltip"),a.setAttribute("data-size",i.size),a.setAttribute("data-animation",i.animation),a.setAttribute("data-state","hidden"),i.theme.split(" ").forEach(function(e){a.classList.add(e+"-theme")});var o=g();if(o.setAttribute("class","tippy-content"),i.arrow){var n=g();n.style[f("transform")]=i.arrowTransform,"round"===i.arrowType?(n.classList.add("tippy-roundarrow"),n.innerHTML='<svg viewBox="0 0 24 8" xmlns="http://www.w3.org/2000/svg"><path d="M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z"/></svg>'):n.classList.add("tippy-arrow"),a.appendChild(n)}if(i.animateFill){a.setAttribute("data-animatefill","");var s=g();s.classList.add("tippy-backdrop"),s.setAttribute("data-state","hidden"),a.appendChild(s)}i.inertia&&a.setAttribute("data-inertia",""),i.interactive&&a.setAttribute("data-interactive","");var l,d=i.html;return d?(l=d instanceof Element?(o.appendChild(d),"#"+(d.id||"tippy-html-template")):(o.innerHTML=document.querySelector(d).innerHTML,d),r.setAttribute("data-html",""),a.setAttribute("data-template-id",l),i.interactive&&r.setAttribute("tabindex","-1")):o[i.allowTitleHTML?"innerHTML":"textContent"]=t,a.appendChild(o),r.appendChild(a),r}(s,d,l),c=new Pe({id:s,reference:i,popper:p,options:l,title:d,popperInstance:null});l.createPopperInstanceOnInit&&(c.popperInstance=ee.call(c),c.popperInstance.disableEventListeners());var u=Z.call(c);return c.listeners=l.trigger.trim().split(" ").reduce(function(e,t){return e.concat(function(e,i,t,r){var a=t.onTrigger,o=t.onMouseLeave,n=t.onBlur,s=t.onDelegateShow,l=t.onDelegateHide,d=[];if("manual"===e)return d;var p=function(e,t){i.addEventListener(e,t),d.push({event:e,handler:t})};return r.target?(fe.supportsTouch&&r.touchHold&&(p("touchstart",s),p("touchend",l)),"mouseenter"===e&&(p("mouseover",s),p("mouseout",l)),"focus"===e&&(p("focusin",s),p("focusout",l)),"click"===e&&p("click",s)):(p(e,a),fe.supportsTouch&&r.touchHold&&(p("touchstart",a),p("touchend",o)),"mouseenter"===e&&p("mouseleave",o),"focus"===e&&p(he?"focusout":"blur",n)),d}(t,i,u,l))},[]),l.dynamicTitle&&re.call(c,{target:i,callback:function(){var e=m(p).content,t=i.getAttribute("title");t&&(e[l.allowTitleHTML?"innerHTML":"textContent"]=c.title=t,v(i))},options:{attributes:!0}}),i._tippy=c,p._tippy=c,p._reference=i,e.push(c),He++,e},[])}function ne(r){c(document.querySelectorAll(ge.POPPER)).forEach(function(e){var t=e._tippy;if(t){var i=t.options;(!0===i.hideOnClick||-1<i.trigger.indexOf("focus"))&&(!r||e!==r.popper)&&t.hide()}})}function se(e,t,i){var r,a,o,n,s;fe.supported&&!Le&&(a=ze,n=function(){fe.usingTouch||(fe.usingTouch=!0,fe.iOS&&document.body.classList.add("tippy-touch"),fe.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",s),fe.onUserInputChange("touch"))},s=function(){var e=performance.now();e-o<20&&(fe.usingTouch=!1,document.removeEventListener("mousemove",s),!fe.iOS&&document.body.classList.remove("tippy-touch"),fe.onUserInputChange("mouse")),o=e},document.addEventListener("click",function(e){if(!(e.target instanceof Element))return ne();var t=Q(e.target,ge.REFERENCE),i=Q(e.target,ge.POPPER);if(!(i&&i._tippy&&i._tippy.options.interactive)){if(t&&t._tippy){var r=t._tippy.options,a=-1<r.trigger.indexOf("click"),o=r.multiple;if(!o&&fe.usingTouch||!o&&a)return ne(t._tippy);if(!0!==r.hideOnClick||a)return}ne()}},a),document.addEventListener("touchstart",n),window.addEventListener("blur",function(){var e=document.activeElement;e&&e.blur&&Ne.call(e,ge.REFERENCE)&&e.blur()}),window.addEventListener("resize",function(){c(document.querySelectorAll(ge.POPPER)).forEach(function(e){var t=e._tippy;t&&!t.options.livePlacement&&t.popperInstance.scheduleUpdate()})}),!fe.supportsTouch&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints)&&document.addEventListener("pointerdown",n),Le=!0),p(e)&&((r=e).refObj=!0,r.attributes=r.attributes||{},r.setAttribute=function(e,t){r.attributes[e]=t},r.getAttribute=function(e){return r.attributes[e]},r.removeAttribute=function(e){delete r.attributes[e]},r.hasAttribute=function(e){return e in r.attributes},r.addEventListener=function(){},r.removeEventListener=function(){},r.classList={classNames:{},add:function(e){return r.classList.classNames[e]=!0},remove:function(e){return delete r.classList.classNames[e],!0},contains:function(e){return e in r.classList.classNames}}),t=we({},me,t);var l=function(e){if(e instanceof Element||p(e))return[e];if(e instanceof NodeList)return c(e);if(Array.isArray(e))return e;try{return c(document.querySelectorAll(e))}catch(e){return[]}}(e),d=l[0];return{selector:e,options:t,tooltips:fe.supported?oe(i&&d?[d]:l,t):[],destroyAll:function(){this.tooltips.forEach(function(e){return e.destroy()}),this.tooltips=[]}}}var le=Math.min,de=Math.round,pe=Math.floor,ce=Math.max,ue="undefined"!=typeof window,he=ue&&/MSIE |Trident\//.test(navigator.userAgent),fe={};ue&&(fe.supported="requestAnimationFrame"in window,fe.supportsTouch="ontouchstart"in window,fe.usingTouch=!1,fe.dynamicInputDetection=!0,fe.iOS=/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,fe.onUserInputChange=function(){});for(var ge={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow",REFERENCE:"[data-tippy]"},me={placement:"top",livePlacement:!0,trigger:"mouseenter focus",animation:"shift-away",html:!1,animateFill:!0,arrow:!1,delay:[0,20],duration:[350,300],interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,updateDuration:350,sticky:!1,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,flip:!0,flipBehavior:"flip",arrowType:"sharp",arrowTransform:"",maxWidth:"",target:null,allowTitleHTML:!0,popperOptions:{},createPopperInstanceOnInit:!1,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){}},ve=fe.supported&&Object.keys(me),be=function(){function r(e,t){for(var i,r=0;r<t.length;r++)(i=t[r]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}}(),we=Object.assign||function(e){for(var t,i=1;i<arguments.length;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},je="undefined"!=typeof window&&"undefined"!=typeof document,ye=["Edge","Trident","Firefox"],xe=0,qe=0;qe<ye.length;qe+=1)if(je&&0<=navigator.userAgent.indexOf(ye[qe])){xe=1;break}var De=je&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},xe))}},Ce=je&&!(!window.MSInputMethodContext||!document.documentMode),_e=je&&/MSIE 10/.test(navigator.userAgent),$e=function(){function r(e,t){for(var i,r=0;r<t.length;r++)(i=t[r]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}}(),ke=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},Ie=Object.assign||function(e){for(var t,i=1;i<arguments.length;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ge=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Fe=Ge.slice(3),Se="flip",Re="clockwise",Me="counterclockwise",Ee=function(){function o(e,t){var i=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=De(this.update.bind(this)),this.options=Ie({},o.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(Ie({},o.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=Ie({},o.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return Ie({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&n(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return $e(o,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=l(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=s(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=R(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=E(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,e(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[O("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=t(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return i.call(this)}}]),o}();Ee.Utils=("undefined"==typeof window?global:window).PopperUtils,Ee.placements=Ge,Ee.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,i=t.split("-")[0],r=t.split("-")[1];if(r){var a=e.offsets,o=a.reference,n=a.popper,s=-1!==["bottom","top"].indexOf(i),l=s?"left":"top",d=s?"width":"height",p={start:ke({},l,o[l]),end:ke({},l,o[l]+o[d]-n[d])};e.offsets.popper=Ie({},n,p[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var i,r=t.offset,a=e.placement,o=e.offsets,n=o.popper,s=o.reference,l=a.split("-")[0];return i=T(+r)?[+r,0]:A(r,n,s,l),"left"===l?(n.top+=i[0],n.left-=i[1]):"right"===l?(n.top+=i[0],n.left+=i[1]):"top"===l?(n.left+=i[0],n.top-=i[1]):"bottom"===l&&(n.left+=i[0],n.top+=i[1]),e.popper=n,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,r){var t=r.boundariesElement||y(e.instance.popper);e.instance.reference===t&&(t=y(t));var i=O("transform"),a=e.instance.popper.style,o=a.top,n=a.left,s=a[i];a.top="",a.left="",a[i]="";var l=G(e.instance.popper,e.instance.reference,r.padding,t,e.positionFixed);a.top=o,a.left=n,a[i]=s,r.boundaries=l;var d=r.priority,p=e.offsets.popper,c={primary:function(e){var t=p[e];return p[e]<l[e]&&!r.escapeWithReference&&(t=ce(p[e],l[e])),ke({},e,t)},secondary:function(e){var t="right"===e?"left":"top",i=p[t];return p[e]>l[e]&&!r.escapeWithReference&&(i=le(p[t],l[e]-("right"===e?p.width:p.height))),ke({},t,i)}};return d.forEach(function(e){var t=-1===["left","top"].indexOf(e)?"secondary":"primary";p=Ie({},p,c[t](e))}),e.offsets.popper=p,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,i=t.popper,r=t.reference,a=e.placement.split("-")[0],o=pe,n=-1!==["top","bottom"].indexOf(a),s=n?"right":"bottom",l=n?"left":"top",d=n?"width":"height";return i[s]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-i[d]),i[l]>o(r[s])&&(e.offsets.popper[l]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var i;if(!N(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],o=e.offsets,n=o.popper,s=o.reference,l=-1!==["left","right"].indexOf(a),d=l?"height":"width",p=l?"Top":"Left",c=p.toLowerCase(),u=l?"left":"top",h=l?"bottom":"right",f=F(r)[d];s[h]-f<n[c]&&(e.offsets.popper[c]-=n[c]-(s[h]-f)),s[c]+f>n[h]&&(e.offsets.popper[c]+=s[c]+f-n[h]),e.offsets.popper=_(e.offsets.popper);var g=s[c]+s[d]/2-f/2,m=j(e.instance.popper),v=parseFloat(m["margin"+p],10),b=parseFloat(m["border"+p+"Width"],10),w=g-e.offsets.popper[c]-v-b;return w=ce(le(n[d]-f,w),0),e.arrowElement=r,e.offsets.arrow=(ke(i={},c,de(w)),ke(i,u,""),i),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(f,g){if(e(f.instance.modifiers,"inner"))return f;if(f.flipped&&f.placement===f.originalPlacement)return f;var m=G(f.instance.popper,f.instance.reference,g.padding,g.boundariesElement,f.positionFixed),v=f.placement.split("-")[0],b=S(v),w=f.placement.split("-")[1]||"",j=[];switch(g.behavior){case Se:j=[v,b];break;case Re:j=r(v);break;case Me:j=r(v,!0);break;default:j=g.behavior}return j.forEach(function(e,t){if(v!==e||j.length===t+1)return f;v=f.placement.split("-")[0],b=S(v);var i,r=f.offsets.popper,a=f.offsets.reference,o=pe,n="left"===v&&o(r.right)>o(a.left)||"right"===v&&o(r.left)<o(a.right)||"top"===v&&o(r.bottom)>o(a.top)||"bottom"===v&&o(r.top)<o(a.bottom),s=o(r.left)<o(m.left),l=o(r.right)>o(m.right),d=o(r.top)<o(m.top),p=o(r.bottom)>o(m.bottom),c="left"===v&&s||"right"===v&&l||"top"===v&&d||"bottom"===v&&p,u=-1!==["top","bottom"].indexOf(v),h=!!g.flipVariations&&(u&&"start"===w&&s||u&&"end"===w&&l||!u&&"start"===w&&d||!u&&"end"===w&&p);(n||c||h)&&(f.flipped=!0,(n||c)&&(v=j[t+1]),h&&(w="end"===(i=w)?"start":"start"===i?"end":i),f.placement=v+(w?"-"+w:""),f.offsets.popper=Ie({},f.offsets.popper,R(f.instance.popper,f.offsets.reference,f.placement)),f=E(f.instance.modifiers,f,"flip"))}),f},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,i=t.split("-")[0],r=e.offsets,a=r.popper,o=r.reference,n=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return a[n?"left":"top"]=o[i]-(s?a[n?"width":"height"]:0),e.placement=S(t),e.offsets.popper=_(a),e}},hide:{order:800,enabled:!0,fn:function(e){if(!N(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,i=M(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var i=t.x,r=t.y,a=e.offsets.popper,o=M(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var n,s,l=void 0===o?t.gpuAcceleration:o,d=y(e.instance.popper),p=$(d),c={position:a.position},u={left:pe(a.left),top:de(a.top),bottom:de(a.bottom),right:pe(a.right)},h="bottom"===i?"top":"bottom",f="right"===r?"left":"right",g=O("transform");if(s="bottom"==h?"HTML"===d.nodeName?-d.clientHeight+u.bottom:-p.height+u.bottom:u.top,n="right"==f?"HTML"===d.nodeName?-d.clientWidth+u.right:-p.width+u.right:u.left,l&&g)c[g]="translate3d("+n+"px, "+s+"px, 0)",c[h]=0,c[f]=0,c.willChange="transform";else{var m="bottom"==h?-1:1,v="right"==f?-1:1;c[h]=s*m,c[f]=n*v,c.willChange=h+", "+f}var b={"x-placement":e.placement};return e.attributes=Ie({},b,e.attributes),e.styles=Ie({},c,e.styles),e.arrowStyles=Ie({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return d(e.instance.popper,e.styles),t=e.instance.popper,i=e.attributes,Object.keys(i).forEach(function(e){!1===i[e]?t.removeAttribute(e):t.setAttribute(e,i[e])}),e.arrowElement&&Object.keys(e.arrowStyles).length&&d(e.arrowElement,e.arrowStyles),e;var t,i},onLoad:function(e,t,i,r,a){var o=l(a,t,e,i.positionFixed),n=s(i.placement,o,t,e,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",n),d(t,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}};var Oe={};if(ue){var Te=Element.prototype;Oe=Te.matches||Te.matchesSelector||Te.webkitMatchesSelector||Te.mozMatchesSelector||Te.msMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;0<=--i&&t.item(i)!==this;);return-1<i}}var Ne=Oe,Ae={},Pe=function(){function r(e){for(var t in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),e)this[t]=e[t];var i;this.state={destroyed:!1,visible:!1,enabled:!0},this._=(i={mutationObservers:[]},function(e){return e===Ae&&i})}return be(r,[{key:"enable",value:function(){this.state.enabled=!0}},{key:"disable",value:function(){this.state.enabled=!1}},{key:"show",value:function(i){var r=this;if(!this.state.destroyed&&this.state.enabled){var a=this.popper,o=this.reference,n=this.options,e=m(a),s=e.tooltip,l=e.backdrop,d=e.content;return n.dynamicTitle&&!o.getAttribute("data-original-title")||o.hasAttribute("disabled")?void 0:o.refObj||document.documentElement.contains(o)?(n.onShow.call(a,this),i=V(void 0===i?n.duration:i,0),W([a,s,l],0),a.style.visibility="visible",this.state.visible=!0,void function(e){var t,i,r,a,o,n,s,l=this.options;if(this.popperInstance?(this.popperInstance.scheduleUpdate(),l.livePlacement&&!U.call(this)&&this.popperInstance.enableEventListeners()):(this.popperInstance=ee.call(this),!l.livePlacement&&this.popperInstance.disableEventListeners()),!U.call(this)){var d=m(this.popper).arrow;d&&(d.style.margin=""),this.popperInstance.reference=this.reference}t=this.popperInstance,i=e,r=!0,a=t.popper,o=t.options,n=o.onCreate,s=o.onUpdate,o.onCreate=o.onUpdate=function(){a.offsetHeight,i&&i(),s(),o.onCreate=n,o.onUpdate=s},r||t.scheduleUpdate(),l.appendTo.contains(this.popper)||l.appendTo.appendChild(this.popper)}.call(this,function(){if(r.state.visible){if(U.call(r)||r.popperInstance.scheduleUpdate(),U.call(r)){r.popperInstance.disableEventListeners();var e=V(n.delay,0),t=r._(Ae).lastTriggerEvent;t&&r._(Ae).followCursorListener(e&&r._(Ae).lastMouseMoveEvent?r._(Ae).lastMouseMoveEvent:t)}W([s,l,l?d:null],i),l&&getComputedStyle(l)[f("transform")],n.interactive&&o.classList.add("tippy-active"),n.sticky&&ie.call(r),X([s,l],"visible"),ae.call(r,i,function(){n.updateDuration||s.classList.add("tippy-notransition"),n.interactive&&Y(a),o.setAttribute("aria-describedby","tippy-"+r.id),n.onShown.call(a,r)})}})):void this.destroy()}}},{key:"hide",value:function(e){var t=this;if(!this.state.destroyed&&this.state.enabled){var i=this.popper,r=this.reference,a=this.options,o=m(i),n=o.tooltip,s=o.backdrop,l=o.content;a.onHide.call(i,this),e=V(void 0===e?a.duration:e,1),a.updateDuration||n.classList.remove("tippy-notransition"),a.interactive&&r.classList.remove("tippy-active"),i.style.visibility="hidden",this.state.visible=!1,W([n,s,s?l:null],e),X([n,s],"hidden"),a.interactive&&-1<a.trigger.indexOf("click")&&Y(r),ae.call(this,e,function(){t.state.visible||!a.appendTo.contains(i)||(!t._(Ae).isPreparingToShow&&(document.removeEventListener("mousemove",t._(Ae).followCursorListener),t._(Ae).lastMouseMoveEvent=null),t.popperInstance&&t.popperInstance.disableEventListeners(),r.removeAttribute("aria-describedby"),a.appendTo.removeChild(i),a.onHidden.call(i,t))})}}},{key:"destroy",value:function(){var t=this,e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.state.destroyed||(this.state.visible&&this.hide(0),this.listeners.forEach(function(e){t.reference.removeEventListener(e.event,e.handler)}),this.title&&this.reference.setAttribute("title",this.title),delete this.reference._tippy,["data-original-title","data-tippy","data-tippy-delegate"].forEach(function(e){t.reference.removeAttribute(e)}),this.options.target&&e&&c(this.reference.querySelectorAll(this.options.target)).forEach(function(e){return e._tippy&&e._tippy.destroy()}),this.popperInstance&&this.popperInstance.destroy(),this._(Ae).mutationObservers.forEach(function(e){e.disconnect()}),this.state.destroyed=!0)}}]),r}(),He=1,Le=!1,ze=!1;return se.version="2.6.0",se.browser=fe,se.defaults=me,se.one=function(e,t){return se(e,t,!0).tooltips[0]},se.disableAnimations=function(){me.updateDuration=me.duration=0,me.animateFill=!1},se.useCapture=function(){ze=!0},function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(ue&&fe.supported){var t=document.head||document.querySelector("head"),i=document.createElement("style");i.type="text/css",t.insertBefore(i,t.firstChild),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('.tippy-touch{cursor:pointer!important}.tippy-notransition{transition:none!important}.tippy-popper{max-width:350px;-webkit-perspective:700px;perspective:700px;z-index:9999;outline:0;transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none;line-height:1.4}.tippy-popper[data-html]{max-width:96%;max-width:calc(100% - 20px)}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-8px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;bottom:-7px;margin:0 6px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 90%;transform-origin:0 90%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,25%);transform:scale(6) translate(-50%,25%);opacity:1}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,25%);transform:scale(1) translate(-50%,25%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(90deg);transform:translateY(0) rotateX(90deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-8px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;top:-7px;margin:0 6px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -90%;transform-origin:0 -90%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,-125%);transform:scale(6) translate(-50%,-125%);opacity:1}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,-125%);transform:scale(1) translate(-50%,-125%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(-90deg);transform:translateY(0) rotateX(-90deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-16px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:100% 0;transform-origin:100% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(40%,-50%);transform:scale(6) translate(40%,-50%);opacity:1}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(40%,-50%);transform:scale(1.5) translate(40%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(-90deg);transform:translateX(0) rotateY(-90deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-16px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-100% 0;transform-origin:-100% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-140%,-50%);transform:scale(6) translate(-140%,-50%);opacity:1}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(-140%,-50%);transform:scale(1.5) translate(-140%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(90deg);transform:translateX(0) rotateY(90deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-animatefill] .tippy-content{transition:-webkit-clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98),-webkit-clip-path cubic-bezier(.46,.1,.52,.98)}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.53,2,.36,.85)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:24px;height:8px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:26%;left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(100% 100% at 50% 50%);clip-path:ellipse(100% 100% at 50% 50%)}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(5% 50% at 50% 50%);clip-path:ellipse(5% 50% at 50% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 0 50%);clip-path:ellipse(135% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 0 50%);clip-path:ellipse(40% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 100% 50%);clip-path:ellipse(135% 100% at 100% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 100% 50%);clip-path:ellipse(40% 100% at 100% 50%)}@media (max-width:360px){.tippy-popper{max-width:96%;max-width:calc(100% - 20px)}}'),se}),jQuery&&function(o){function i(e,t){var i=e?o(this):t,r=o(i.attr("data-jq-dropdown")),a=i.hasClass("jq-dropdown-open");if(e){if(o(e.target).hasClass("jq-dropdown-ignore"))return;e.preventDefault(),e.stopPropagation()}else if(i!==t.target&&o(t.target).hasClass("jq-dropdown-ignore"))return;n(),a||i.hasClass("jq-dropdown-disabled")||(i.addClass("jq-dropdown-open"),r.data("jq-dropdown-trigger",i).show(),s(),r.trigger("show",{jqDropdown:r,trigger:i}))}function n(e){var t=e?o(e.target).parents().addBack():null;if(t&&t.is(".jq-dropdown")){if(!t.is(".jq-dropdown-menu"))return;if(!t.is("A"))return}var i=jQuery.Event("hide");o(document).find(".jq-dropdown:visible").each(function(){var e=o(this);e.hide().removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:e})}),i.isDefaultPrevented()||(o(document).find(".jq-dropdown:visible").each(function(){var e=o(this);e.hide().removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:e})}),o(document).find(".jq-dropdown-open").removeClass("jq-dropdown-open"))}function s(){var e=o(".jq-dropdown:visible").eq(0),t=e.data("jq-dropdown-trigger"),i=t?parseInt(t.attr("data-horizontal-offset")||0,10):null,r=t?parseInt(t.attr("data-vertical-offset")||0,10):null;0!==e.length&&t&&(e.hasClass("jq-dropdown-relative")?e.css({left:e.hasClass("jq-dropdown-anchor-right")?t.position().left-(e.outerWidth(!0)-t.outerWidth(!0))-parseInt(t.css("margin-right"),10)+i:t.position().left+parseInt(t.css("margin-left"),10)+i,top:t.position().top+t.outerHeight(!0)-parseInt(t.css("margin-top"),10)+r}):e.css({left:e.hasClass("jq-dropdown-anchor-right")?t.offset().left-(e.outerWidth()-t.outerWidth())+i:t.offset().left+i,top:t.offset().top+t.outerHeight()+r}))}o.extend(o.fn,{jqDropdown:function(e,t){switch(e){case"show":return i(null,o(this)),o(this);case"hide":return n(),o(this);case"attach":return o(this).attr("data-jq-dropdown",t);case"detach":return n(),o(this).removeAttr("data-jq-dropdown");case"disable":return o(this).addClass("jq-dropdown-disabled");case"enable":return n(),o(this).removeClass("jq-dropdown-disabled")}}}),o(document).on("click.jq-dropdown","[data-jq-dropdown]",i),o(document).on("click.jq-dropdown",n),o(window).on("resize",s)}(jQuery),function(d){function e(e){if("string"==typeof e.data&&(e.data={keys:e.data}),e.data&&e.data.keys&&"string"==typeof e.data.keys){var s=e.handler,l=e.data.keys.toLowerCase().split(" ");e.handler=function(i){if(this===i.target||!(d.hotkeys.options.filterInputAcceptingElements&&d.hotkeys.textInputTypes.test(i.target.nodeName)||d.hotkeys.options.filterContentEditable&&d(i.target).attr("contenteditable")||d.hotkeys.options.filterTextInputs&&-1<d.inArray(i.target.type,d.hotkeys.textAcceptingInputTypes))){var r="keypress"!==i.type&&d.hotkeys.specialKeys[i.which],e=String.fromCharCode(i.which).toLowerCase(),a="",t={};d.each(["alt","ctrl","shift"],function(e,t){i[t+"Key"]&&r!==t&&(a+=t+"+")}),i.metaKey&&!i.ctrlKey&&"meta"!==r&&(a+="meta+"),i.metaKey&&"meta"!==r&&-1<a.indexOf("alt+ctrl+shift+")&&(a=a.replace("alt+ctrl+shift+","hyper+")),r?t[a+r]=!0:(t[a+e]=!0,t[a+d.hotkeys.shiftNums[e]]=!0,"shift+"===a&&(t[d.hotkeys.shiftNums[e]]=!0));for(var o=0,n=l.length;o<n;o++)if(t[l[o]])return s.apply(this,arguments)}}}}d.hotkeys={version:"0.2.0",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},d.each(["keydown","keyup","keypress"],function(){d.event.special[this]={add:e}})}(jQuery||this.jQuery||window.jQuery);